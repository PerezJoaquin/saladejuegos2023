(self.webpackChunksalaDeJuegos=self.webpackChunksalaDeJuegos||[]).push([[179],{2011:(At,fe,$)=>{"use strict";$.d(fe,{Dh:()=>Le,GT:()=>xe,cc:()=>Ye,on:()=>We,pX:()=>ge,xv:()=>Ne});var a=$(4650),O=$(9260);At=$.hmd(At);const V=["ngOnDestroy"],ge=(de,Oe,ve,qe={})=>new Proxy(de,{get:(Pe,Te)=>ve.runOutsideAngular(()=>{var ke;if(de[Te])return!(null===(ke=qe?.spy)||void 0===ke)&&ke.get&&qe.spy.get(Te,de[Te]),de[Te];if(V.indexOf(Te)>-1)return()=>{};const Je=Oe.toPromise().then(He=>{const ce=He&&He[Te];return"function"==typeof ce?ce.bind(He):ce&&ce.then?ce.then(st=>ve.run(()=>st)):ve.run(()=>ce)});return new Proxy(()=>{},{get:(He,ce)=>Je[ce],apply:(He,ce,st)=>Je.then(Et=>{var nt;const un=Et&&Et(...st);return!(null===(nt=qe?.spy)||void 0===nt)&&nt.apply&&qe.spy.apply(Te,st,un),un})})})}),xe=(de,Oe)=>{Oe.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(qe=>{Object.defineProperty(de.prototype,qe,Object.getOwnPropertyDescriptor(ve.prototype||ve,qe))})})};class me{constructor(Oe){return Oe}}const Le=new a.OlP("angularfire2.app.options"),Ne=new a.OlP("angularfire2.app.name");function We(de,Oe,ve){const Pe="object"==typeof ve&&ve||{};Pe.name=Pe.name||"string"==typeof ve&&ve||"[DEFAULT]";const ke=O.Z.apps.filter(Je=>Je&&Je.name===Pe.name)[0]||Oe.runOutsideAngular(()=>O.Z.initializeApp(de,Pe));try{JSON.stringify(de)!==JSON.stringify(ke.options)&&Y("error",`${ke.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(ke)}const Y=(de,...Oe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[de](...Oe)};function Ye(de,Oe,ve,qe,Pe){const[,Te,ke]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===de)||[];if(Te)return function Ue(de,Oe){try{return de.toString()===Oe.toString()}catch{return de===Oe}}(Pe,ke)||(rt("error",`${Oe} was already initialized on the ${ve} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Pe,was:ke})),Te;{const Je=qe();return globalThis.\u0275AngularfireInstanceCache.push([de,Je,Pe]),Je}}const ct=!!At.hot,rt=(de,...Oe)=>{(0,a.X6Q)()&&typeof console<"u"&&console[de](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8502:(At,fe,$)=>{"use strict";$.d(fe,{$:()=>Zt,A:()=>K,B:()=>T,D:()=>Ue,I:()=>zn,J:()=>ji,L:()=>fo,N:()=>Vr,P:()=>hn,Q:()=>hs,R:()=>ju,U:()=>Dh,V:()=>vc,W:()=>nl,X:()=>po,Y:()=>il,Z:()=>Ch,_:()=>ol,a:()=>xr,a0:()=>Sh,a1:()=>ul,a2:()=>Ah,a3:()=>xh,a4:()=>Qr,a5:()=>Su,a6:()=>xu,a7:()=>Ji,a8:()=>Gs,a9:()=>Io,aA:()=>ce,aB:()=>Fg,aC:()=>Gn,aD:()=>Ir,aE:()=>Rg,aF:()=>Mg,aG:()=>Sa,aH:()=>Cn,aL:()=>Ws,aO:()=>fs,aa:()=>pl,ab:()=>fg,ac:()=>pg,ad:()=>Mu,ae:()=>Mh,af:()=>Nh,ai:()=>Zo,aj:()=>gg,ak:()=>Qi,an:()=>Ih,ao:()=>Ic,aq:()=>Mt,ar:()=>xc,as:()=>Et,at:()=>Ft,au:()=>Ie,av:()=>Pe,aw:()=>Vc,ax:()=>Lg,ay:()=>rn,az:()=>Te,b:()=>Fu,c:()=>Wh,d:()=>qh,e:()=>Hu,f:()=>Zy,g:()=>Qh,h:()=>Og,i:()=>Uh,j:()=>g1,k:()=>$g,l:()=>$h,m:()=>hf,o:()=>tv,p:()=>Ne,r:()=>f1,s:()=>Dl,u:()=>go});var a=$(5861),O=$(2090),V=$(6881),ge=$(655),xe=$(1877),me=$(4859);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ct=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new xe.Yd("@firebase/auth");function qe(b,...g){Oe.logLevel<=xe.in.ERROR&&Oe.error(`Auth (${V.SDK_VERSION}): ${b}`,...g)}function Pe(b,...g){throw He(b,...g)}function Te(b,...g){return He(b,...g)}function ke(b,g,_){const E=Object.assign(Object.assign({},ct()),{[g]:_});return new O.LL("auth","Firebase",E).create(g,{appName:b.name})}function Je(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Pe(b,"argument-error"),ke(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(b,...g){if("string"!=typeof b){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return rt.create(b,...g)}function ce(b,g,..._){if(!b)throw He(g,..._)}function st(b){const g="INTERNAL ASSERTION FAILED: "+b;throw qe(g),new Error(g)}function Et(b,g){b||st(g)}function nt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function un(){return"http:"===_t()||"https:"===_t()}function _t(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Se{constructor(g,_){this.shortDelay=g,this.longDelay=_,Et(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ye(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(un()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(b,g){Et(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Qe{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yt=new Se(3e4,6e4);function Ze(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function zt(b,g,_,E){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(b,g,_,E,M={}){return Ht(b,M,(0,a.Z)(function*(){let F={},te={};E&&("GET"===g?te=E:F={body:JSON.stringify(E)});const he=(0,O.xO)(Object.assign({key:b.config.apiKey},te)).slice(1),Xe=yield b._getAdditionalHeaders();return Xe["Content-Type"]="application/json",b.languageCode&&(Xe["X-Firebase-Locale"]=b.languageCode),Qe.fetch()(Ln(b,b.config.apiHost,_,he),Object.assign({method:g,headers:Xe,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Ht(b,g,_){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(b,g,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ge),g);try{const M=new Li(b),F=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const te=yield F.json();if("needConfirmation"in te)throw Yn(b,"account-exists-with-different-credential",te);if(F.ok&&!("errorMessage"in te))return te;{const he=F.ok?te.errorMessage:te.error.message,[Xe,at]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Yn(b,"credential-already-in-use",te);if("EMAIL_EXISTS"===Xe)throw Yn(b,"email-already-in-use",te);if("USER_DISABLED"===Xe)throw Yn(b,"user-disabled",te);const St=E[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw ke(b,St,at);Pe(b,St)}}catch(M){if(M instanceof O.ZR)throw M;Pe(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function en(b,g,_,E){return wn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(b,g,_,E,M={}){const F=yield zt(b,g,_,E,M);return"mfaPendingCredential"in F&&Pe(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Ln(b,g,_,E){const M=`${g}${_}?${E}`;return b.config.emulator?Me(b.config,M):`${b.config.apiScheme}://${M}`}class Li{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Te(this.auth,"network-request-failed")),yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(b,g,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=Te(b,g,E);return M.customData._tokenResponse=_,M}function Hn(){return(Hn=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function oe(){return(oe=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ae(){return(ae=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function se(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function pn(){return(pn=(0,a.Z)(function*(b,g=!1){const _=(0,O.m9)(b),E=yield _.getIdToken(g),M=Yt(E);ce(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,te=F?.sign_in_provider;return{claims:M,token:E,authTime:se(Xt(M.auth_time)),issuedAtTime:se(Xt(M.iat)),expirationTime:se(Xt(M.exp)),signInProvider:te||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(b){return 1e3*Number(b)}function Yt(b){const[g,_,E]=b.split(".");if(void 0===g||void 0===_||void 0===E)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,O.tV)(_);return M?JSON.parse(M):(qe("Failed to decode base64 JWT payload"),null)}catch(M){return qe("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Jt(b,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof O.ZR&&function tt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}class Fn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class xn{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=se(this.lastLoginAt),this.creationTime=se(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(b){return En.apply(this,arguments)}function En(){return En=(0,a.Z)(function*(b){var g;const _=b.auth,E=yield b.getIdToken(),M=yield Jt(b,function ee(b,g){return ae.apply(this,arguments)}(_,{idToken:E}));ce(M?.users.length,_,"internal-error");const F=M.users[0];b._notifyReloadListener(F);const te=null!==(g=F.providerUserInfo)&&void 0!==g&&g.length?function mr(b){return b.map(g=>{var{providerId:_}=g,E=(0,ge._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(F.providerUserInfo):[],he=function tn(b,g){return[...b.filter(E=>!g.some(M=>M.providerId===E.providerId)),...g]}(b.providerData,te),St=!!b.isAnonymous&&!(b.email&&F.passwordHash||he?.length),Qt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:he,metadata:new xn(F.createdAt,F.lastLoginAt),isAnonymous:St};Object.assign(b,Qt)}),En.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(b){const g=(0,O.m9)(b);yield Rn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(b,g){const _=yield Ht(b,{},(0,a.Z)(function*(){const E=(0,O.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:F}=b.config,te=Ln(b,M,"/v1/token",`key=${F}`),he=yield b._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(te,{method:"POST",headers:he,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ce(g.idToken,"internal-error"),ce(typeof g.idToken<"u","internal-error"),ce(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Pt(b){const g=Yt(b);return ce(g,"internal-error"),ce(typeof g.exp<"u","internal-error"),ce(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,a.Z)(function*(){return ce(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,a.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:te}=yield function gn(b,g){return Ho.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(M,F,Number(te))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:M,expirationTime:F}=_,te=new nn;return E&&(ce("string"==typeof E,"internal-error",{appName:g}),te.refreshToken=E),M&&(ce("string"==typeof M,"internal-error",{appName:g}),te.accessToken=M),F&&(ce("number"==typeof F,"internal-error",{appName:g}),te.expirationTime=F),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new nn,this.toJSON())}_performRefresh(){return st("not implemented")}}function si(b,g){ce("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class di{constructor(g){var{uid:_,auth:E,stsTokenManager:M}=g,F=(0,ge._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new xn(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,a.Z)(function*(){const E=yield Jt(_,_.stsTokenManager.getToken(_.auth,g));return ce(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function et(b){return pn.apply(this,arguments)}(this,g)}reload(){return function Qn(b){return Bn.apply(this,arguments)}(this)}_assign(g){this!==g&&(ce(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new di(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,a.Z)(function*(){let M=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Rn(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,a.Z)(function*(){const _=yield g.getIdToken();return yield Jt(g,function Vt(b,g){return Hn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,M,F,te,he,Xe,at,St;const Qt=null!==(E=_.displayName)&&void 0!==E?E:void 0,Or=null!==(M=_.email)&&void 0!==M?M:void 0,No=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,nd=null!==(te=_.photoURL)&&void 0!==te?te:void 0,m1=null!==(he=_.tenantId)&&void 0!==he?he:void 0,Ys=null!==(Xe=_._redirectEventId)&&void 0!==Xe?Xe:void 0,nv=null!==(at=_.createdAt)&&void 0!==at?at:void 0,Gg=null!==(St=_.lastLoginAt)&&void 0!==St?St:void 0,{uid:id,emailVerified:Hc,isAnonymous:Gc,providerData:rd,stsTokenManager:zc}=_;ce(id&&zc,g,"internal-error");const od=nn.fromJSON(this.name,zc);ce("string"==typeof id,g,"internal-error"),si(Qt,g.name),si(Or,g.name),ce("boolean"==typeof Hc,g,"internal-error"),ce("boolean"==typeof Gc,g,"internal-error"),si(No,g.name),si(nd,g.name),si(m1,g.name),si(Ys,g.name),si(nv,g.name),si(Gg,g.name);const sd=new di({uid:id,auth:g,email:Or,emailVerified:Hc,displayName:Qt,isAnonymous:Gc,photoURL:nd,phoneNumber:No,tenantId:m1,stsTokenManager:od,createdAt:nv,lastLoginAt:Gg});return rd&&Array.isArray(rd)&&(sd.providerData=rd.map(Wc=>Object.assign({},Wc))),Ys&&(sd._redirectEventId=Ys),sd}static _fromIdTokenResponse(g,_,E=!1){return(0,a.Z)(function*(){const M=new nn;M.updateFromServerResponse(_);const F=new di({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:E});return yield Rn(F),F})()}}const rr=new Map;function Gn(b){Et(b instanceof Function,"Expected a class definition");let g=rr.get(b);return g?(Et(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,rr.set(b,g),g)}const Vr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,a.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,a.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,a.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function Ir(b,g,_){return`firebase:${b}:${g}:${_}`}class z{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:M,name:F}=this.auth;this.fullUserKey=Ir(this.userKey,M.apiKey,F),this.fullPersistenceKey=Ir("persistence",M.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?di._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,a.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,a.Z)(function*(){if(!_.length)return new z(Gn(Vr),g,E);const M=(yield Promise.all(_.map(function(){var at=(0,a.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return at.apply(this,arguments)}}()))).filter(at=>at);let F=M[0]||Gn(Vr);const te=Ir(E,g.config.apiKey,g.name);let he=null;for(const at of _)try{const St=yield at._get(te);if(St){const Qt=di._fromJSON(g,St);at!==F&&(he=Qt),F=at;break}}catch{}const Xe=M.filter(at=>at._shouldAllowMigration);return F._shouldAllowMigration&&Xe.length?(F=Xe[0],he&&(yield F._set(te,he.toJSON())),yield Promise.all(_.map(function(){var at=(0,a.Z)(function*(St){if(St!==F)try{yield St._remove(te)}catch{}});return function(St){return at.apply(this,arguments)}}())),new z(F,g,E)):new z(F,g,E)})()}}function G(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(J(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(L(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(pt(g))return"Blackberry";if(jt(g))return"Webos";if(B(g))return"Safari";if((g.includes("chrome/")||R(g))&&!g.includes("edge/"))return"Chrome";if(Ie(g))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function L(b=(0,O.z$)()){return/firefox\//i.test(b)}function B(b=(0,O.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function R(b=(0,O.z$)()){return/crios\//i.test(b)}function J(b=(0,O.z$)()){return/iemobile/i.test(b)}function Ie(b=(0,O.z$)()){return/android/i.test(b)}function pt(b=(0,O.z$)()){return/blackberry/i.test(b)}function jt(b=(0,O.z$)()){return/webos/i.test(b)}function Ft(b=(0,O.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function rn(b=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Kt(b=(0,O.z$)()){return Ft(b)||Ie(b)||jt(b)||pt(b)||/windows phone/i.test(b)||J(b)}function Go(b,g=[]){let _;switch(b){case"Browser":_=G((0,O.z$)());break;case"Worker":_=`${G((0,O.z$)())}-${b}`;break;default:_=b}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${V.SDK_VERSION}/${E}`}function ie(){return(ie=(0,a.Z)(function*(b){return(yield zt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $e(b,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(b,g){return zt(b,"GET","/v2/recaptchaConfig",Ze(b,g))})).apply(this,arguments)}function Wt(b){return void 0!==b&&void 0!==b.getResponse}function dn(b){return void 0!==b&&void 0!==b.enterprise}class It{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function yn(b){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=g,E.onerror=M=>{const F=Te("internal-error");F.customData=M,_(F)},E.type="text/javascript",E.charset="UTF-8",function Tn(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(E)})}function Bi(b){return`__${b}${Math.floor(1e6*Math.random())}`}const mh="NO_RECAPTCHA";class la{constructor(g){this.type="recaptcha-enterprise",this.auth=Cn(g)}verify(g="verify",_=!1){var E=this;return(0,a.Z)(function*(){function F(){return F=(0,a.Z)(function*(he){if(!_){if(null==he.tenantId&&null!=he._agentRecaptchaConfig)return he._agentRecaptchaConfig.siteKey;if(null!=he.tenantId&&void 0!==he._tenantRecaptchaConfigs[he.tenantId])return he._tenantRecaptchaConfigs[he.tenantId].siteKey}return new Promise(function(){var Xe=(0,a.Z)(function*(at,St){$e(he,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qt=>{if(void 0!==Qt.recaptchaKey){const Or=new It(Qt);return null==he.tenantId?he._agentRecaptchaConfig=Or:he._tenantRecaptchaConfigs[he.tenantId]=Or,at(Or.siteKey)}St(new Error("recaptcha Enterprise site key undefined"))}).catch(Qt=>{St(Qt)})});return function(at,St){return Xe.apply(this,arguments)}}())}),F.apply(this,arguments)}function te(he,Xe,at){const St=window.grecaptcha;dn(St)?St.enterprise.ready(()=>{St.enterprise.execute(he,{action:g}).then(Qt=>{Xe(Qt)}).catch(()=>{Xe(mh)})}):at(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((he,Xe)=>{(function M(he){return F.apply(this,arguments)})(E.auth).then(at=>{if(!_&&dn(window.grecaptcha))te(at,he,Xe);else{if(typeof window>"u")return void Xe(new Error("RecaptchaVerifier is only supported in browser"));yn("https://www.google.com/recaptcha/enterprise.js?render="+at).then(()=>{te(at,he,Xe)}).catch(St=>{Xe(St)})}}).catch(at=>{Xe(at)})})})()}}function Ci(b,g,_){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(b,g,_,E=!1){const M=new la(b);let F;try{F=yield M.verify(_)}catch{F=yield M.verify(_,!0)}const te=Object.assign({},g);return Object.assign(te,E?{captchaResp:F}:{captchaResponse:F}),Object.assign(te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),te})).apply(this,arguments)}class on{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=F=>new Promise((te,he)=>{try{te(g(F))}catch(Xe){he(Xe)}});E.onAbort=_,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,a.Z)(function*(){if(_.auth.currentUser===g)return;const E=[];try{for(const M of _.queue)yield M(g),M.onAbort&&E.push(M.onAbort)}catch(M){E.reverse();for(const F of E)try{F()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Xn{constructor(g,_,E,M){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ho(this),this.idTokenSubscription=new ho(this),this.beforeStateQueue=new on(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=Gn(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var M,F;if(!E._deleted&&(E.persistenceManager=yield z.create(E,g),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,a.Z)(function*(){var E;const M=yield _.assertedPersistence.getCurrentUser();let F=M,te=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,Xe=F?._redirectEventId,at=yield _.tryRedirectSignIn(g);(!he||he===Xe)&&at?.user&&(F=at.user,te=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(F)}catch(he){F=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(g){var _=this;return(0,a.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,a.Z)(function*(){try{yield Rn(g)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,a.Z)(function*(){const E=g?(0,O.m9)(g):null;return E&&ce(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,a.Z)(function*(){if(!E._deleted)return g&&ce(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,a.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(Gn(g))}))}initializeRecaptchaConfig(){var g=this;return(0,a.Z)(function*(){const _=yield $e(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new It(_);null==g.tenantId?g._agentRecaptchaConfig=E:g._tenantRecaptchaConfigs[g.tenantId]=E,E.emailPasswordEnabled&&new la(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new O.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,a.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&Gn(g)||_._popupRedirectResolver;ce(E,_,"argument-error"),_.redirectPersistenceManager=yield z.create(_,[Gn(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,a.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,a.Z)(function*(){if(g===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,M){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(te,this,"internal-error"),te.then(()=>F(this.currentUser)),"function"==typeof _?g.addObserver(_,E,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(E["X-Firebase-Client"]=M);const F=yield g._getAppCheckToken();return F&&(E["X-Firebase-AppCheck"]=F),E})()}_getAppCheckToken(){var g=this;return(0,a.Z)(function*(){var _;const E=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function ve(b,...g){Oe.logLevel<=xe.in.WARN&&Oe.warn(`Auth (${V.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Cn(b){return(0,O.m9)(b)}class ho{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,O.ne)(_=>this.observer=_)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zn(b,g,_){const E=Cn(b);ce(E._canInitEmulator,E,"emulator-config-failed"),ce(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const M=!!_?.disableWarnings,F=ca(g),{host:te,port:he}=function ai(b){const g=ca(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const F=M[1];return{host:F,port:sn(E.substr(F.length+1))}}{const[F,te]=E.split(":");return{host:F,port:sn(te)}}}(g);E.config.emulator={url:`${F}//${te}${null===he?"":`:${he}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:te,port:he,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function el(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function ca(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function sn(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class ji{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return st("not implemented")}_getIdTokenResponse(g){return st("not implemented")}_linkToIdToken(g,_){return st("not implemented")}_getReauthenticationResolver(g){return st("not implemented")}}function Ps(b,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:resetPassword",Ze(b,g))})).apply(this,arguments)}function yi(b,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jr(){return(jr=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:update",Ze(b,g))})).apply(this,arguments)}function Wo(b,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signInWithPassword",Ze(b,g))})).apply(this,arguments)}function Pn(b,g){return $r.apply(this,arguments)}function $r(){return($r=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:sendOobCode",Ze(b,g))})).apply(this,arguments)}function tl(){return(tl=(0,a.Z)(function*(b,g){return Pn(b,g)})).apply(this,arguments)}function ds(b,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(b,g){return Pn(b,g)})).apply(this,arguments)}function qo(b,g){return $i.apply(this,arguments)}function $i(){return($i=(0,a.Z)(function*(b,g){return Pn(b,g)})).apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(b,g){return Pn(b,g)})).apply(this,arguments)}function ua(){return(ua=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signInWithEmailLink",Ze(b,g))})).apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signInWithEmailLink",Ze(b,g))})).apply(this,arguments)}class Ki extends ji{constructor(g,_,E,M=null){super("password",E),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new Ki(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new Ki(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,a.Z)(function*(){var E;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=g._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const F=yield Ci(g,M,"signInWithPassword");return Wo(g,F)}return Wo(g,M).catch(function(){var F=(0,a.Z)(function*(te){if("auth/missing-recaptcha-token"===te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const he=yield Ci(g,M,"signInWithPassword");return Wo(g,he)}return Promise.reject(te)});return function(te){return F.apply(this,arguments)}}());case"emailLink":return function Yr(b,g){return ua.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Pe(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return yi(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function da(b,g){return Ls.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Pe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function To(b,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signInWithIdp",Ze(b,g))})).apply(this,arguments)}class fo extends ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new fo(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Pe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M}=_,F=(0,ge._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const te=new fo(E,M);return te.idToken=F.idToken||void 0,te.accessToken=F.accessToken||void 0,te.secret=F.secret,te.nonce=F.nonce,te.pendingToken=F.pendingToken||null,te}_getIdTokenResponse(g){return To(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,To(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,To(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,O.xO)(_)}return g}}function Bs(){return(Bs=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:sendVerificationCode",Ze(b,g))})).apply(this,arguments)}function Du(){return(Du=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signInWithPhoneNumber",Ze(b,g))})).apply(this,arguments)}function mc(){return(mc=(0,a.Z)(function*(b,g){const _=yield en(b,"POST","/v1/accounts:signInWithPhoneNumber",Ze(b,g));if(_.temporaryProof)throw Yn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const _c={USER_NOT_FOUND:"user-not-found"};function bh(){return(bh=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signInWithPhoneNumber",Ze(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),_c)})).apply(this,arguments)}class fa extends ji{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new fa({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new fa({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function yh(b,g){return Du.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function vh(b,g){return mc.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function yc(b,g){return bh.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:F}=g;return E||_||M||F?new fa({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:F}):null}}class Us{constructor(g){var _,E,M,F,te,he;const Xe=(0,O.zd)((0,O.pd)(g)),at=null!==(_=Xe.apiKey)&&void 0!==_?_:null,St=null!==(E=Xe.oobCode)&&void 0!==E?E:null,Qt=function Tu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Xe.mode)&&void 0!==M?M:null);ce(at&&St&&Qt,"argument-error"),this.apiKey=at,this.operation=Qt,this.code=St,this.continueUrl=null!==(F=Xe.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(te=Xe.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(he=Xe.tenantId)&&void 0!==he?he:null}static parseLink(g){const _=function wh(b){const g=(0,O.zd)((0,O.pd)(b)).link,_=g?(0,O.zd)((0,O.pd)(g)).deep_link_id:null,E=(0,O.zd)((0,O.pd)(b)).deep_link_id;return(E?(0,O.zd)((0,O.pd)(E)).link:null)||E||_||g||b}(g);try{return new Us(_)}catch{return null}}}let hs=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return Ki._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=Us.parseLink(E);return ce(M,"argument-error"),Ki._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Co{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Vs extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class po extends Vs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ce("providerId"in _&&"signInMethod"in _,"argument-error"),fo._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ce(g.idToken||g.accessToken,"argument-error"),fo._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return po.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return po.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:F,nonce:te,providerId:he}=g;if(!E&&!M&&!_&&!F||!he)return null;try{return new po(he)._credential({idToken:_,accessToken:E,nonce:te,pendingToken:F})}catch{return null}}}let Dh=(()=>{class b extends Vs{constructor(){super("facebook.com")}static credential(_){return fo._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),vc=(()=>{class b extends Vs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return fo._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return b.credential(E,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),nl=(()=>{class b extends Vs{constructor(){super("github.com")}static credential(_){return fo._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class fs extends ji{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return To(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,To(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,To(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M,pendingToken:F}=_;return E&&M&&F&&E===M?new fs(E,F):null}static _create(g,_){return new fs(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class il extends Co{constructor(g){ce(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return il.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return il.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=fs.fromJSON(g);return ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return fs._create(E,_)}catch{return null}}}let Ch=(()=>{class b extends Vs{constructor(){super("twitter.com")}static credential(_,E){return fo._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return b.credential(E,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function pa(b,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signUp",Ze(b,g))})).apply(this,arguments)}class ei{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,M=!1){return(0,a.Z)(function*(){const F=yield di._fromIdTokenResponse(g,E,M),te=rl(E);return new ei({user:F,providerId:te,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const M=rl(E);return new ei({user:g,providerId:M,_tokenResponse:E,operationType:_})})()}}function rl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ol(b){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(b){var g;const _=Cn(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new ei({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield pa(_,{returnSecureToken:!0}),M=yield ei._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Hr extends O.ZR{constructor(g,_,E,M){var F;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Hr.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,M){return new Hr(g,_,E,M)}}function ma(b,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Hr._fromErrorAndOperation(b,F,g,E):F})}function Hi(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Ih(b,g){return sl.apply(this,arguments)}function sl(){return sl=(0,a.Z)(function*(b,g){const _=(0,O.m9)(b);yield al(!0,_,g);const{providerUserInfo:E}=yield function Jn(b,g){return oe.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=Hi(E||[]);return _.providerData=_.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),sl.apply(this,arguments)}function ps(b,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(b,g,_=!1){const E=yield Jt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return ei._forOperation(b,"link",E)})).apply(this,arguments)}function al(b,g,_){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(b,g,_){yield Rn(g);const M=!1===b?"provider-already-linked":"no-such-provider";ce(Hi(g.providerData).has(_)===b,g.auth,M)})).apply(this,arguments)}function Iu(b,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,a.Z)(function*(b,g,_=!1){const{auth:E}=b,M="reauthenticate";try{const F=yield Jt(b,ma(E,M,g,b),_);ce(F.idToken,E,"internal-error");const te=Yt(F.idToken);ce(te,E,"internal-error");const{sub:he}=te;return ce(b.uid===he,E,"user-mismatch"),ei._forOperation(b,M,F)}catch(F){throw"auth/user-not-found"===F?.code&&Pe(E,"user-mismatch"),F}})).apply(this,arguments)}function ll(b,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(b,g,_=!1){const E="signIn",M=yield ma(b,E,g),F=yield ei._fromIdTokenResponse(b,E,M);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Zt(b,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,a.Z)(function*(b,g){return ll(Cn(b),g)})).apply(this,arguments)}function Sh(b,g){return bc.apply(this,arguments)}function bc(){return(bc=(0,a.Z)(function*(b,g){const _=(0,O.m9)(b);return yield al(!1,_,g.providerId),ps(_,g)})).apply(this,arguments)}function ul(b,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(b,g){return Iu((0,O.m9)(b),g)})).apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(b,g){return en(b,"POST","/v1/accounts:signInWithCustomToken",Ze(b,g))})).apply(this,arguments)}function Ah(b,g){return De.apply(this,arguments)}function De(){return De=(0,a.Z)(function*(b,g){const _=Cn(b),E=yield function wc(b,g){return hl.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),M=yield ei._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M}),De.apply(this,arguments)}class mn{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?$s._fromServerResponse(g,_):"totpInfo"in _?Ec._fromServerResponse(g,_):Pe(g,"internal-error")}}class $s extends mn{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new $s(_)}}class Ec extends mn{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Ec(_)}}function li(b,g,_){var E;ce((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),ce(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ce(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ce(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function xh(b,g,_){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,a.Z)(function*(b,g,_){var E;const M=Cn(b),F={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const te=yield Ci(M,F,"getOobCode",!0);_&&li(M,te,_),yield ds(M,te)}else _&&li(M,F,_),yield ds(M,F).catch(function(){var te=(0,a.Z)(function*(he){if("auth/missing-recaptcha-token"!==he.code)return Promise.reject(he);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Xe=yield Ci(M,F,"getOobCode",!0);_&&li(M,Xe,_),yield ds(M,Xe)}});return function(he){return te.apply(this,arguments)}}())}),Hs.apply(this,arguments)}function Qr(b,g,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,a.Z)(function*(b,g,_){yield Ps((0,O.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Su(b,g){return Au.apply(this,arguments)}function Au(){return Au=(0,a.Z)(function*(b,g){yield function cs(b,g){return jr.apply(this,arguments)}((0,O.m9)(b),{oobCode:g})}),Au.apply(this,arguments)}function xu(b,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,a.Z)(function*(b,g){const _=(0,O.m9)(b),E=yield Ps(_,{oobCode:g}),M=E.requestType;switch(ce(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(E.mfaInfo,_,"internal-error");default:ce(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=mn._fromServerResponse(Cn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function Ji(b,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(b,g){const{data:_}=yield xu((0,O.m9)(b),g);return _.email})).apply(this,arguments)}function Gs(b,g,_){return gs.apply(this,arguments)}function gs(){return gs=(0,a.Z)(function*(b,g,_){var E;const M=Cn(b),F={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let te;if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const at=yield Ci(M,F,"signUpPassword");te=pa(M,at)}else te=pa(M,F).catch(function(){var at=(0,a.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Qt=yield Ci(M,F,"signUpPassword");return pa(M,Qt)}return Promise.reject(St)});return function(St){return at.apply(this,arguments)}}());const he=yield te.catch(at=>Promise.reject(at)),Xe=yield ei._fromIdTokenResponse(M,"signIn",he);return yield M._updateCurrentUser(Xe.user),Xe}),gs.apply(this,arguments)}function Io(b,g,_){return Zt((0,O.m9)(b),hs.credential(g,_))}function pl(b,g,_){return va.apply(this,arguments)}function va(){return va=(0,a.Z)(function*(b,g,_){var E;const M=Cn(b),F={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function te(he,Xe){ce(Xe.handleCodeInApp,M,"argument-error"),Xe&&li(M,he,Xe)}if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const he=yield Ci(M,F,"getOobCode",!0);te(he,_),yield qo(M,he)}else te(F,_),yield qo(M,F).catch(function(){var he=(0,a.Z)(function*(Xe){if("auth/missing-recaptcha-token"!==Xe.code)return Promise.reject(Xe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const at=yield Ci(M,F,"getOobCode",!0);te(at,_),yield qo(M,at)}});return function(Xe){return he.apply(this,arguments)}}())}),va.apply(this,arguments)}function fg(b,g){return"EMAIL_SIGNIN"===Us.parseLink(g)?.operation}function pg(b,g,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b),M=hs.credentialWithLink(g,_||nt());return ce(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Zt(E,M)})).apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:createAuthUri",Ze(b,g))})).apply(this,arguments)}function Mu(b,g){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,a.Z)(function*(b,g){const E={identifier:g,continueUri:un()?nt():"http://localhost"},{signinMethods:M}=yield function wa(b,g){return Dc.apply(this,arguments)}((0,O.m9)(b),E);return M||[]}),Nu.apply(this,arguments)}function Mh(b,g){return gl.apply(this,arguments)}function gl(){return gl=(0,a.Z)(function*(b,g){const _=(0,O.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&li(_.auth,M,g);const{email:F}=yield function us(b,g){return tl.apply(this,arguments)}(_.auth,M);F!==b.email&&(yield b.reload())}),gl.apply(this,arguments)}function Nh(b,g,_){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&li(E.auth,F,_);const{email:te}=yield function dg(b,g){return or.apply(this,arguments)}(E.auth,F);te!==b.email&&(yield b.reload())}),Tc.apply(this,arguments)}function Cc(){return(Cc=(0,a.Z)(function*(b,g){return zt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zo(b,g){return ml.apply(this,arguments)}function ml(){return ml=(0,a.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,O.m9)(b),F={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},te=yield Jt(E,function Oh(b,g){return Cc.apply(this,arguments)}(E.auth,F));E.displayName=te.displayName||null,E.photoURL=te.photoUrl||null;const he=E.providerData.find(({providerId:Xe})=>"password"===Xe);he&&(he.displayName=E.displayName,he.photoURL=E.photoURL),yield E._updateTokensIfNecessary(te)}),ml.apply(this,arguments)}function gg(b,g){return Ko((0,O.m9)(b),g,null)}function Qi(b,g){return Ko((0,O.m9)(b),null,g)}function Ko(b,g,_){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(b,g,_){const{auth:E}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(F.email=g),_&&(F.password=_);const te=yield Jt(b,yi(E,F));yield b._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class zs{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class Ou extends zs{constructor(g,_,E,M){super(g,_,E),this.username=M}}class mg extends zs{constructor(g,_){super(g,"facebook.com",_)}}class _g extends Ou{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class So extends zs{constructor(g,_){super(g,"google.com",_)}}class Yo extends Ou{constructor(g,_,E){super(g,"twitter.com",_,E)}}function Ic(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function kh(b){var g,_;if(!b)return null;const{providerId:E}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const te=null===(_=null===(g=Yt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new zs(F,"anonymous"!==te&&"custom"!==te?te:null)}if(!E)return null;switch(E){case"facebook.com":return new mg(F,M);case"github.com":return new _g(F,M);case"google.com":return new So(F,M);case"twitter.com":return new Yo(F,M,b.screenName||null);case"custom":case"anonymous":return new zs(F,null);default:return new zs(F,E,M)}}(_)}function T(b){return(0,O.m9)(b).signOut()}class H{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new H("enroll",g,_)}static _fromMfaPendingCredential(g){return new H("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return H._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return H._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ee{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=Cn(g),M=_.customData._serverResponse,F=(M.mfaInfo||[]).map(he=>mn._fromServerResponse(E,he));ce(M.mfaPendingCredential,E,"internal-error");const te=H._fromMfaPendingCredential(M.mfaPendingCredential);return new Ee(te,F,function(){var he=(0,a.Z)(function*(Xe){const at=yield Xe._process(E,te);delete M.mfaInfo,delete M.mfaPendingCredential;const St=Object.assign(Object.assign({},M),{idToken:at.idToken,refreshToken:at.refreshToken});switch(_.operationType){case"signIn":const Qt=yield ei._fromIdTokenResponse(E,_.operationType,St);return yield E._updateCurrentUser(Qt.user),Qt;case"reauthenticate":return ce(_.user,E,"internal-error"),ei._forOperation(_.user,_.operationType,St);default:Pe(E,"internal-error")}});return function(Xe){return he.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,a.Z)(function*(){return _.signInResolver(g)})()}}function Mt(b,g){var _;const E=(0,O.m9)(b),M=g;return ce(g.customData.operationType,E,"argument-error"),ce(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Ee._fromError(E,M)}class yl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>mn._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new yl(g)}getSession(){var g=this;return(0,a.Z)(function*(){return H._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,a.Z)(function*(){const M=g,F=yield E.getSession(),te=yield Jt(E.user,M._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(te),E.user.reload()})()}unenroll(g){var _=this;return(0,a.Z)(function*(){const E="string"==typeof g?g:g.uid,M=yield _.user.getIdToken();try{const F=yield Jt(_.user,function Ao(b,g){return zt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ze(b,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==E),yield _.user._updateTokensIfNecessary(F),yield _.user.reload()}catch(F){throw F}})()}}const Ac=new WeakMap;function xc(b){const g=(0,O.m9)(b);return Ac.has(g)||Ac.set(g,yl._fromUser(g)),Ac.get(g)}const Pu="__sak";class Mc{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Pu,"1"),this.storage.removeItem(Pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fu=(()=>{class b extends Mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rh(){const b=(0,O.z$)();return B(b)||Ft(b)}()&&function hi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Kt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),F=this.localCache[E];M!==F&&_(E,F,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((he,Xe,at)=>{this.notifyListeners(he,at)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(M);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const F=()=>{const he=this.storage.getItem(M);!E&&this.localCache[M]===he||this.notifyListeners(M,he)},te=this.storage.getItem(M);!function Un(){return(0,O.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,F=this;return(0,a.Z)(function*(){yield M().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,a.Z)(function*(){const F=yield E().call(M,_);return M.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,M=this;return(0,a.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),xr=(()=>{class b extends Mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let Lu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,a.Z)(function*(){const M=_,{eventId:F,eventType:te,data:he}=M.data,Xe=E.handlersMap[te];if(!Xe?.size)return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:te});const at=Array.from(Xe).map(function(){var Qt=(0,a.Z)(function*(Or){return Or(M.origin,he)});return function(Or){return Qt.apply(this,arguments)}}()),St=yield function Ph(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(at);M.ports[0].postMessage({status:"done",eventId:F,eventType:te,response:St})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ws(b="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return b+_}class Fh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var M=this;return(0,a.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let te,he;return new Promise((Xe,at)=>{const St=Ws("",20);F.port1.start();const Qt=setTimeout(()=>{at(new Error("unsupported_event"))},E);he={messageChannel:F,onMessage(Or){const No=Or;if(No.data.eventId===St)switch(No.data.status){case"ack":clearTimeout(Qt),te=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),Xe(No.data.response);break;default:clearTimeout(Qt),clearTimeout(te),at(new Error("invalid_response"))}}},M.handlers.add(he),F.port1.addEventListener("message",he.onMessage),M.target.postMessage({eventType:g,eventId:St,data:_},[F.port2])}).finally(()=>{he&&M.removeMessageHandler(he)})})()}}function pi(){return window}function Bu(){return typeof pi().WorkerGlobalScope<"u"&&"function"==typeof pi().importScripts}function kc(){return(kc=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wg="firebaseLocalStorageDb",vl=1,_s="firebaseLocalStorage",jy="fbase_key";class Ta{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Uu(b,g){return b.transaction([_s],g?"readwrite":"readonly").objectStore(_s)}function Lh(){const b=indexedDB.open(wg,vl);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(_s,{keyPath:jy})}catch(M){_(M)}}),b.addEventListener("success",(0,a.Z)(function*(){const E=b.result;E.objectStoreNames.contains(_s)?g(E):(E.close(),yield function bl(){const b=indexedDB.deleteDatabase(wg);return new Ta(b).toPromise()}(),g(yield Lh()))}))})}function Bh(b,g,_){return wl.apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(b,g,_){const E=Uu(b,!0).put({[jy]:g,value:_});return new Ta(E).toPromise()})).apply(this,arguments)}function Rc(){return(Rc=(0,a.Z)(function*(b,g){const _=Uu(b,!1).get(g),E=yield new Ta(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Pc(b,g){const _=Uu(b,!0).delete(g);return new Ta(_).toPromise()}const Uh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield Lh()),_.db})()}_withRetries(_){var E=this;return(0,a.Z)(function*(){let M=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(M++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return Bu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=Lu._getInstance(function bg(){return Bu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(M,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(M,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function yg(){return kc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Fh(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);F&&null!==(E=F[0])&&void 0!==E&&E.fulfilled&&null!==(M=F[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function vg(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Lh();return yield Bh(_,Pu,"1"),yield Pc(_,Pu),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,a.Z)(function*(){return M._withPendingWrite((0,a.Z)(function*(){return yield M._withRetries(F=>Bh(F,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,a.Z)(function*(){const M=yield E._withRetries(F=>function $y(b,g){return Rc.apply(this,arguments)}(F,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(M=>Pc(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const E=yield _._withRetries(te=>{const he=Uu(te,!1).getAll();return new Ta(he).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:te,value:he}of E)F.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(he)&&(_.notifyListeners(te,he),M.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!F.has(te)&&(_.notifyListeners(te,null),M.push(te));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Vh=1e12;class h1{constructor(g){this.auth=g,this.counter=Vh,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new Tg(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||Vh;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Vh))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,a.Z)(function*(){var E;return null===(E=_._widgets.get(g||Vh))||void 0===E||E.execute(),""})()}}class Tg{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ce(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gy(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zy=Bi("rcb"),SI=new Se(3e4,6e4);class Fc{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=pi().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ce(function xI(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&Wt(pi().grecaptcha)?Promise.resolve(pi().grecaptcha):new Promise((E,M)=>{const F=pi().setTimeout(()=>{M(Te(g,"network-request-failed"))},SI.get());pi()[zy]=()=>{pi().clearTimeout(F),delete pi()[zy];const he=pi().grecaptcha;if(!he||!Wt(he))return void M(Te(g,"internal-error"));const Xe=he.render;he.render=(at,St)=>{const Qt=Xe(at,St);return this.counter++,Qt},this.hostLanguage=_,E(he)},yn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:zy,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),M(Te(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=pi().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class MI{load(g){return(0,a.Z)(function*(){return new h1(g)})()}clearedOneInstance(){}}const Gi="recaptcha",Cg={theme:"light",type:"image"};class ju{constructor(g,_=Object.assign({},Cg),E){this.parameters=_,this.type=Gi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(E),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ce(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MI:new Fc,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const te=he=>{he&&(g.tokenChangeListeners.delete(te),F(he))};g.tokenChangeListeners.add(te),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=pi()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){ce(un()&&!Bu(),g.auth,"internal-error"),yield function Wy(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function _e(b){return ie.apply(this,arguments)}(g.auth);ce(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class eo{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=fa._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Dl(b,g,_){return jh.apply(this,arguments)}function jh(){return(jh=(0,a.Z)(function*(b,g,_){const E=Cn(b),M=yield Hh(E,g,(0,O.m9)(_));return new eo(M,F=>Zt(E,F))})).apply(this,arguments)}function $h(b,g,_){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b);yield al(!1,E,"phone");const M=yield Hh(E.auth,g,(0,O.m9)(_));return new eo(M,F=>Sh(E,F))})).apply(this,arguments)}function f1(b,g,_){return qy.apply(this,arguments)}function qy(){return(qy=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b),M=yield Hh(E.auth,g,(0,O.m9)(_));return new eo(M,F=>ul(E,F))})).apply(this,arguments)}function Hh(b,g,_){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,a.Z)(function*(b,g,_){var E;const M=yield _.verify();try{let F;if(ce("string"==typeof M,b,"argument-error"),ce(_.type===Gi,b,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const te=F.session;if("phoneNumber"in F)return ce("enroll"===te.type,b,"internal-error"),(yield function On(b,g){return zt(b,"POST","/v2/accounts/mfaEnrollment:start",Ze(b,g))}(b,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ce("signin"===te.type,b,"internal-error");const he=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return ce(he,b,"missing-multi-factor-info"),(yield function Eg(b,g){return zt(b,"POST","/v2/accounts/mfaSignIn:start",Ze(b,g))}(b,{mfaPendingCredential:te.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield function hg(b,g){return Bs.apply(this,arguments)}(b,{phoneNumber:F.phoneNumber,recaptchaToken:M});return te}}finally{_._reset()}}),Ig.apply(this,arguments)}function go(b,g){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(b,g){yield ps((0,O.m9)(b),g)})).apply(this,arguments)}let hn=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Cn(_)}verifyPhoneNumber(_,E){return Hh(this.auth,_,(0,O.m9)(E))}static credential(_,E){return fa._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?fa._fromTokenResponse(E,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Cl(b,g){return g?Gn(g):(ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class $u extends ji{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return To(g,this._buildIdpRequest())}_linkToIdToken(g,_){return To(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return To(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function xt(b){return ll(b.auth,new $u(b),b.bypassAuthState)}function xo(b){const{auth:g,user:_}=b;return ce(_,g,"internal-error"),Iu(_,new $u(b),b.bypassAuthState)}function Mo(b){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,a.Z)(function*(b){const{auth:g,user:_}=b;return ce(_,g,"internal-error"),ps(_,new $u(b),b.bypassAuthState)})).apply(this,arguments)}class zh{constructor(g,_,E,M,F=!1){this.auth=g,this.resolver=E,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,a.Z)(function*(E,M){g.pendingPromise={resolve:E,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:F,tenantId:te,error:he,type:Xe}=g;if(he)return void _.reject(he);const at={auth:_.auth,requestUri:E,sessionId:M,tenantId:te||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Xe)(at))}catch(St){_.reject(St)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return xt;case"linkViaPopup":case"linkViaRedirect":return Mo;case"reauthViaPopup":case"reauthViaRedirect":return xo;default:Pe(this.auth,"internal-error")}}resolve(g){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sg=new Se(2e3,1e4);function Wh(b,g,_){return Il.apply(this,arguments)}function Il(){return(Il=(0,a.Z)(function*(b,g,_){const E=Cn(b);Je(b,g,Co);const M=Cl(E,_);return new Lc(E,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Hu(b,g,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b);Je(E.auth,g,Co);const M=Cl(E.auth,_);return new Lc(E.auth,"reauthViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}function qh(b,g,_){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b);Je(E.auth,g,Co);const M=Cl(E.auth,_);return new Lc(E.auth,"linkViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}let Lc=(()=>{class b extends zh{constructor(_,E,M,F,te){super(_,E,F,te),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const E=yield _.execute();return ce(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,a.Z)(function*(){Et(1===_.filter.length,"Popup operations only handle one event");const E=Ws();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Te(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Sg.get())};_()}}return b.currentPopupAction=null,b})();const Ag="pendingRedirect",bs=new Map;class Sl extends zh{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,a.Z)(function*(){let E=bs.get(_.auth._key());if(!E){try{const F=(yield function xg(b,g){return Zh.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(F)}catch(M){E=()=>Promise.reject(M)}bs.set(_.auth._key(),E)}return _.bypassAuthState||bs.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const M=yield E.auth._redirectUserForId(g.eventId);if(M)return E.user=M,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Zh(){return(Zh=(0,a.Z)(function*(b,g){const _=Yh(g),E=p1(b);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function Kh(b,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(b,g){return p1(b)._set(Yh(g),"true")})).apply(this,arguments)}function Sa(){bs.clear()}function Mg(b,g){bs.set(b._key(),g)}function p1(b){return Gn(b._redirectPersistence)}function Yh(b){return Ir(Ag,b.config.apiKey,b.name)}function Zy(b,g,_){return function Ng(b,g,_){return Gu.apply(this,arguments)}(b,g,_)}function Gu(){return(Gu=(0,a.Z)(function*(b,g,_){const E=Cn(b);Je(b,g,Co),yield E._initializationPromise;const M=Cl(E,_);return yield Kh(M,E),M._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Og(b,g,_){return function Jh(b,g,_){return Aa.apply(this,arguments)}(b,g,_)}function Aa(){return(Aa=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b);Je(E.auth,g,Co),yield E.auth._initializationPromise;const M=Cl(E.auth,_);yield Kh(M,E.auth);const F=yield Jo(E);return M._openRedirect(E.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function Qh(b,g,_){return function kg(b,g,_){return zu.apply(this,arguments)}(b,g,_)}function zu(){return(zu=(0,a.Z)(function*(b,g,_){const E=(0,O.m9)(b);Je(E.auth,g,Co),yield E.auth._initializationPromise;const M=Cl(E.auth,_);yield al(!1,E,g.providerId),yield Kh(M,E.auth);const F=yield Jo(E);return M._openRedirect(E.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function g1(b,g){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,a.Z)(function*(b,g){return yield Cn(b)._initializationPromise,Rg(b,g,!1)})).apply(this,arguments)}function Rg(b,g){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,a.Z)(function*(b,g,_=!1){const E=Cn(b),M=Cl(E,g),te=yield new Sl(E,M,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield E._persistUserIfCurrent(te.user),yield E._setRedirectUser(null,g)),te})).apply(this,arguments)}function Jo(b){return Al.apply(this,arguments)}function Al(){return(Al=(0,a.Z)(function*(b){const g=Ws(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Fg{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ky(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ef(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!ef(g)){const M=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Te(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xl(g))}saveEventToCache(g){this.cachedEventUids.add(xl(g)),this.lastProcessedEventTime=Date.now()}}function xl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function ef({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Lg(b){return qu.apply(this,arguments)}function qu(){return(qu=(0,a.Z)(function*(b,g={}){return zt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Bg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yy=/^https?/;function Bc(){return(Bc=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Lg(b);for(const _ of g)try{if(Zu(_))return}catch{}Pe(b,"unauthorized-domain")})).apply(this,arguments)}function Zu(b){const g=nt(),{protocol:_,hostname:E}=new URL(g);if(b.startsWith("chrome-extension://")){const te=new URL(b);return""===te.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===E}if(!Yy.test(_))return!1;if(Bg.test(b))return E===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const tf=new Se(3e4,6e4);function nf(){const b=pi().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ml=null;const Qy=new Se(5e3,15e3),xa="__/auth/iframe",qs="emulator/auth/iframe",Vg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ev(b){const g=b.config;ce(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Me(g,qs):`https://${b.config.authDomain}/${xa}`,E={apiKey:g.apiKey,appName:b.name,v:V.SDK_VERSION},M=Xy.get(b.config.apiHost);M&&(E.eid=M);const F=b._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,O.xO)(E).slice(1)}`}function sf(){return sf=(0,a.Z)(function*(b){const g=yield function Jy(b){return Ml=Ml||function Qo(b){return new Promise((g,_)=>{var E,M,F;function te(){nf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{nf(),_(Te(b,"network-request-failed"))},timeout:tf.get()})}if(null!==(M=null===(E=pi().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(F=pi().gapi)||void 0===F||!F.load){const he=Bi("iframefcb");return pi()[he]=()=>{gapi.load?te():_(Te(b,"network-request-failed"))},yn(`https://apis.google.com/js/api.js?onload=${he}`).catch(Xe=>_(Xe))}te()}}).catch(g=>{throw Ml=null,g})}(b),Ml}(b),_=pi().gapi;return ce(_,b,"internal-error"),g.open({where:document.body,url:ev(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vg,dontclear:!0},E=>new Promise(function(){var M=(0,a.Z)(function*(F,te){yield E.restyle({setHideOnLeave:!1});const he=Te(b,"network-request-failed"),Xe=pi().setTimeout(()=>{te(he)},Qy.get());function at(){pi().clearTimeout(Xe),F(E)}E.ping(at).then(at,()=>{te(he)})});return function(F,te){return M.apply(this,arguments)}}()))}),sf.apply(this,arguments)}const Ma={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nr=500,Ku=600,jg="_blank",af="http://localhost";class ci{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Uc="__/auth/handler",lf="emulator/auth/handler",Ju=encodeURIComponent("fac");function Vc(b,g,_,E,M,F){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(b,g,_,E,M,F){ce(b.config.authDomain,b,"auth-domain-config-required"),ce(b.config.apiKey,b,"invalid-api-key");const te={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:V.SDK_VERSION,eventId:M};if(g instanceof Co){g.setDefaultLanguage(b.languageCode),te.providerId=g.providerId||"",(0,O.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[St,Qt]of Object.entries(F||{}))te[St]=Qt}if(g instanceof Vs){const St=g.getScopes().filter(Qt=>""!==Qt);St.length>0&&(te.scopes=St.join(","))}b.tenantId&&(te.tid=b.tenantId);const he=te;for(const St of Object.keys(he))void 0===he[St]&&delete he[St];const Xe=yield b._getAppCheckToken(),at=Xe?`#${Ju}=${encodeURIComponent(Xe)}`:"";return`${function cf({config:b}){return b.emulator?Me(b,lf):`https://${b.authDomain}/${Uc}`}(b)}?${(0,O.xO)(he).slice(1)}${at}`})).apply(this,arguments)}const Nl="webStorageSupport",$g=class uf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xr,this._completeRedirectFn=Rg,this._overrideRedirectResult=Mg}_openPopup(g,_,E,M){var F=this;return(0,a.Z)(function*(){var te;Et(null===(te=F.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const he=yield Vc(g,_,E,nt(),M);return function Na(b,g,_,E=Nr,M=Ku){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),te=Math.max((window.screen.availWidth-E)/2,0).toString();let he="";const Xe=Object.assign(Object.assign({},Ma),{width:E.toString(),height:M.toString(),top:F,left:te}),at=(0,O.z$)().toLowerCase();_&&(he=R(at)?jg:_),L(at)&&(g=g||af,Xe.scrollbars="yes");const St=Object.entries(Xe).reduce((Or,[No,nd])=>`${Or}${No}=${nd},`,"");if(function Gt(b=(0,O.z$)()){var g;return Ft(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(at)&&"_self"!==he)return function Yu(b,g){const _=document.createElement("a");_.href=b,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",he),new ci(null);const Qt=window.open(g||"",he,St);ce(Qt,b,"popup-blocked");try{Qt.focus()}catch{}return new ci(Qt)}(g,he,Ws())})()}_openRedirect(g,_,E,M){var F=this;return(0,a.Z)(function*(){return yield F._originValidation(g),function Oc(b){pi().location.href=b}(yield Vc(g,_,E,nt(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:F}=this.eventManagers[_];return M?Promise.resolve(M):(Et(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,a.Z)(function*(){const E=yield function rf(b){return sf.apply(this,arguments)}(g),M=new Fg(g);return E.register("authEvent",F=>(ce(F?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=E,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Nl,{type:Nl},M=>{var F;const te=null===(F=M?.[0])||void 0===F?void 0:F[Nl];void 0!==te&&_(!!te),Pe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ug(b){return Bc.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Kt()||B()||Ft()}};class df{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return st("unexpected MultiFactorSessionType")}}}class jc extends df{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new jc(g)}_finalizeEnroll(g,_,E){return function Xi(b,g){return zt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ze(b,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function El(b,g){return zt(b,"POST","/v2/accounts/mfaSignIn:finalize",Ze(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hf=(()=>{class b{constructor(){}static assertion(_){return jc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Xu="@firebase/auth";class Ks{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{g(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _f=(0,O.Pz)("authIdTokenMaxAge")||300;let td=null;const Hg=b=>function(){var g=(0,a.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),M=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(M&&M>_f)return;const F=E?.token;td!==F&&(td=F,yield fetch(b,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function tv(b=(0,V.getApp)()){const g=(0,V._getProvider)(b,"auth");if(g.isInitialized())return g.getImmediate();const _=function Ui(b,g){const _=(0,V._getProvider)(b,"auth");if(_.isInitialized()){const M=_.getImmediate(),F=_.getOptions();if((0,O.vZ)(F,g??{}))return M;Pe(M,"already-initialized")}return _.initialize({options:g})}(b,{popupRedirectResolver:$g,persistence:[Uh,Fu,xr]}),E=(0,O.Pz)("authTokenSyncURL");if(E){const F=Hg(E);(function Ea(b,g,_){(0,O.m9)(b).beforeAuthStateChanged(g,_)})(_,F,()=>F(_.currentUser)),function _l(b,g,_,E){(0,O.m9)(b).onIdTokenChanged(g,_,E)}(_,te=>F(te))}const M=(0,O.q4)("auth");return M&&zn(_,`http://${M}`),_}!function ed(b){(0,V._registerComponent)(new me.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),F=g.getProvider("app-check-internal"),{apiKey:te,authDomain:he}=E.options;ce(te&&!te.includes(":"),"invalid-api-key",{appName:E.name}),ce(!he?.includes(":"),"argument-error",{appName:E.name});const Xe={apiKey:te,authDomain:he,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Go(b)},at=new Xn(E,M,F,Xe);return function Vi(b,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(Gn);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(E,g?.popupRedirectResolver)}(at,_),at},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new me.wA("auth-internal",g=>{const _=Cn(g.getProvider("auth").getImmediate());return new Ks(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(Xu,"0.23.1",function gf(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,V.registerVersion)(Xu,"0.23.1","esm2017")}("Browser")},2090:(At,fe,$)=>{"use strict";$.d(fe,{$s:()=>Gn,BH:()=>ke,G6:()=>Me,L:()=>We,LL:()=>Dt,P0:()=>qe,Pz:()=>Te,Sg:()=>Je,UG:()=>st,US:()=>me,ZB:()=>ne,ZR:()=>zt,aH:()=>Pe,b$:()=>un,eu:()=>Ge,hl:()=>Qe,jU:()=>Et,m9:()=>Ir,ne:()=>Jt,pd:()=>Yt,q4:()=>ve,r3:()=>Jn,ru:()=>nt,tV:()=>Y,uI:()=>ce,vZ:()=>se,w1:()=>ye,xO:()=>pn,xb:()=>ee,z$:()=>He,zI:()=>yt,zd:()=>Xt});const ge=function(z){const G=[];let L=0;for(let B=0;B<z.length;B++){let R=z.charCodeAt(B);R<128?G[L++]=R:R<2048?(G[L++]=R>>6|192,G[L++]=63&R|128):55296==(64512&R)&&B+1<z.length&&56320==(64512&z.charCodeAt(B+1))?(R=65536+((1023&R)<<10)+(1023&z.charCodeAt(++B)),G[L++]=R>>18|240,G[L++]=R>>12&63|128,G[L++]=R>>6&63|128,G[L++]=63&R|128):(G[L++]=R>>12|224,G[L++]=R>>6&63|128,G[L++]=63&R|128)}return G},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,G){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let R=0;R<z.length;R+=3){const J=z[R],Ie=R+1<z.length,pt=Ie?z[R+1]:0,jt=R+2<z.length,Ft=jt?z[R+2]:0;let Un=(15&pt)<<2|Ft>>6,Kt=63&Ft;jt||(Kt=64,Ie||(Un=64)),B.push(L[J>>2],L[(3&J)<<4|pt>>4],L[Un],L[Kt])}return B.join("")},encodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(z):this.encodeByteArray(ge(z),G)},decodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(z):function(z){const G=[];let L=0,B=0;for(;L<z.length;){const R=z[L++];if(R<128)G[B++]=String.fromCharCode(R);else if(R>191&&R<224){const J=z[L++];G[B++]=String.fromCharCode((31&R)<<6|63&J)}else if(R>239&&R<365){const jt=((7&R)<<18|(63&z[L++])<<12|(63&z[L++])<<6|63&z[L++])-65536;G[B++]=String.fromCharCode(55296+(jt>>10)),G[B++]=String.fromCharCode(56320+(1023&jt))}else{const J=z[L++],Ie=z[L++];G[B++]=String.fromCharCode((15&R)<<12|(63&J)<<6|63&Ie)}}return G.join("")}(this.decodeStringToByteArray(z,G))},decodeStringToByteArray(z,G){this.init_();const L=G?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let R=0;R<z.length;){const J=L[z.charAt(R++)],pt=R<z.length?L[z.charAt(R)]:0;++R;const Ft=R<z.length?L[z.charAt(R)]:64;++R;const Gt=R<z.length?L[z.charAt(R)]:64;if(++R,null==J||null==pt||null==Ft||null==Gt)throw new Le;B.push(J<<2|pt>>4),64!==Ft&&(B.push(pt<<4&240|Ft>>2),64!==Gt&&B.push(Ft<<6&192|Gt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(z){return function(z){const G=ge(z);return me.encodeByteArray(G,!0)}(z).replace(/\./g,"")},Y=function(z){try{return me.decodeString(z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function ne(z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return G}for(const L in G)!G.hasOwnProperty(L)||!Ye(L)||(z[L]=ne(z[L],G[L]));return z}function Ye(z){return"__proto__"!==z}const Oe=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=z&&Y(z[1]);return G&&JSON.parse(G)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},ve=z=>{var G,L;return null===(L=null===(G=Oe())||void 0===G?void 0:G.emulatorHosts)||void 0===L?void 0:L[z]},qe=z=>{const G=ve(z);if(!G)return;const L=G.lastIndexOf(":");if(L<=0||L+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const B=parseInt(G.substring(L+1),10);return"["===G[0]?[G.substring(1,L-1),B]:[G.substring(0,L),B]},Pe=()=>{var z;return null===(z=Oe())||void 0===z?void 0:z.config},Te=z=>{var G;return null===(G=Oe())||void 0===G?void 0:G[`_${z}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,L)=>{this.resolve=G,this.reject=L})}wrapCallback(G){return(L,B)=>{L?this.reject(L):this.resolve(B),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(L):G(L,B))}}}function Je(z,G){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=G||"demo-project",R=z.iat||0,J=z.sub||z.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:R,exp:R+3600,auth_time:R,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},z);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(Ie)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function st(){var z;const G=null===(z=Oe())||void 0===z?void 0:z.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function nt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function un(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){const z=He();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Me(){return!st()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((z,G)=>{try{let L=!0;const B="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(B);R.onsuccess=()=>{R.result.close(),L||self.indexedDB.deleteDatabase(B),z(!0)},R.onupgradeneeded=()=>{L=!1},R.onerror=()=>{var J;G((null===(J=R.error)||void 0===J?void 0:J.message)||"")}}catch(L){G(L)}})}function yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zt extends Error{constructor(G,L,B){super(L),this.code=G,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(G,L,B){this.service=G,this.serviceName=L,this.errors=B}create(G,...L){const B=L[0]||{},R=`${this.service}/${G}`,J=this.errors[G],Ie=J?function Ht(z,G){return z.replace(wt,(L,B)=>{const R=G[B];return null!=R?String(R):`<${B}?>`})}(J,B):"Error";return new zt(R,`${this.serviceName}: ${Ie} (${R}).`,B)}}const wt=/\{\$([^}]+)}/g;function Jn(z,G){return Object.prototype.hasOwnProperty.call(z,G)}function ee(z){for(const G in z)if(Object.prototype.hasOwnProperty.call(z,G))return!1;return!0}function se(z,G){if(z===G)return!0;const L=Object.keys(z),B=Object.keys(G);for(const R of L){if(!B.includes(R))return!1;const J=z[R],Ie=G[R];if(Ve(J)&&Ve(Ie)){if(!se(J,Ie))return!1}else if(J!==Ie)return!1}for(const R of B)if(!L.includes(R))return!1;return!0}function Ve(z){return null!==z&&"object"==typeof z}function pn(z){const G=[];for(const[L,B]of Object.entries(z))Array.isArray(B)?B.forEach(R=>{G.push(encodeURIComponent(L)+"="+encodeURIComponent(R))}):G.push(encodeURIComponent(L)+"="+encodeURIComponent(B));return G.length?"&"+G.join("&"):""}function Xt(z){const G={};return z.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[R,J]=B.split("=");G[decodeURIComponent(R)]=decodeURIComponent(J)}}),G}function Yt(z){const G=z.indexOf("?");if(!G)return"";const L=z.indexOf("#",G);return z.substring(G,L>0?L:void 0)}function Jt(z,G){const L=new vt(z,G);return L.subscribe.bind(L)}class vt{constructor(G,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{G(this)}).catch(B=>{this.error(B)})}next(G){this.forEachObserver(L=>{L.next(G)})}error(G){this.forEachObserver(L=>{L.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,L,B){let R;if(void 0===G&&void 0===L&&void 0===B)throw new Error("Missing Observer.");R=function Fn(z,G){if("object"!=typeof z||null===z)return!1;for(const L of G)if(L in z&&"function"==typeof z[L])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:L,complete:B},void 0===R.next&&(R.next=xn),void 0===R.error&&(R.error=xn),void 0===R.complete&&(R.complete=xn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),J}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,G)}sendOne(G,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{L(this.observers[G])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const nn=1e3,si=2,di=144e5,rr=.5;function Gn(z,G=nn,L=si){const B=G*Math.pow(L,z),R=Math.round(rr*B*(Math.random()-.5)*2);return Math.min(di,B+R)}function Ir(z){return z&&z._delegate?z._delegate:z}},8740:(At,fe,$)=>{"use strict";var a=$(4650);let O=null;function V(){return O}class xe{}const me=new a.OlP("DocumentToken");let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ne(){return(0,a.LFG)(Y)}()},providedIn:"platform"}),n})();const We=new a.OlP("Location Initialized");let Y=(()=>{class n extends Le{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const i=V().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=V().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){K()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){K()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ne(){return new Y((0,a.LFG)(me))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ye(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ct(n){return n&&"?"!==n[0]?"?"+n:n}let rt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Oe)},providedIn:"root"}),n})();const de=new a.OlP("appBaseHref");let Oe=(()=>{class n extends rt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ye(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ct(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+ct(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+ct(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Le),a.LFG(de,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ve=(()=>{class n extends rt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ye(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let u=this.prepareExternalUrl(r+ct(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){let u=this.prepareExternalUrl(r+ct(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Le),a.LFG(de,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ue(ke(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ct(i))}normalize(t){return n.stripTrailingSlash(function Te(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ct(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ct(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ct,n.joinWithSlash=Ye,n.stripTrailingSlash=Ue,n.\u0275fac=function(t){return new(t||n)(a.LFG(rt))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Pe(){return new qe((0,a.LFG)(rt))}()},providedIn:"root"}),n})();function ke(n){return n.replace(/\/index.html$/,"")}var ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Percent=1]="Percent",ce[ce.Currency=2]="Currency",ce[ce.Scientific=3]="Scientific",ce))(),Et=(()=>((Et=Et||{})[Et.Format=0]="Format",Et[Et.Standalone=1]="Standalone",Et))(),nt=(()=>((nt=nt||{})[nt.Narrow=0]="Narrow",nt[nt.Abbreviated=1]="Abbreviated",nt[nt.Wide=2]="Wide",nt[nt.Short=3]="Short",nt))(),un=(()=>((un=un||{})[un.Short=0]="Short",un[un.Medium=1]="Medium",un[un.Long=2]="Long",un[un.Full=3]="Full",un))(),_t=(()=>((_t=_t||{})[_t.Decimal=0]="Decimal",_t[_t.Group=1]="Group",_t[_t.List=2]="List",_t[_t.PercentSign=3]="PercentSign",_t[_t.PlusSign=4]="PlusSign",_t[_t.MinusSign=5]="MinusSign",_t[_t.Exponential=6]="Exponential",_t[_t.SuperscriptingExponent=7]="SuperscriptingExponent",_t[_t.PerMille=8]="PerMille",_t[_t.Infinity=9]="Infinity",_t[_t.NaN=10]="NaN",_t[_t.TimeSeparator=11]="TimeSeparator",_t[_t.CurrencyDecimal=12]="CurrencyDecimal",_t[_t.CurrencyGroup=13]="CurrencyGroup",_t))();function Se(n,e,t){const i=(0,a.cg1)(n),o=ae([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],e);return ae(o,t)}function Me(n,e,t){const i=(0,a.cg1)(n),o=ae([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],e);return ae(o,t)}function Qe(n,e,t){const i=(0,a.cg1)(n),o=ae([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],e);return ae(o,t)}function zt(n,e){return ae((0,a.cg1)(n)[a.wAp.DateFormat],e)}function Dt(n,e){return ae((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function Ht(n,e){return ae((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function wt(n,e){const t=(0,a.cg1)(n),i=t[a.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===_t.CurrencyDecimal)return t[a.wAp.NumberSymbols][_t.Decimal];if(e===_t.CurrencyGroup)return t[a.wAp.NumberSymbols][_t.Group]}return i}function Hn(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ae(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function se(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Xt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yt={},Pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Jt=(()=>((Jt=Jt||{})[Jt.Short=0]="Short",Jt[Jt.ShortGMT=1]="ShortGMT",Jt[Jt.Long=2]="Long",Jt[Jt.Extended=3]="Extended",Jt))(),vt=(()=>((vt=vt||{})[vt.FullYear=0]="FullYear",vt[vt.Month=1]="Month",vt[vt.Date=2]="Date",vt[vt.Hours=3]="Hours",vt[vt.Minutes=4]="Minutes",vt[vt.Seconds=5]="Seconds",vt[vt.FractionalSeconds=6]="FractionalSeconds",vt[vt.Day=7]="Day",vt))(),tt=(()=>((tt=tt||{})[tt.DayPeriods=0]="DayPeriods",tt[tt.Days=1]="Days",tt[tt.Months=2]="Months",tt[tt.Eras=3]="Eras",tt))();function Fn(n,e,t,i){let r=function R(n){if(Ie(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return xn(r,o-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Xt))return function J(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,h=Number(n[5]||0)-i,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,u,h,p,y),e}(i)}const e=new Date(n);if(!Ie(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Rn(t,e)||e;let h,u=[];for(;e;){if(h=Pt.exec(e),!h){u.push(e);break}{u=u.concat(h.slice(1));const w=u.pop();if(!w)break;e=w}}let p=r.getTimezoneOffset();i&&(p=G(i,p),r=function B(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function L(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(G(e,r)-r))}(r,i,!0));let y="";return u.forEach(w=>{const S=function z(n){if(Ir[n])return Ir[n];let e;switch(n){case"G":case"GG":case"GGG":e=gn(tt.Eras,nt.Abbreviated);break;case"GGGG":e=gn(tt.Eras,nt.Wide);break;case"GGGGG":e=gn(tt.Eras,nt.Narrow);break;case"y":e=tn(vt.FullYear,1,0,!1,!0);break;case"yy":e=tn(vt.FullYear,2,0,!0,!0);break;case"yyy":e=tn(vt.FullYear,3,0,!1,!0);break;case"yyyy":e=tn(vt.FullYear,4,0,!1,!0);break;case"Y":e=Vr(1);break;case"YY":e=Vr(2,!0);break;case"YYY":e=Vr(3);break;case"YYYY":e=Vr(4);break;case"M":case"L":e=tn(vt.Month,1,1);break;case"MM":case"LL":e=tn(vt.Month,2,1);break;case"MMM":e=gn(tt.Months,nt.Abbreviated);break;case"MMMM":e=gn(tt.Months,nt.Wide);break;case"MMMMM":e=gn(tt.Months,nt.Narrow);break;case"LLL":e=gn(tt.Months,nt.Abbreviated,Et.Standalone);break;case"LLLL":e=gn(tt.Months,nt.Wide,Et.Standalone);break;case"LLLLL":e=gn(tt.Months,nt.Narrow,Et.Standalone);break;case"w":e=Cr(1);break;case"ww":e=Cr(2);break;case"W":e=Cr(1,!0);break;case"d":e=tn(vt.Date,1);break;case"dd":e=tn(vt.Date,2);break;case"c":case"cc":e=tn(vt.Day,1);break;case"ccc":e=gn(tt.Days,nt.Abbreviated,Et.Standalone);break;case"cccc":e=gn(tt.Days,nt.Wide,Et.Standalone);break;case"ccccc":e=gn(tt.Days,nt.Narrow,Et.Standalone);break;case"cccccc":e=gn(tt.Days,nt.Short,Et.Standalone);break;case"E":case"EE":case"EEE":e=gn(tt.Days,nt.Abbreviated);break;case"EEEE":e=gn(tt.Days,nt.Wide);break;case"EEEEE":e=gn(tt.Days,nt.Narrow);break;case"EEEEEE":e=gn(tt.Days,nt.Short);break;case"a":case"aa":case"aaa":e=gn(tt.DayPeriods,nt.Abbreviated);break;case"aaaa":e=gn(tt.DayPeriods,nt.Wide);break;case"aaaaa":e=gn(tt.DayPeriods,nt.Narrow);break;case"b":case"bb":case"bbb":e=gn(tt.DayPeriods,nt.Abbreviated,Et.Standalone,!0);break;case"bbbb":e=gn(tt.DayPeriods,nt.Wide,Et.Standalone,!0);break;case"bbbbb":e=gn(tt.DayPeriods,nt.Narrow,Et.Standalone,!0);break;case"B":case"BB":case"BBB":e=gn(tt.DayPeriods,nt.Abbreviated,Et.Format,!0);break;case"BBBB":e=gn(tt.DayPeriods,nt.Wide,Et.Format,!0);break;case"BBBBB":e=gn(tt.DayPeriods,nt.Narrow,Et.Format,!0);break;case"h":e=tn(vt.Hours,1,-12);break;case"hh":e=tn(vt.Hours,2,-12);break;case"H":e=tn(vt.Hours,1);break;case"HH":e=tn(vt.Hours,2);break;case"m":e=tn(vt.Minutes,1);break;case"mm":e=tn(vt.Minutes,2);break;case"s":e=tn(vt.Seconds,1);break;case"ss":e=tn(vt.Seconds,2);break;case"S":e=tn(vt.FractionalSeconds,1);break;case"SS":e=tn(vt.FractionalSeconds,2);break;case"SSS":e=tn(vt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=nn(Jt.Short);break;case"ZZZZZ":e=nn(Jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=nn(Jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=nn(Jt.Long);break;default:return null}return Ir[n]=e,e}(w);y+=S?S(r,t,p):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function xn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Rn(n,e){const t=function be(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(Yt[t]=Yt[t]||{},Yt[t][e])return Yt[t][e];let i="";switch(e){case"shortDate":i=zt(n,un.Short);break;case"mediumDate":i=zt(n,un.Medium);break;case"longDate":i=zt(n,un.Long);break;case"fullDate":i=zt(n,un.Full);break;case"shortTime":i=Dt(n,un.Short);break;case"mediumTime":i=Dt(n,un.Medium);break;case"longTime":i=Dt(n,un.Long);break;case"fullTime":i=Dt(n,un.Full);break;case"short":const r=Rn(n,"shortTime"),o=Rn(n,"shortDate");i=En(Ht(n,un.Short),[r,o]);break;case"medium":const u=Rn(n,"mediumTime"),h=Rn(n,"mediumDate");i=En(Ht(n,un.Medium),[u,h]);break;case"long":const p=Rn(n,"longTime"),y=Rn(n,"longDate");i=En(Ht(n,un.Long),[p,y]);break;case"full":const w=Rn(n,"fullTime"),S=Rn(n,"fullDate");i=En(Ht(n,un.Full),[w,S])}return i&&(Yt[t][e]=i),i}function En(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Qn(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),o+u}function tn(n,e,t=0,i=!1,r=!1){return function(o,u){let h=function mr(n,e){switch(n){case vt.FullYear:return e.getFullYear();case vt.Month:return e.getMonth();case vt.Date:return e.getDate();case vt.Hours:return e.getHours();case vt.Minutes:return e.getMinutes();case vt.Seconds:return e.getSeconds();case vt.FractionalSeconds:return e.getMilliseconds();case vt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||h>-t)&&(h+=t),n===vt.Hours)0===h&&-12===t&&(h=12);else if(n===vt.FractionalSeconds)return function Bn(n,e){return Qn(n,3).substring(0,e)}(h,e);const p=wt(u,_t.MinusSign);return Qn(h,e,p,i,r)}}function gn(n,e,t=Et.Format,i=!1){return function(r,o){return function Ho(n,e,t,i,r,o){switch(t){case tt.Months:return Qe(e,r,i)[n.getMonth()];case tt.Days:return Me(e,r,i)[n.getDay()];case tt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const y=function Jn(n){const e=(0,a.cg1)(n);return Hn(e),(e[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?se(i):[se(i[0]),se(i[1])])}(e),w=function oe(n,e,t){const i=(0,a.cg1)(n);Hn(i);const o=ae([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],e)||[];return ae(o,t)||[]}(e,r,i),S=y.findIndex(P=>{if(Array.isArray(P)){const[U,W]=P,q=u>=U.hours&&h>=U.minutes,re=u<W.hours||u===W.hours&&h<W.minutes;if(U.hours<W.hours){if(q&&re)return!0}else if(q||re)return!0}else if(P.hours===u&&P.minutes===h)return!0;return!1});if(-1!==S)return w[S]}return Se(e,r,i)[u<12?0:1];case tt.Eras:return function Ge(n,e){return ae((0,a.cg1)(n)[a.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function nn(n){return function(e,t,i){const r=-1*i,o=wt(t,_t.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Jt.Short:return(r>=0?"+":"")+Qn(u,2,o)+Qn(Math.abs(r%60),2,o);case Jt.ShortGMT:return"GMT"+(r>=0?"+":"")+Qn(u,1,o);case Jt.Long:return"GMT"+(r>=0?"+":"")+Qn(u,2,o)+":"+Qn(Math.abs(r%60),2,o);case Jt.Extended:return 0===i?"Z":(r>=0?"+":"")+Qn(u,2,o)+":"+Qn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const si=0,di=4;function Gn(n){return xn(n.getFullYear(),n.getMonth(),n.getDate()+(di-n.getDay()))}function Cr(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+o)/7)}else{const o=Gn(t),u=function rr(n){const e=xn(n,si,1).getDay();return xn(n,0,1+(e<=di?di:di+7)-e)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Qn(r,n,wt(i,_t.MinusSign))}}function Vr(n,e=!1){return function(t,i){return Qn(Gn(t).getFullYear(),n,wt(i,_t.MinusSign),e)}}const Ir={};function G(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ie(n){return n instanceof Date&&!isNaN(n.valueOf())}const pt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,jt=22,Ft=".",rn="0",Gt=";",Un=",",Kt="#";function yn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Ui{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ui(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),zn(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{zn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zn(n,e){n.context.$implicit=e.item}let ai=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){el("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){el("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class sn{constructor(){this.$implicit=null,this.ngIf=null}}function el(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let Wo=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),u=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Sr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})();let vh=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function _c(n){return!(null==n||""===n||n!=n)}(t))return null;r=r||this._locale;try{return function $e(n,e,t){return function _e(n,e,t,i,r,o,u=!1){let h="",p=!1;if(isFinite(n)){let y=function It(n){let i,r,o,u,h,e=Math.abs(n)+"",t=0;for((r=e.indexOf(Ft))>-1&&(e=e.replace(Ft,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===rn;o++);if(o===(h=e.length))i=[0],r=1;else{for(h--;e.charAt(h)===rn;)h--;for(r-=o,i=[],u=0;o<=h;o++,u++)i[u]=Number(e.charAt(o))}return r>jt&&(i=i.splice(0,jt-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);u&&(y=function dn(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(y));let w=e.minInt,S=e.minFrac,P=e.maxFrac;if(o){const Ae=o.match(pt);if(null===Ae)throw new Error(`${o} is not a valid digit info`);const Be=Ae[1],ze=Ae[3],ot=Ae[5];null!=Be&&(w=yn(Be)),null!=ze&&(S=yn(ze)),null!=ot?P=yn(ot):null!=ze&&S>P&&(P=S)}!function Tn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(e,r),t);let u=o+n.integerLen,h=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let S=u;S<i.length;S++)i[S]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=o+1),i[0]=0;for(let S=1;S<u;S++)i[S]=0}if(h>=5)if(u-1<0){for(let S=0;S>u;S--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,o);r++)i.push(0);let p=0!==o;const y=e+n.integerLen,w=i.reduceRight(function(S,P,U,W){return W[U]=(P+=S)<10?P:P-10,p&&(0===W[U]&&U>=y?W.pop():p=!1),P>=10?1:0},0);w&&(i.unshift(w),n.integerLen++)}(y,S,P);let U=y.digits,W=y.integerLen;const q=y.exponent;let re=[];for(p=U.every(Ae=>!Ae);W<w;W++)U.unshift(0);for(;W<0;W++)U.unshift(0);W>0?re=U.splice(W,U.length):(re=U,U=[0]);const we=[];for(U.length>=e.lgSize&&we.unshift(U.splice(-e.lgSize,U.length).join(""));U.length>e.gSize;)we.unshift(U.splice(-e.gSize,U.length).join(""));U.length&&we.unshift(U.join("")),h=we.join(wt(t,i)),re.length&&(h+=wt(t,r)+re.join("")),q&&(h+=wt(t,_t.Exponential)+"+"+q)}else h=wt(t,_t.Infinity);return h=n<0&&!p?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf,h}(n,function Wt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Gt),r=i[0],o=i[1],u=-1!==r.indexOf(Ft)?r.split(Ft):[r.substring(0,r.lastIndexOf(rn)+1),r.substring(r.lastIndexOf(rn)+1)],h=u[0],p=u[1]||"";t.posPre=h.substring(0,h.indexOf(Kt));for(let w=0;w<p.length;w++){const S=p.charAt(w);S===rn?t.minFrac=t.maxFrac=w+1:S===Kt?t.maxFrac=w+1:t.posSuf+=S}const y=h.split(Un);if(t.gSize=y[1]?y[1].length:0,t.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,o){const w=r.length-t.posPre.length-t.posSuf.length,S=o.indexOf(Kt);t.negPre=o.substring(0,S).replace(/'/g,""),t.negSuf=o.slice(S+w).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function en(n,e){return(0,a.cg1)(n)[a.wAp.NumberFormats][e]}(e,ce.Percent),wt(e,_t.MinusSign)),e,_t.Group,_t.Decimal,t,!0).replace(new RegExp("%","g"),wt(e,_t.PercentSign))}(function yc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(o){throw function $r(n,e){return new a.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const wh="browser",Us="server";function Co(n){return n===wh}function Vs(n){return n===Us}let nl=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Th((0,a.LFG)(me),window)}),n})();class Th{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ru extends xe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _l extends Ru{static makeCurrent(){!function ge(n){O||(O=n)}(new _l)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Da(){return Ea=Ea||document.querySelector("base"),Ea?Ea.getAttribute("href"):null}();return null==t?null:function Sc(n){ms=ms||document.createElement("a"),ms.setAttribute("href",n);const e=ms.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function la(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let ms,Ea=null;const T=new a.OlP("TRANSITION_ID"),N=[{provide:a.ip1,useFactory:function C(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=V(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[T,me,a.zs3],multi:!0}];let Ee=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Mt=new a.OlP("EventManagerPlugins");let On=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Mt),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Xi{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=V().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let er=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let o=r.get(t)??0;return o+=i,o>0?r.set(t,o):r.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Xr=(()=>{class n extends er{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(o=>o.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yl=/%COMP%/g,Nc=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Fu(n,e){return e.flat(100).map(t=>t.replace(yl,n))}function Vy(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let xr=(()=>{class n{constructor(t,i,r,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ph(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof Bu?r.applyToHost(t):r instanceof Oc&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(i.encapsulation){case a.ifc.Emulated:o=new Bu(u,h,i,this.appId,p);break;case a.ifc.ShadowDom:return new pi(u,h,t,i);default:o=new Oc(u,h,i,p)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(On),a.LFG(Xr),a.LFG(a.AFp),a.LFG(Nc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ph{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ao[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Fh(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Fh(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Ao[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ao[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vy(i)):this.eventManager.addEventListener(e,t,Vy(i))}}function Fh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pi extends Ph{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Fu(r.id,r.styles);for(const u of o){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oc extends Ph{constructor(e,t,i,r,o=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Fu(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Bu extends Oc{constructor(e,t,i,r,o){const u=r+"-"+i.id;super(e,t,i,o,u),this.contentAttr=function d1(n){return"_ngcontent-%COMP%".replace(yl,n)}(u),this.hostAttr=function Uy(n){return"_nghost-%COMP%".replace(yl,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let yg=(()=>{class n extends Xi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const kc=["alt","control","meta","shift"],vg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wg=(()=>{class n extends Xi{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),kc.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),u+=y+".")}),u+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=r,p.fullKey=u,p}static matchEventFullKeyCode(t,i){let r=vg[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),kc.forEach(u=>{u!==r&&(0,bg[u])(t)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const $y=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:wh},{provide:a.g9A,useValue:function bl(){_l.makeCurrent()},multi:!0},{provide:me,useFactory:function Bh(){return(0,a.RDi)(document),document},deps:[]}]),Rc=new a.OlP(""),Pc=[{provide:a.rWj,useClass:class H{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(p){u=u||p,o--,0==o&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Ca=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Lh(){return new a.qLn},deps:[]},{provide:Mt,useClass:yg,multi:!0,deps:[me,a.R0b,a.Lbi]},{provide:Mt,useClass:wg,multi:!0,deps:[me]},{provide:xr,useClass:xr,deps:[On,Xr,a.AFp,Nc]},{provide:a.FYo,useExisting:xr},{provide:er,useExisting:Xr},{provide:Xr,useClass:Xr,deps:[me]},{provide:On,useClass:On,deps:[Mt,a.R0b]},{provide:class Ch{},useClass:Ee,deps:[]},[]];let Ia=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:T,useExisting:a.AFp},N]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rc,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Ca,...Pc],imports:[Tu,a.hGG]}),n})(),Hy=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function El(){return new Hy((0,a.LFG)(me))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var X=$(5861),hn=$(6881);(0,hn.registerVersion)("firebase","9.21.0","app");var xt=$(2090),xo=$(4859),Mo=$(1877);const Gh=(n,e)=>e.some(t=>n instanceof t);let zh,Sg;const Hu=new WeakMap,ys=new WeakMap,qh=new WeakMap,vs=new WeakMap,Lc=new WeakMap;let Sl={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return ys.get(n);if("objectStoreNames"===e)return n.objectStoreNames||qh.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mr(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Kh(n){return"function"==typeof n?function Zh(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Il(){return Sg||(Sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Sa(this),e),Mr(Hu.get(this))}:function(...e){return Mr(n.apply(Sa(this),e))}:function(e,...t){const i=n.call(Sa(this),e,...t);return qh.set(i,e.sort?e.sort():[e]),Mr(i)}}(n):(n instanceof IDBTransaction&&function bs(n){if(ys.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});ys.set(n,e)}(n),Gh(n,function Wh(){return zh||(zh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Sl):n)}function Mr(n){if(n instanceof IDBRequest)return function Ag(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Mr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Hu.set(t,n)}).catch(()=>{}),Lc.set(e,n),e}(n);if(vs.has(n))return vs.get(n);const e=Kh(n);return e!==n&&(vs.set(n,e),Lc.set(e,n)),e}const Sa=n=>Lc.get(n),Yh=["get","getKey","getAll","getAllKeys","count"],Zy=["put","add","delete","clear"],Ng=new Map;function Gu(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ng.get(e))return Ng.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Zy.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Yh.includes(t))return;const o=function(){var u=(0,X.Z)(function*(h,...p){const y=this.transaction(h,r?"readwrite":"readonly");let w=y.store;return i&&(w=w.index(p.shift())),(yield Promise.all([w[t](...p),r&&y.done]))[0]});return function(p){return u.apply(this,arguments)}}();return Ng.set(e,o),o}!function xg(n){Sl=n(Sl)}(n=>({...n,get:(e,t,i)=>Gu(e,t)||n.get(e,t,i),has:(e,t)=>!!Gu(e,t)||n.has(e,t)}));const Og="@firebase/installations",Jh="0.6.4",Aa=1e4,Qh=`w:${Jh}`,kg="FIS_v2",zu="https://firebaseinstallations.googleapis.com/v1",g1=36e5,Jo=new xt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Al(n){return n instanceof xt.ZR&&n.code.includes("request-failed")}function Pg({projectId:n}){return`${zu}/projects/${n}/installations`}function Fg(n){return{token:n.token,requestStatus:2,expiresIn:Yy(n.expiresIn),creationTime:Date.now()}}function xl(n,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,X.Z)(function*(n,e){const i=(yield e.json()).error;return Jo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function Ky({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function qu(n){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,X.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Yy(n){return Number(n.replace("s","000"))}function Zu(){return(Zu=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=Pg(n),r=Ky(n),o=e.getImmediate({optional:!0});if(o){const y=yield o.getHeartbeatsHeader();y&&r.append("x-firebase-client",y)}const h={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:kg,appId:n.appId,sdkVersion:Qh})},p=yield qu(()=>fetch(i,h));if(p.ok){const y=yield p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Fg(y.authToken)}}throw yield xl("Create Installation",p)})).apply(this,arguments)}function tf(n){return new Promise(e=>{setTimeout(e,n)})}const Qo=/^[cdef][\w-]{21}$/,Ml="";function Jy(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Qy(n){return function nf(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Qo.test(t)?t:Ml}catch{return Ml}}function xa(n){return`${n.appName}!${n.appId}`}const qs=new Map;function Vg(n,e){const t=xa(n);rf(t,e),function sf(n,e){const t=function Nr(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=n=>{rf(n.data.key,n.data.fid)}),Ma}();t&&t.postMessage({key:n,fid:e}),function Ku(){0===qs.size&&Ma&&(Ma.close(),Ma=null)}()}(t,e)}function rf(n,e){const t=qs.get(n);if(t)for(const i of t)i(e)}let Ma=null;const jg="firebase-installations-database",af=1,ci="firebase-installations-store";let Na=null;function Yu(){return Na||(Na=function Mg(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,e),h=Mr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Mr(u.result),p.oldVersion,p.newVersion,Mr(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),h.then(p=>{o&&p.addEventListener("close",()=>o()),r&&p.addEventListener("versionchange",()=>r())}).catch(()=>{}),h}(jg,af,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ci)}})),Na}function Uc(n,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,X.Z)(function*(n,e){const t=xa(n),r=(yield Yu()).transaction(ci,"readwrite"),o=r.objectStore(ci),u=yield o.get(t);return yield o.put(e,t),yield r.done,(!u||u.fid!==e.fid)&&Vg(n,e.fid),e})).apply(this,arguments)}function Ju(n){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,X.Z)(function*(n){const e=xa(n),i=(yield Yu()).transaction(ci,"readwrite");yield i.objectStore(ci).delete(e),yield i.done})).apply(this,arguments)}function Zs(n,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,X.Z)(function*(n,e){const t=xa(n),r=(yield Yu()).transaction(ci,"readwrite"),o=r.objectStore(ci),u=yield o.get(t),h=e(u);return void 0===h?yield o.delete(t):yield o.put(h,t),yield r.done,h&&(!u||u.fid!==h.fid)&&Vg(n,h.fid),h})).apply(this,arguments)}function Nl(n){return uf.apply(this,arguments)}function uf(){return uf=(0,X.Z)(function*(n){let e;const t=yield Zs(n.appConfig,i=>{const r=function $g(n){return Oa(n||{fid:Jy(),registrationStatus:0})}(i),o=function df(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function jc(n,e){return hf.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Qu(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===Ml?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),uf.apply(this,arguments)}function hf(){return hf=(0,X.Z)(function*(n,e){try{const t=yield function Bc(n,e){return Zu.apply(this,arguments)}(n,e);return Uc(n.appConfig,t)}catch(t){throw Al(t)&&409===t.customData.serverCode?yield Ju(n.appConfig):yield Uc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),hf.apply(this,arguments)}function Qu(n){return $c.apply(this,arguments)}function $c(){return($c=(0,X.Z)(function*(n){let e=yield ff(n.appConfig);for(;1===e.registrationStatus;)yield tf(100),e=yield ff(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Nl(n);return i||t}return e})).apply(this,arguments)}function ff(n){return Zs(n,e=>{if(!e)throw Jo.create("installation-not-found");return Oa(e)})}function Oa(n){return function Xu(n){return 1===n.registrationStatus&&n.registrationTime+Aa<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Ks(){return(Ks=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function gf(n,{fid:e}){return`${Pg(n)}/${e}/authTokens:generate`}(n,t),r=function Lg(n,{refreshToken:e}){const t=Ky(n);return t.append("Authorization",function Ug(n){return`${kg} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const y=yield o.getHeartbeatsHeader();y&&r.append("x-firebase-client",y)}const h={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Qh,appId:n.appId}})},p=yield qu(()=>fetch(i,h));if(p.ok)return Fg(yield p.json());throw yield xl("Generate Auth Token",p)})).apply(this,arguments)}function ed(n){return mf.apply(this,arguments)}function mf(){return mf=(0,X.Z)(function*(n,e=!1){let t;const i=yield Zs(n.appConfig,o=>{if(!g(o))throw Jo.create("not-registered");const u=o.authToken;if(!e&&function _(n){return 2===n.requestStatus&&!function E(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+g1}(n)}(u))return o;if(1===u.requestStatus)return t=function _f(n,e){return td.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Jo.create("app-offline");const h=function M(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function tv(n,e){return b.apply(this,arguments)}(n,h),h}});return t?yield t:i.authToken}),mf.apply(this,arguments)}function td(){return(td=(0,X.Z)(function*(n,e){let t=yield Hg(n.appConfig);for(;1===t.authToken.requestStatus;)yield tf(100),t=yield Hg(n.appConfig);const i=t.authToken;return 0===i.requestStatus?ed(n,e):i})).apply(this,arguments)}function Hg(n){return Zs(n,e=>{if(!g(e))throw Jo.create("not-registered");return function F(n){return 1===n.requestStatus&&n.requestTime+Aa<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function b(){return b=(0,X.Z)(function*(n,e){try{const t=yield function pf(n,e){return Ks.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Uc(n.appConfig,i),t}catch(t){if(!Al(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Uc(n.appConfig,i)}else yield Ju(n.appConfig);throw t}}),b.apply(this,arguments)}function g(n){return void 0!==n&&2===n.registrationStatus}function he(){return(he=(0,X.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Nl(e);return i?i.catch(console.error):ed(e).catch(console.error),t.fid})).apply(this,arguments)}function at(){return at=(0,X.Z)(function*(n,e=!1){const t=n;return yield function St(n){return Qt.apply(this,arguments)}(t),(yield ed(t,e)).token}),at.apply(this,arguments)}function Qt(){return(Qt=(0,X.Z)(function*(n){const{registrationPromise:e}=yield Nl(n);e&&(yield e)})).apply(this,arguments)}function Hc(n){return Jo.create("missing-app-config-values",{valueName:n})}const Gc="installations",zc=n=>{const e=n.getProvider("app").getImmediate(),t=function id(n){if(!n||!n.options)throw Hc("App Configuration");if(!n.name)throw Hc("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Hc(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,hn._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},od=n=>{const e=n.getProvider("app").getImmediate(),t=(0,hn._getProvider)(e,Gc).getImmediate();return{getId:()=>function te(n){return he.apply(this,arguments)}(t),getToken:r=>function Xe(n){return at.apply(this,arguments)}(t,r)}};(function sd(){(0,hn._registerComponent)(new xo.wA(Gc,zc,"PUBLIC")),(0,hn._registerComponent)(new xo.wA("installations-internal",od,"PRIVATE"))})(),(0,hn.registerVersion)(Og,Jh),(0,hn.registerVersion)(Og,Jh,"esm2017");const Wc="@firebase/remote-config",to=new xt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class w1{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,X.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&u.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(u),o})()}}function E1(n=navigator){return n.languages&&n.languages[0]||n.language}class BI{constructor(e,t,i,r,o,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=u}fetch(e){var t=this;return(0,X.Z)(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:E1()},y={method:"POST",headers:h,body:JSON.stringify(p)},w=fetch(u,y),S=new Promise((we,Ae)=>{e.signal.addEventListener(()=>{const Be=new Error("The operation was aborted.");Be.name="AbortError",Ae(Be)})});let P;try{yield Promise.race([w,S]),P=yield w}catch(we){let Ae="fetch-client-network";throw"AbortError"===we?.name&&(Ae="fetch-timeout"),to.create(Ae,{originalErrorMessage:we?.message})}let U=P.status;const W=P.headers.get("ETag")||void 0;let q,re;if(200===P.status){let we;try{we=yield P.json()}catch(Ae){throw to.create("fetch-client-parse",{originalErrorMessage:Ae?.message})}q=we.entries,re=we.state}if("INSTANCE_STATE_UNSPECIFIED"===re?U=500:"NO_CHANGE"===re?U=304:("NO_TEMPLATE"===re||"EMPTY_CONFIG"===re)&&(q={}),304!==U&&200!==U)throw to.create("fetch-status",{httpStatus:U});return{status:U,eTag:W,config:q}})()}}class jI{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,X.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,X.Z)(function*(){yield function UI(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(to.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function VI(n){if(!(n instanceof xt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const u={throttleEndTimeMillis:Date.now()+(0,xt.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(e,u)}})()}}class yf{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wg(n,e){const t=n.target.error||void 0;return to.create(e,{originalErrorMessage:t&&t?.message})}const dd="app_namespace_store";class zk{constructor(e,t,i,r=function Gk(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(Wg(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(dd,{keyPath:"compositeKey"})}}catch(t){e(to.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,X.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const h=i.transaction([dd],"readonly").objectStore(dd),p=t.createCompositeKey(e);try{const y=h.get(p);y.onerror=w=>{o(Wg(w,"storage-get"))},y.onsuccess=w=>{const S=w.target.result;r(S?S.value:void 0)}}catch(y){o(to.create("storage-get",{originalErrorMessage:y?.message}))}})})()}set(e,t){var i=this;return(0,X.Z)(function*(){const r=yield i.openDbPromise;return new Promise((o,u)=>{const p=r.transaction([dd],"readwrite").objectStore(dd),y=i.createCompositeKey(e);try{const w=p.put({compositeKey:y,value:t});w.onerror=S=>{u(Wg(S,"storage-set"))},w.onsuccess=()=>{o()}}catch(w){u(to.create("storage-set",{originalErrorMessage:w?.message}))}})})()}delete(e){var t=this;return(0,X.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const h=i.transaction([dd],"readwrite").objectStore(dd),p=t.createCompositeKey(e);try{const y=h.delete(p);y.onerror=w=>{o(Wg(w,"storage-delete"))},y.onsuccess=()=>{r()}}catch(y){o(to.create("storage-delete",{originalErrorMessage:y?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class D1{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,X.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const u=yield i;u&&(e.lastSuccessfulFetchTimestampMillis=u);const h=yield r;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function GI(){return vf.apply(this,arguments)}function vf(){return(vf=(0,X.Z)(function*(){if(!(0,xt.hl)())return!1;try{return yield(0,xt.eu)()}catch{return!1}})).apply(this,arguments)}!function HI(){(0,hn._registerComponent)(new xo.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw to.create("registration-window");if(!(0,xt.hl)())throw to.create("indexed-db-unavailable");const{projectId:o,apiKey:u,appId:h}=i.options;if(!o)throw to.create("registration-project-id");if(!u)throw to.create("registration-api-key");if(!h)throw to.create("registration-app-id");const p=new zk(h,i.name,t=t||"firebase"),y=new D1(p),w=new Mo.Yd(Wc);w.logLevel=Mo.in.ERROR;const S=new BI(r,hn.SDK_VERSION,t,o,u,h),P=new jI(S,p),U=new w1(P,p,y,w),W=new yf(i,U,y,p,w);return function PI(n){const e=(0,xt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(W),W},"PUBLIC").setMultipleInstances(!0)),(0,hn.registerVersion)(Wc,"0.4.4"),(0,hn.registerVersion)(Wc,"0.4.4","esm2017")}();const ka=(n,e)=>e.some(t=>n instanceof t);let hd,cv;const zI=new WeakMap,I1=new WeakMap,WI=new WeakMap,bf=new WeakMap,wf=new WeakMap;let qg={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return I1.get(n);if("objectStoreNames"===e)return n.objectStoreNames||WI.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function KI(n){return"function"==typeof n?function ZI(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function C1(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Zg(this),e),Ra(zI.get(this))}:function(...e){return Ra(n.apply(Zg(this),e))}:function(e,...t){const i=n.call(Zg(this),e,...t);return WI.set(i,e.sort?e.sort():[e]),Ra(i)}}(n):(n instanceof IDBTransaction&&function Zk(n){if(I1.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});I1.set(n,e)}(n),ka(n,function T1(){return hd||(hd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,qg):n)}function Ra(n){if(n instanceof IDBRequest)return function qk(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ra(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&zI.set(t,n)}).catch(()=>{}),wf.set(e,n),e}(n);if(bf.has(n))return bf.get(n);const e=KI(n);return e!==n&&(bf.set(n,e),wf.set(e,n)),e}const Zg=n=>wf.get(n);function Ef(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,e),h=Ra(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Ra(u.result),p.oldVersion,p.newVersion,Ra(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),h.then(p=>{o&&p.addEventListener("close",()=>o()),r&&p.addEventListener("versionchange",()=>r())}).catch(()=>{}),h}function uv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Ra(t).then(()=>{})}const dv=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],Ii=new Map;function S1(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ii.get(e))return Ii.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=YI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!dv.includes(t))return;const o=function(){var u=(0,X.Z)(function*(h,...p){const y=this.transaction(h,r?"readwrite":"readonly");let w=y.store;return i&&(w=w.index(p.shift())),(yield Promise.all([w[t](...p),r&&y.done]))[0]});return function(p){return u.apply(this,arguments)}}();return Ii.set(e,o),o}!function qI(n){qg=n(qg)}(n=>({...n,get:(e,t,i)=>S1(e,t)||n.get(e,t,i),has:(e,t)=>!!S1(e,t)||n.has(e,t)}));const JI="/firebase-messaging-sw.js",A1="/firebase-cloud-messaging-push-scope",hv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",QI="https://fcmregistrations.googleapis.com/v1",x1="google.c.a.c_id",XI="google.c.a.c_l",eS="google.c.a.ts",M1="google.c.a.e";var Df=(()=>{return(n=Df||(Df={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Df;var n})();function Oo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fv(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const Kg="fcm_token_details_db",N1=5,pv="fcm_token_object_Store";function gv(){return gv=(0,X.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Kg))return null;let e=null;return(yield Ef(Kg,N1,{upgrade:(i=(0,X.Z)(function*(r,o,u,h){var p;if(o<2||!r.objectStoreNames.contains(pv))return;const y=h.objectStore(pv),w=yield y.index("fcmSenderId").get(n);if(yield y.clear(),w)if(2===o){const S=w;if(!S.auth||!S.p256dh||!S.endpoint)return;e={token:S.fcmToken,createTime:null!==(p=S.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:S.auth,p256dh:S.p256dh,endpoint:S.endpoint,swScope:S.swScope,vapidKey:"string"==typeof S.vapidKey?S.vapidKey:Oo(S.vapidKey)}}}else if(3===o){const S=w;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Oo(S.auth),p256dh:Oo(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Oo(S.vapidKey)}}}else if(4===o){const S=w;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Oo(S.auth),p256dh:Oo(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Oo(S.vapidKey)}}}}),function(o,u,h,p){return i.apply(this,arguments)})})).close(),yield uv(Kg),yield uv("fcm_vapid_details_db"),yield uv("undefined"),function O1(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),gv.apply(this,arguments)}const k1="firebase-messaging-database",mv=1,fd="firebase-messaging-store";let Tf=null;function _v(){return Tf||(Tf=Ef(k1,mv,{upgrade:(n,e)=>{0===e&&n.createObjectStore(fd)}})),Tf}function Yg(n){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,X.Z)(function*(n){const e=pd(n),i=yield(yield _v()).transaction(fd).objectStore(fd).get(e);if(i)return i;{const r=yield function Kk(n){return gv.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield Qg(n,r),r}}),Jg.apply(this,arguments)}function Qg(n,e){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,X.Z)(function*(n,e){const t=pd(n),r=(yield _v()).transaction(fd,"readwrite");return yield r.objectStore(fd).put(e,t),yield r.done,e})).apply(this,arguments)}function Cf(){return(Cf=(0,X.Z)(function*(n){const e=pd(n),i=(yield _v()).transaction(fd,"readwrite");yield i.objectStore(fd).delete(e),yield i.done})).apply(this,arguments)}function pd({appConfig:n}){return n.appId}const sr=new xt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xg(n,e){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,X.Z)(function*(n,e){const t=yield kl(n),i=F1(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(em(n.appConfig),r)).json()}catch(u){throw sr.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(o.error)throw sr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw sr.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function If(){return(If=(0,X.Z)(function*(n,e){const t=yield kl(n),i=F1(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${em(n.appConfig)}/${e.token}`,r)).json()}catch(u){throw sr.create("token-update-failed",{errorInfo:u?.toString()})}if(o.error)throw sr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw sr.create("token-update-no-token");return o.token})).apply(this,arguments)}function P1(n,e){return yv.apply(this,arguments)}function yv(){return(yv=(0,X.Z)(function*(n,e){const i={method:"DELETE",headers:yield kl(n)};try{const o=yield(yield fetch(`${em(n.appConfig)}/${e}`,i)).json();if(o.error)throw sr.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw sr.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function em({projectId:n}){return`${QI}/projects/${n}/registrations`}function kl(n){return vv.apply(this,arguments)}function vv(){return(vv=(0,X.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function F1({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==hv&&(r.web.applicationPubKey=i),r}const iS=6048e5;function wv(){return wv=(0,X.Z)(function*(n){const e=yield function rS(n,e){return Rl.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Oo(e.getKey("auth")),p256dh:Oo(e.getKey("p256dh"))},i=yield Yg(n.firebaseDependencies);if(i){if(function Sf(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+iS?function L1(n,e){return B1.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield P1(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return U1(n.firebaseDependencies,t)}return U1(n.firebaseDependencies,t)}),wv.apply(this,arguments)}function Dv(){return Dv=(0,X.Z)(function*(n){const e=yield Yg(n.firebaseDependencies);e&&(yield P1(n.firebaseDependencies,e.token),yield function tS(n){return Cf.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Dv.apply(this,arguments)}function B1(){return B1=(0,X.Z)(function*(n,e){try{const t=yield function R1(n,e){return If.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Qg(n.firebaseDependencies,i),t}catch(t){throw yield function Ev(n){return Dv.apply(this,arguments)}(n),t}}),B1.apply(this,arguments)}function U1(n,e){return qc.apply(this,arguments)}function qc(){return(qc=(0,X.Z)(function*(n,e){const i={token:yield Xg(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Qg(n,i),i.token})).apply(this,arguments)}function Rl(){return(Rl=(0,X.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fv(e)})})).apply(this,arguments)}function V1(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function j1(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function oS(n,e){e.data&&(n.data=e.data)}(e,n),function sS(n,e){var t,i,r,o,u;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const h=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;h&&(n.fcmOptions.link=h);const p=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(e,n),e}function Tv(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function Af(n){return sr.create("missing-app-config-values",{valueName:n})}Tv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Tv("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Cv{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function $1(n){if(!n||!n.options)throw Af("App Configuration Object");if(!n.name)throw Af("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw Af(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function H1(n){return xf.apply(this,arguments)}function xf(){return(xf=(0,X.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(JI,{scope:A1}),n.swRegistration.update().catch(()=>{})}catch(e){throw sr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Iv(){return(Iv=(0,X.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield H1(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw sr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Sv(){return(Sv=(0,X.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=hv)})).apply(this,arguments)}function Av(){return Av=(0,X.Z)(function*(n,e){if(!navigator)throw sr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sr.create("permission-blocked");return yield function lS(n,e){return Sv.apply(this,arguments)}(n,e?.vapidKey),yield function Mf(n,e){return Iv.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function bv(n){return wv.apply(this,arguments)}(n)}),Av.apply(this,arguments)}function xv(){return(xv=(0,X.Z)(function*(n,e,t){const i=function gd(n){switch(n){case Df.NOTIFICATION_CLICKED:return"notification_open";case Df.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[x1],message_name:t[XI],message_time:t[eS],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mv(){return Mv=(0,X.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Df.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(V1(t)):n.onMessageHandler.next(V1(t)));const i=t.data;(function aS(n){return"object"==typeof n&&!!n&&x1 in n})(i)&&"1"===i[M1]&&(yield function cS(n,e,t){return xv.apply(this,arguments)}(n,t.messageType,i))}),Mv.apply(this,arguments)}const z1="@firebase/messaging",Yk=n=>{const e=new Cv(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function La(n,e){return Mv.apply(this,arguments)}(e,t)),e},W1=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function G1(n,e){return Av.apply(this,arguments)}(e,i)}};function Nv(){return tm.apply(this,arguments)}function tm(){return(tm=(0,X.Z)(function*(){try{yield(0,xt.eu)()}catch{return!1}return typeof window<"u"&&(0,xt.hl)()&&(0,xt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jk(){(0,hn._registerComponent)(new xo.wA("messaging",Yk,"PUBLIC")),(0,hn._registerComponent)(new xo.wA("messaging-internal",W1,"PRIVATE")),(0,hn.registerVersion)(z1,"0.12.4"),(0,hn.registerVersion)(z1,"0.12.4","esm2017")}();const im="analytics",pS="firebase_id",gS="origin",q1=6e4,mS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kv="https://www.googletagmanager.com/gtag/js",_r=new Mo.Yd("@firebase/analytics"),Gr=new xt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Z1(n){if(!n.startsWith(kv)){const e=Gr.create("invalid-gtag-resource",{gtagURL:n});return _r.warn(e.message),""}return n}function Rv(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function rm(){return(rm=(0,X.Z)(function*(n,e,t,i,r,o){const u=i[r];try{if(u)yield e[u];else{const p=(yield Rv(t)).find(y=>y.measurementId===r);p&&(yield e[p.appId])}}catch(h){_r.error(h)}n("config",r,o)})).apply(this,arguments)}function Pv(){return(Pv=(0,X.Z)(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let u=r.send_to;Array.isArray(u)||(u=[u]);const h=yield Rv(t);for(const p of u){const y=h.find(S=>S.measurementId===p),w=y&&e[y.appId];if(!w){o=[];break}o.push(w)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){_r.error(o)}})).apply(this,arguments)}const Zc=30,om=new class Fv{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ES(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Q1(){return(Q1=(0,X.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:ES(i)},o=mS.replace("{app-id}",t),u=yield fetch(o,r);if(200!==u.status&&304!==u.status){let h="";try{const p=yield u.json();null!==(e=p.error)&&void 0!==e&&e.message&&(h=p.error.message)}catch{}throw Gr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()})).apply(this,arguments)}function Lv(){return(Lv=(0,X.Z)(function*(n,e=om,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw Gr.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Gr.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new TS;return setTimeout((0,X.Z)(function*(){h.abort()}),void 0!==t?t:q1),Bv({appId:i,apiKey:r,measurementId:o},u,h,e)})).apply(this,arguments)}function Bv(n,e,t){return X1.apply(this,arguments)}function X1(){return X1=(0,X.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=om){var o;const{appId:u,measurementId:h}=n;try{yield function DS(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(p){if(h)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw p}try{const p=yield function tR(n){return Q1.apply(this,arguments)}(n);return r.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!function md(n){if(!(n instanceof xt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(y)){if(r.deleteThrottleMetadata(u),h)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:h};throw p}const w=503===Number(null===(o=y?.customData)||void 0===o?void 0:o.httpStatus)?(0,xt.$s)(t,r.intervalMillis,Zc):(0,xt.$s)(t,r.intervalMillis),S={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return r.setThrottleMetadata(u,S),_r.debug(`Calling attemptFetch again in ${w} millis`),Bv(n,S,i,r)}}),X1.apply(this,arguments)}class TS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let sm,Nf;function Uv(){return(Uv=(0,X.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function iE(){return(iE=(0,X.Z)(function*(){if(!(0,xt.hl)())return _r.warn(Gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xt.eu)()}catch(n){return _r.warn(Gr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function um(){return um=(0,X.Z)(function*(n,e,t,i,r,o,u){var h;const p=function nR(n){return Lv.apply(this,arguments)}(n);p.then(U=>{t[U.measurementId]=U.appId,n.options.measurementId&&U.measurementId!==n.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>_r.error(U)),e.push(p);const y=function AS(){return iE.apply(this,arguments)}().then(U=>{if(U)return i.getId()}),[w,S]=yield Promise.all([p,y]);(function J1(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(kv)&&t.src.includes(n))return t;return null})(o)||function yS(n,e){const t=function _S(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Z1}),i=document.createElement("script"),r=`${kv}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,w.measurementId),Nf&&(r("consent","default",Nf),function SS(n){Nf=n}(void 0)),r("js",new Date);const P=null!==(h=u?.config)&&void 0!==h?h:{};return P[gS]="firebase",P.update=!0,null!=S&&(P[pS]=S),r("config",w.measurementId,P),sm&&(r("set",sm),function cm(n){sm=n}(void 0)),w.measurementId}),um.apply(this,arguments)}class xS{constructor(e){this.app=e}_delete(){return delete ws[this.app.options.appId],Promise.resolve()}}let ws={},rE=[];const oE={};let dm,mo,Kc="dataLayer",Yc="gtag",Of=!1;function zv(n,e,t){!function sE(){const n=[];if((0,xt.ru)()&&n.push("This is a browser extension environment."),(0,xt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Gr.create("invalid-analytics-context",{errorInfo:e});_r.warn(t.message)}}();const i=n.options.appId;if(!i)throw Gr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Gr.create("no-api-key");_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ws[i])throw Gr.create("already-exists",{id:i});if(!Of){!function K1(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Kc);const{wrappedGtag:o,gtagCore:u}=function Y1(n,e,t,i,r){let o=function(...u){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function eR(n,e,t,i){function o(){return o=(0,X.Z)(function*(u,...h){try{if("event"===u){const[p,y]=h;yield function bS(n,e,t,i,r){return Pv.apply(this,arguments)}(n,e,t,p,y)}else if("config"===u){const[p,y]=h;yield function vS(n,e,t,i,r,o){return rm.apply(this,arguments)}(n,e,t,i,p,y)}else if("consent"===u){const[p]=h;n("consent","update",p)}else if("get"===u){const[p,y,w]=h;n("get",p,y,w)}else if("set"===u){const[p]=h;n("set",p)}else n(u,...h)}catch(p){_r.error(p)}}),o.apply(this,arguments)}return function r(u){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(ws,rE,oE,Kc,Yc);mo=o,dm=u,Of=!0}return ws[i]=function _d(n,e,t,i,r,o,u){return um.apply(this,arguments)}(n,rE,oE,e,dm,Kc,t),new xS(n)}function lE(){return kf.apply(this,arguments)}function kf(){return(kf=(0,X.Z)(function*(){if((0,xt.ru)()||!(0,xt.zI)()||!(0,xt.hl)())return!1;try{return yield(0,xt.eu)()}catch{return!1}})).apply(this,arguments)}const cE="@firebase/analytics";!function aR(){(0,hn._registerComponent)(new xo.wA(im,(e,{options:t})=>zv(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,hn._registerComponent)(new xo.wA("analytics-internal",function n(e){try{const t=e.getProvider(im).getImmediate();return{logEvent:(i,r,o)=>function OS(n,e,t,i){n=(0,xt.m9)(n),function am(n,e,t,i,r){return Uv.apply(this,arguments)}(mo,ws[n.app.options.appId],e,t,i).catch(r=>_r.error(r))}(t,i,r,o)}}catch(t){throw Gr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,hn.registerVersion)(cE,"0.10.0"),(0,hn.registerVersion)(cE,"0.10.0","esm2017")}();var Rf=$(727);class dE extends Rf.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const fm={setInterval(n,e,...t){const{delegate:i}=fm;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=fm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var kS=$(8737);class hE extends dE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return fm.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&fm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,kS.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const qv={now:()=>(qv.delegate||Date).now(),delegate:void 0};class Pf{constructor(e,t=Pf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Pf.now=qv.now;class pm extends Pf{constructor(e,t=Pf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const PS=new class RS extends pm{}(class fE extends hE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Ff=new pm(hE),FS=Ff;var Wn=$(9751),ko=$(576),tr=$(4482),gi=$(5403),Pl=$(4671);function ar(n,e,t){const i=(0,ko.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,tr.e)((r,o)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let h=!0;r.subscribe((0,gi.x)(o,p=>{var y;null===(y=i.next)||void 0===y||y.call(i,p),o.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),o.complete()},p=>{var y;h=!1,null===(y=i.error)||void 0===y||y.call(i,p),o.error(p)},()=>{var p,y;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(y=i.finalize)||void 0===y||y.call(i)}))}):Pl.y}var Lf=$(9468),yd=$(5363);const vd=new a.GfV("7.5.0"),Zv="__angularfire_symbol__analyticsIsSupportedValue",Kv="__angularfire_symbol__analyticsIsSupported",bd="__angularfire_symbol__remoteConfigIsSupportedValue",wd="__angularfire_symbol__remoteConfigIsSupported",Ed="__angularfire_symbol__messagingIsSupportedValue",pE="__angularfire_symbol__messagingIsSupported";function gm(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(u=>u.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Kv]||(globalThis[Kv]=lE().then(n=>globalThis[Zv]=n).catch(()=>globalThis[Zv]=!1)),globalThis[pE]||(globalThis[pE]=Nv().then(n=>globalThis[Ed]=n).catch(()=>globalThis[Ed]=!1)),globalThis[wd]||(globalThis[wd]=GI().then(n=>globalThis[bd]=n).catch(()=>globalThis[bd]=!1));const mm=(n,e)=>{const t=e?[e]:(0,hn.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i};function Fl(){}class Qs{constructor(e,t=PS){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(u){r.runGuarded(()=>{e.apply(this,[u])})},t,i)}}class _m{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)),t.pipe(ar({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ll=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Qs(Zone.current)),this.insideAngular=t.run(()=>new Qs(Zone.current,Ff)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Es(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Bl(n){return Es().ngZone.run(()=>n())}function Ro(n){return Es(),function Uf(n){return function(t){return(t=t.lift(new _m(n.ngZone))).pipe((0,Lf.R)(n.outsideAngular),(0,yd.Q)(n.insideAngular))}}(Es())(n)}const jS=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Bl(()=>n.apply(void 0,i))},Vf=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Bl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)))),i[o]=jS(i[o],t));const r=function US(n){return Es().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Wn.y){const o=Es();return r.pipe((0,Lf.R)(o.outsideAngular),(0,yd.Q)(o.insideAngular))}return Bl(()=>r)}return r instanceof Wn.y?r.pipe(Ro):r instanceof Promise?Bl(()=>new Promise((o,u)=>r.then(h=>Bl(()=>o(h)),h=>Bl(()=>u(h))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Bl(()=>r)};class Dd{constructor(e){return e}}class Yv{constructor(){return(0,hn.getApps)()}}const Jv=new a.OlP("angularfire2._apps"),HS={provide:Dd,useFactory:function $S(n){return n&&1===n.length?n[0]:new Dd((0,hn.getApp)())},deps:[[new a.FiY,Jv]]},GS={provide:Yv,deps:[[new a.FiY,Jv]]};function gE(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Dd(i)}}let Qv=(()=>{class n{constructor(t){(0,hn.registerVersion)("angularfire",vd.full,"core"),(0,hn.registerVersion)("angularfire",vd.full,"app"),(0,hn.registerVersion)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[HS,GS]}),n})();function zS(n,...e){return{ngModule:Qv,providers:[{provide:Jv,useFactory:gE(n),multi:!0,deps:[a.R0b,a.zs3,Ll,...e]}]}}const WS=Vf(hn.initializeApp,!0),ym=new Map,Xv={activated:!1,tokenObservers:[]},_E={initialized:!1,enabled:!1};function Si(n){return ym.get(n)||Object.assign({},Xv)}function jf(){return _E}const yE="https://content-firebaseappcheck.googleapis.com/v1",ZS="exchangeDebugToken",bm={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xs{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,X.Z)(function*(){t.stop();try{t.pending=new xt.BH,yield function $f(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vi=new xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ua(n,e){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,X.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,o)}catch(S){throw vi.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw vi.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw vi.create("fetch-parse-error",{originalErrorMessage:S?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+y,issuedAtTimeMillis:w}})).apply(this,arguments)}const Id="firebase-app-check-database",Sd=1,ea="firebase-app-check-store";let Gf=null;function nb(n,e){return wm.apply(this,arguments)}function wm(){return(wm=(0,X.Z)(function*(n,e){const i=(yield function tb(){return Gf||(Gf=new Promise((n,e)=>{try{const t=indexedDB.open(Id,Sd);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(vi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ea,{keyPath:"compositeKey"})}}catch(t){e(vi.create("storage-open",{originalErrorMessage:t?.message}))}}),Gf)}()).transaction(ea,"readwrite"),o=i.objectStore(ea).put({compositeKey:n,value:e});return new Promise((u,h)=>{o.onsuccess=p=>{u()},i.onerror=p=>{var y;h(vi.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const zf=new Mo.Yd("@firebase/app-check");function qf(n,e){return(0,xt.hl)()?function bE(n,e){return nb(function rb(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Zf(){return ob.apply(this,arguments)}function ob(){return(ob=(0,X.Z)(function*(){const n=jf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dm={error:"UNKNOWN_ERROR"};function CE(n){return xt.US.encodeString(JSON.stringify(n),!1)}function Kf(n){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,X.Z)(function*(n,e=!1){const t=n.app;!function _o(n){if(!Si(n).activated)throw vi.create("use-before-activation",{appName:n.name})}(t);const i=Si(t);let o,r=i.token;if(r&&!Xc(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(Xc(p)?r=p:yield qf(t,void 0))}if(!e&&r&&Xc(r))return{token:r.token};let h,u=!1;if(function xd(){return jf().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ua(function Qc(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${yE}/projects/${t}/apps/${i}:${ZS}?key=${r}`,body:{debug_token:e}}}(t,yield Zf()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const p=yield i.exchangeTokenPromise;return yield qf(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Si(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?zf.warn(p.message):zf.error(p),o=p}return r?o?h=Xc(r)?{token:r.token,internalError:o}:ab(o):(h={token:r.token},i.token=r,yield qf(t,r)):h=ab(o),u&&function sb(n,e){const t=Si(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function Cm(n,e){const t=Si(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function SE(n){const{app:e}=n,t=Si(e);let i=t.tokenRefresher;i||(i=function AE(n){const{app:e}=n;return new Xs((0,X.Z)(function*(){let i;if(i=Si(e).token?yield Kf(n,!0):yield Kf(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Si(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},bm.RETRIAL_MIN_WAIT,bm.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Xc(n){return n.expireTimeMillis-Date.now()>0}function ab(n){return{token:CE(Dm),error:n}}class JS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Si(this.app);for(const t of e)Cm(this.app,t.next);return Promise.resolve()}}const hb="app-check-internal";!function eA(){(0,hn._registerComponent)(new xo.wA("app-check",n=>function xE(n,e){return new JS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hb).initialize()})),(0,hn._registerComponent)(new xo.wA(hb,n=>function ME(n){return{getToken:e=>Kf(n,e),addTokenListener:e=>function Jf(n,e,t,i){const{app:r}=n,o=Si(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Xc(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),SE(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>SE(n))}(n,"INTERNAL",e),removeTokenListener:e=>Cm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hn.registerVersion)("@firebase/app-check","0.7.0")}();class Xf{constructor(){return mm("app-check")}}typeof window<"u"&&window;var yo=$(8502);class tp{constructor(e){return e}}class pb{constructor(){return mm("auth")}}const gb=new a.OlP("angularfire2.auth-instances");function aA(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new tp(i)}}const mb={provide:pb,deps:[[new a.FiY,gb]]},np={provide:tp,useFactory:function sA(n,e){const t=gm("auth",n,e);return t&&new tp(t)},deps:[[new a.FiY,gb],Dd]};let lA=(()=>{class n{constructor(){(0,hn.registerVersion)("angularfire",vd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[np,mb]}),n})();function jE(n,...e){return{ngModule:lA,providers:[{provide:gb,useFactory:aA(n),multi:!0,deps:[a.R0b,a.zs3,Ll,Yv,[new a.FiY,Xf],...e]}]}}const yb=Vf(yo.a8,!0),$E=Vf(yo.o,!0),HE=Vf(yo.a9,!0),GE=Vf(yo.B,!0);var ti=$(8996),$a=$(3269);function Nt(...n){const e=(0,$a.yG)(n);return(0,ti.D)(n,e)}var Lt=$(8189);function Nd(...n){return function xA(){return(0,Lt.J)(1)}()((0,ti.D)(n,(0,$a.yG)(n)))}function $l(...n){const e=(0,$a.yG)(n);return(0,tr.e)((t,i)=>{(e?Nd(n,t,e):Nd(n,t)).subscribe(i)})}function Hl(){return(0,tr.e)((n,e)=>{let t,i=!1;n.subscribe((0,gi.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var Rt=$(4004);function Gl(n,e){return(0,tr.e)(function km(n,e,t,i,r){return(o,u)=>{let h=t,p=e,y=0;o.subscribe((0,gi.x)(u,w=>{const S=y++;p=h?n(p,w,S):(h=!0,w),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}(n,e,arguments.length>=2,!0))}function ni(n,e=Pl.y){return n=n??zR,(0,tr.e)((t,i)=>{let r,o=!0;t.subscribe((0,gi.x)(i,u=>{const h=e(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function zR(n,e){return n===e}function Ai(n,e){return(0,tr.e)((t,i)=>{let r=0;t.subscribe((0,gi.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var gt,ts=$(2011),qE=($(9568),$(3942)),ZE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ns={},bb=bb||{},an=ZE||self;function Rm(){}function zl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var wb="closure_uid_"+(1e9*Math.random()>>>0),Pm=0;function KE(n,e,t){return n.call.apply(n.bind,arguments)}function YE(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function kr(n,e,t){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KE:YE).apply(null,arguments)}function Fm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function is(){this.s=this.s,this.o=this.o}is.prototype.s=!1,is.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function MA(n){Object.prototype.hasOwnProperty.call(n,wb)&&n[wb]||(n[wb]=++Pm)}(this)},is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Eb(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Db(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(zl(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var QE=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",Rm,e),an.removeEventListener("test",Rm,e)}catch{}return n}();function Lm(n){return/^[\s\xa0]*$/.test(n)}var Tb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Cb(n,e){return n<e?-1:n>e?1:0}function Bm(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function Ha(n){return-1!=Bm().indexOf(n)}function XE(n){return XE[" "](n),n}function OA(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}XE[" "]=Rm;var Um,n,qR=Ha("Opera"),eu=Ha("Trident")||Ha("MSIE"),op=Ha("Edge"),Ib=op||eu,eD=Ha("Gecko")&&!(-1!=Bm().toLowerCase().indexOf("webkit")&&!Ha("Edge"))&&!(Ha("Trident")||Ha("MSIE"))&&!Ha("Edge"),tD=-1!=Bm().toLowerCase().indexOf("webkit")&&!Ha("Edge");function Od(){var n=an.document;return n?n.documentMode:void 0}e:{var Sb="",Ab=(n=Bm(),eD?/rv:([^\);]+)(\)|;)/.exec(n):op?/Edge\/([\d\.]+)/.exec(n):eu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tD?/WebKit\/(\S+)/.exec(n):qR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ab&&(Sb=Ab?Ab[1]:""),eu){var xb=Od();if(null!=xb&&xb>parseFloat(Sb)){Um=String(xb);break e}}Um=Sb}var ZR={},RA=an.document&&eu&&(Od()||parseInt(Um,10))||void 0;function Ga(n,e){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eD){e:{try{XE(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:PA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ga.$.h.call(this)}}xi(Ga,Rr);var PA={2:"touch",3:"pen",4:"mouse"};Ga.prototype.h=function(){Ga.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kd="closure_listenable_"+(1e6*Math.random()|0),FA=0;function iD(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++FA,this.fa=this.ia=!1}function jm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function $m(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function rD(n){const e={};for(const t in n)e[t]=n[t];return e}const Hm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oD(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<Hm.length;o++)t=Hm[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function sp(n){this.src=n,this.g={},this.h=0}function Gm(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=JE(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(jm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Mb(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}sp.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Mb(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new iD(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var Nb="closure_lm_"+(1e6*Math.random()|0),Ob={};function zm(n,e,t,i,r){if(i&&i.once)return lD(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zm(n,e[o],t,i,r);return null}return t=Fb(t),n&&n[kd]?n.O(e,t,rp(i)?!!i.capture:!!i,r):sD(n,e,t,!1,i,r)}function sD(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var u=rp(r)?!!r.capture:!!r,h=Rb(n);if(h||(n[Nb]=h=new sp(n)),(t=h.add(e,t,i,u,o)).proxy)return t;if(i=function aD(){const e=LA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)QE||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(uD(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function lD(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)lD(n,e[o],t,i,r);return null}return t=Fb(t),n&&n[kd]?n.P(e,t,rp(i)?!!i.capture:!!i,r):sD(n,e,t,!0,i,r)}function cD(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)cD(n,e[o],t,i,r);else i=rp(i)?!!i.capture:!!i,t=Fb(t),n&&n[kd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Mb(o=n.g[e],t,i,r))&&(jm(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Rb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Mb(e,t,i,r)),(t=-1<n?e[n]:null)&&kb(t))}function kb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[kd])Gm(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(uD(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Rb(e))?(Gm(t,n),0==t.h&&(t.src=null,e[Nb]=null)):jm(n)}}}function uD(n){return n in Ob?Ob[n]:Ob[n]="on"+n}function LA(n,e){if(n.fa)n=!0;else{e=new Ga(e,this);var t=n.listener,i=n.la||n.src;n.ia&&kb(n),n=t.call(i,e)}return n}function Rb(n){return(n=n[Nb])instanceof sp?n:null}var Pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fb(n){return"function"==typeof n?n:(n[Pb]||(n[Pb]=function(e){return n.handleEvent(e)}),n[Pb])}function cr(){is.call(this),this.i=new sp(this),this.S=this,this.J=null}function yr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Rr(e,n);else if(e instanceof Rr)e.target=e.target||n;else{var r=e;oD(e=new Rr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];r=ap(u,i,!0,e)&&r}if(r=ap(u=e.g=n,i,!0,e)&&r,r=ap(u,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=ap(u=e.g=t[o],i,!1,e)&&r}function ap(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.fa&&u.capture==t){var h=u.listener,p=u.la||u.src;u.ia&&Gm(n.i,u),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}xi(cr,is),cr.prototype[kd]=!0,cr.prototype.removeEventListener=function(n,e,t,i){cD(this,n,e,t,i)},cr.prototype.N=function(){if(cr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)jm(t[i]);delete n.g[e],n.h--}}this.J=null},cr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},cr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Lb=an.JSON.stringify;function Bb(){var n=fD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qm,hD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new BA,n=>n.reset());class BA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ub(n){an.setTimeout(()=>{throw n},0)}function Wm(n,e){qm||function Vb(){var n=an.Promise.resolve(void 0);qm=function(){n.then($b)}}(),jb||(qm(),jb=!0),fD.add(n,e)}var jb=!1,fD=new class dD{constructor(){this.h=this.g=null}add(e,t){const i=hD.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function $b(){for(var n;n=Bb();){try{n.h.call(n.g)}catch(t){Ub(t)}var e=hD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jb=!1}function Zm(n,e){cr.call(this),this.h=n||1,this.g=e||an,this.j=kr(this.qb,this),this.l=Date.now()}function Km(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Wl(n,e,t){if("function"==typeof n)t&&(n=kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function Hb(n){n.g=Wl(()=>{n.g=null,n.i&&(n.i=!1,Hb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xi(Zm,cr),(gt=Zm.prototype).ga=!1,gt.T=null,gt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yr(this,"tick"),this.ga&&(Km(this),this.start()))}},gt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.N=function(){Zm.$.N.call(this),Km(this),delete this.g};class UA extends is{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hb(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ym(n){is.call(this),this.h=n,this.g={}}xi(Ym,is);var Gb=[];function Jm(n,e,t,i){Array.isArray(t)||(t&&(Gb[0]=t.toString()),t=Gb);for(var r=0;r<t.length;r++){var o=zm(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function pD(n){$m(n.g,function(e,t){this.g.hasOwnProperty(t)&&kb(e)},n),n.g={}}function Rd(){this.g=!0}function ql(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _D(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Lb(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Ym.prototype.N=function(){Ym.$.N.call(this),pD(this)},Ym.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rd.prototype.Ea=function(){this.g=!1},Rd.prototype.info=function(){};var Zl={},zb=null;function Qm(){return zb=zb||new cr}function yD(n){Rr.call(this,Zl.Ta,n)}function lp(n){const e=Qm();yr(e,new yD(e))}function vD(n,e){Rr.call(this,Zl.STAT_EVENT,n),this.stat=e}function Wr(n){const e=Qm();yr(e,new vD(e,n))}function jA(n,e){Rr.call(this,Zl.Ua,n),this.size=e}function Pd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}Zl.Ta="serverreachability",xi(yD,Rr),Zl.STAT_EVENT="statevent",xi(vD,Rr),Zl.Ua="timingevent",xi(jA,Rr);var Xm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wD(){}function DD(){}wD.prototype.h=null;var n_,cp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function e_(){Rr.call(this,"d")}function t_(){Rr.call(this,"c")}function i_(){}function up(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Ym(this),this.P=$A,this.V=new Zm(n=Ib?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new TD}function TD(){this.i=null,this.g="",this.h=!1}xi(e_,Rr),xi(t_,Rr),xi(i_,wD),i_.prototype.g=function(){return new XMLHttpRequest},i_.prototype.i=function(){return{}},n_=new i_;var $A=45e3,Wb={},r_={};function tu(n,e,t){n.L=1,n.v=l_(vr(e)),n.s=t,n.S=!0,qb(n,null)}function qb(n,e){n.G=Date.now(),Fd(n),n.A=vr(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),d_(t.i,"t",i),n.C=0,t=n.l.I,n.h=new TD,n.g=VD(n.l,t?e:null,!n.s),0<n.O&&(n.M=new UA(kr(n.Pa,n,n.g),n.O)),Jm(n.U,n.g,"readystatechange",n.nb),e=n.I?rD(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),lp(),function VA(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var w=y[0];y=y[1];var S=w.split("_");u=2<=S.length&&"type"==S[1]?u+(w+"=")+y+"&":u+(w+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Zb(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Kb(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=CD(n,t),r==r_){4==e&&(n.o=4,Wr(14),i=!1),ql(n.j,n.m,null,"[Incomplete Response]");break}if(r==Wb){n.o=4,Wr(15),ql(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ql(n.j,n.m,r,null),Jb(n,r)}Zb(n)&&r!=r_&&r!=Wb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Wr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),d0(e),e.L=!0,Wr(11))):(ql(n.j,n.m,t,"[Invalid Chunked Response]"),Kl(n),s_(n))}function CD(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?r_:(t=Number(e.substring(t,i)),isNaN(t)?Wb:(i+=1)+t>e.length?r_:(e=e.substr(i,t),n.C=i+t,e))}function Fd(n){n.Y=Date.now()+n.P,Yb(n,n.P)}function Yb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Pd(kr(n.lb,n),e)}function o_(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function s_(n){0==n.l.H||n.J||h0(n.l,n)}function Kl(n){o_(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Km(n.V),pD(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Jb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||f_(t.h,n)))if(!n.K&&f_(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;b_(t),v_(t)}BD(t),Wr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=Pd(kr(t.ib,t),6e3));if(1>=h_(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else ru(t,11)}else if((n.K||t.g==n)&&b_(t),!Lm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.J=y[1],t.oa=y[2];const w=y[3];null!=w&&(t.qa=w,t.j.info("VER="+t.qa));const S=y[4];null!=S&&(t.Ga=S,t.j.info("SVER="+t.Ga));const P=y[5];null!=P&&"number"==typeof P&&0<P&&(t.K=i=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const W=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var o=i.h;o.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(p_(o,o.h),o.h=null))}if(i.F){const q=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.Da=q,mi(i.G,i.F,q))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=g0(i,i.I?i.oa:null,i.Y),u.K){t0(i.h,u);var h=u,p=i.K;p&&h.setTimeout(p),h.B&&(o_(h),Fd(h)),i.g=u}else LD(i);0<t.i.length&&Wa(t)}else"stop"!=y[0]&&"close"!=y[0]||ru(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?ru(t,7):y_(t):"noop"!=y[0]&&t.l&&t.l.Aa(y),t.A=0)}lp()}catch{}}function ID(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zl(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function GA(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zl(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function HA(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zl(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(gt=up.prototype).setTimeout=function(n){this.P=n},gt.nb=function(n){n=n.target;const e=this.M;e&&3==Ds(n)?e.l():this.Pa(n)},gt.Pa=function(n){try{if(n==this.g)e:{const w=Ds(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||Ib||this.g&&(this.h.h||this.g.ja()||a0(this.g)))){this.J||4!=w||7==e||lp(),o_(this);var t=this.g.da();this.aa=t;t:if(Zb(this)){var i=a0(this.g);n="";var r=i.length,o=4==Ds(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kl(this),s_(this);var u="";break t}this.h.i=new an.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function gD(n,e,t,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lm(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Wr(12),Kl(this),s_(this);break e}ql(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jb(this,t)}this.S?(Kb(this,w,u),Ib&&this.i&&3==w&&(Jm(this.U,this.V,"tick",this.mb),this.V.start())):(ql(this.j,this.m,u,null),Jb(this,u)),4==w&&Kl(this),this.i&&!this.J&&(4==w?h0(this.l,this):(this.i=!1,Fd(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Wr(12)):(this.o=0,Wr(13)),Kl(this),s_(this)}}}catch{}},gt.mb=function(){if(this.g){var n=Ds(this.g),e=this.g.ja();this.C<e.length&&(o_(this),Kb(this,n,e),this.i&&4!=n&&Fd(this))}},gt.cancel=function(){this.J=!0,Kl(this)},gt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(lp(),Wr(17)),Kl(this),this.o=2,s_(this)):Yb(this,this.Y-n)};var Ld=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof za){this.h=void 0!==e?e:n.h,a_(this,n.j),this.s=n.s,this.g=n.g,Bd(this,n.m),this.l=n.l,e=n.i;var t=new Vd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ud(this,t),this.o=n.o}else n&&(t=String(n).match(Ld))?(this.h=!!e,a_(this,t[1]||"",!0),this.s=dp(t[2]||""),this.g=dp(t[3]||"",!0),Bd(this,t[4]),this.l=dp(t[5]||"",!0),Ud(this,t[6]||"",!0),this.o=dp(t[7]||"")):(this.h=!!e,this.i=new Vd(null,this.h))}function vr(n){return new za(n)}function a_(n,e,t){n.j=t?dp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ud(n,e,t){e instanceof Vd?(n.i=e,function qA(n,e){e&&!n.j&&(ta(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(u_(this,i),d_(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Yl(e,xD)),n.i=new Vd(e,n.h))}function mi(n,e,t){n.i.set(e,t)}function l_(n){return mi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,c_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function c_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}za.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yl(e,SD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yl(e,SD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yl(t,"/"==t.charAt(0)?AD:WA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yl(t,Qb)),n.join("")};var SD=/[#\/\?@]/g,WA=/[#\?:]/g,AD=/[#\?]/g,xD=/[#\?@]/g,Qb=/#/g;function Vd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ta(n){n.g||(n.g=new Map,n.h=0,n.i&&function zA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function u_(n,e){ta(n),e=Jl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Xb(n,e){return ta(n),e=Jl(n,e),n.g.has(e)}function d_(n,e,t){u_(n,e),0<t.length&&(n.i=null,n.g.set(Jl(n,e),Eb(t)),n.h+=t.length)}function Jl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function MD(n){this.l=n||KA,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=Vd.prototype).add=function(n,e){ta(this),this.i=null,n=Jl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){ta(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},gt.sa=function(){ta(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},gt.Z=function(n){ta(this);let e=[];if("string"==typeof n)Xb(this,n)&&(e=e.concat(this.g.get(Jl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return ta(this),this.i=null,Xb(this,n=Jl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var KA=10;function e0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function h_(n){return n.h?1:n.g?n.g.size:0}function f_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function p_(n,e){n.g?n.g.add(e):n.h=e}function t0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function n0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Eb(n.i)}function r0(){}function ND(){this.g=new r0}function OD(n,e,t){const i=t||"";try{ID(n,function(r,o){let u=r;rp(r)&&(u=Lb(r)),e.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function hp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function jd(n){this.l=n.fc||null,this.j=n.ob||!1}function br(n,e){cr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ql,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MD.prototype.cancel=function(){if(this.i=n0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},r0.prototype.stringify=function(n){return an.JSON.stringify(n,void 0)},r0.prototype.parse=function(n){return an.JSON.parse(n,void 0)},xi(jd,wD),jd.prototype.g=function(){return new br(this.l,this.j)},jd.prototype.i=function(n){return function(){return n}}({}),xi(br,cr);var Ql=0;function kD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function fp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,g_(n)}function g_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=br.prototype).open=function(n,e){if(this.readyState!=Ql)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,g_(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fp(this)),this.readyState=Ql},gt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,g_(this)),this.g&&(this.readyState=3,g_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},gt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fp(this):g_(this),3==this.readyState&&kD(this)}},gt.Za=function(n){this.g&&(this.response=this.responseText=n,fp(this))},gt.Ya=function(n){this.g&&(this.response=n,fp(this))},gt.ka=function(){this.g&&fp(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(br.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var KR=an.JSON.parse;function bi(n){cr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=m_,this.L=this.M=!1}xi(bi,cr);var m_="",pp=/^https?$/i,JA=["POST","PUT"];function RD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,s0(n),__(n)}function s0(n){n.F||(n.F=!0,yr(n,"complete"),yr(n,"error"))}function PD(n){if(n.h&&typeof bb<"u"&&(!n.C[1]||4!=Ds(n)||2!=n.da()))if(n.v&&4==Ds(n))Wl(n.La,0,n);else if(yr(n,"readystatechange"),4==Ds(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.I).match(Ld)[1]||null;if(!r&&an.self&&an.self.location){var o=an.self.location.protocol;r=o.substr(0,o.length-1)}i=!pp.test(r?r.toLowerCase():"")}t=i}if(t)yr(n,"complete"),yr(n,"success");else{n.m=6;try{var u=2<Ds(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",s0(n)}}finally{__(n)}}}function __(n,e){if(n.g){FD(n);const t=n.g,i=n.C[0]?Rm:null;n.g=null,n.C=null,e||yr(n,"ready");try{t.onreadystatechange=i}catch{}}}function FD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function Ds(n){return n.g?n.g.readyState:0}function a0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case m_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function l0(n){let e="";return $m(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function $d(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=l0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mi(n,e,t))}function nu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function QA(n){this.Ga=0,this.i=[],this.j=new Rd,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nu("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nu("baseRetryDelayMs",5e3,n),this.hb=nu("retryDelaySeedMs",1e4,n),this.eb=nu("forwardChannelMaxRetries",2,n),this.xa=nu("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new MD(n&&n.concurrentRequestLimit),this.Ja=new ND,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function y_(n){if(c0(n),3==n.H){var e=n.W++,t=vr(n.G);mi(t,"SID",n.J),mi(t,"RID",e),mi(t,"TYPE","terminate"),iu(n,t),(e=new up(n,n.j,e,void 0)).L=2,e.v=l_(vr(t)),t=!1,an.navigator&&an.navigator.sendBeacon&&(t=an.navigator.sendBeacon(e.v.toString(),"")),!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=VD(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fd(e)}p0(n)}function v_(n){n.g&&(d0(n),n.g.cancel(),n.g=null)}function c0(n){v_(n),n.u&&(an.clearTimeout(n.u),n.u=null),b_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function Wa(n){e0(n.h)||n.m||(n.m=!0,Wm(n.Na,n),n.C=0)}function u0(n,e){var t;t=e?e.m:n.W++;const i=vr(n.G);mi(i,"SID",n.J),mi(i,"RID",t),mi(i,"AID",n.V),iu(n,i),n.o&&n.s&&$d(i,n.o,n.s),t=new up(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=ex(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),p_(n.h,t),tu(t,i,e)}function iu(n,e){n.ma&&$m(n.ma,function(t,i){mi(e,i,t)}),n.l&&ID({},function(t,i){mi(e,i,t)})}function ex(n,e,t){t=Math.min(n.i.length,t);var i=n.l?kr(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let p=0;p<t;p++){let y=r[p].h;const w=r[p].g;if(y-=o,0>y)o=Math.max(0,r[p].h-100),h=!1;else try{OD(w,u,"req"+y+"_")}catch{i&&i(w)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function LD(n){n.g||n.u||(n.ba=1,Wm(n.Ma,n),n.A=0)}function BD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Pd(kr(n.Ma,n),f0(n,n.A)),n.A++,0))}function d0(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function UD(n){n.g=new up(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=vr(n.wa);mi(e,"RID","rpc"),mi(e,"SID",n.J),mi(e,"CI",n.M?"0":"1"),mi(e,"AID",n.V),mi(e,"TYPE","xmlhttp"),iu(n,e),n.o&&n.s&&$d(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=l_(vr(e)),t.s=null,t.S=!0,qb(t,n)}function b_(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function h0(n,e){var t=null;if(n.g==e){b_(n),d0(n),n.g=null;var i=2}else{if(!f_(n.h,e))return;t=e.F,t0(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;yr(i=Qm(),new jA(i,t)),Wa(n)}else LD(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function XA(n,e){return!(h_(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Pd(kr(n.Na,n,e),f0(n,n.C)),n.C++,0)))}(n,e)||2==i&&BD(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:ru(n,5);break;case 4:ru(n,10);break;case 3:ru(n,6);break;default:ru(n,2)}}function f0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function ru(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=kr(n.pb,n);t||(t=new za("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||a_(t,"https"),l_(t)),function YA(n,e){const t=new Rd;if(an.Image){const i=new Image;i.onload=Fm(hp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Fm(hp,t,i,"TestLoadImage: error",!1,e),i.onabort=Fm(hp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Fm(hp,t,i,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Wr(2);n.H=0,n.l&&n.l.za(e),p0(n),c0(n)}function p0(n){if(n.H=0,n.pa=[],n.l){const e=n0(n.h);(0!=e.length||0!=n.i.length)&&(Db(n.pa,e),Db(n.pa,n.i),n.h.i.length=0,Eb(n.i),n.i.length=0),n.l.ya()}}function g0(n,e,t){var i=t instanceof za?vr(t):new za(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Bd(i,i.m);else{var r=an.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new za(null,void 0);i&&a_(o,i),e&&(o.g=e),r&&Bd(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&mi(i,t,e),mi(i,"VER",n.qa),iu(n,i),i}function VD(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new bi(t&&n.Ha&&!n.va?new jd({ob:!0}):n.va)).Oa(n.I),e}function jD(){}function gp(){if(eu&&!(10<=Number(RA)))throw Error("Environmental error: no available transport.")}function Po(n,e){cr.call(this),this.g=new QA(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Lm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ou(this)}function m0(n){e_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _0(){t_.call(this),this.status=1}function ou(n){this.g=n}function Ts(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function y0(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],u=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;u=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(u<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(e=t+((u=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=o+((u=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function jn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(gt=bi.prototype).Oa=function(n){this.M=n},gt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():n_.g(),this.C=function ED(n){return n.h||(n.h=n.i())}(this.u?this.u:n_),this.g.onreadystatechange=kr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void RD(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=an.FormData&&n instanceof an.FormData,!(0<=JE(JA,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FD(this),0<this.B&&((this.L=function o0(n){return eu&&function kA(){return OA(ZR,9,function(){let n=0;const e=Tb(String(Um)).split("."),t=Tb("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",o=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Cb(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Cb(0==r[2].length,0==o[2].length)||Cb(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.ua,this)):this.A=Wl(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){RD(this,o)}},gt.ua=function(){typeof bb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yr(this,"complete"),yr(this,"abort"),__(this))},gt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),__(this,!0)),bi.$.N.call(this)},gt.La=function(){this.s||(this.G||this.v||this.l?PD(this):this.kb())},gt.kb=function(){PD(this)},gt.da=function(){try{return 2<Ds(this)?this.g.status:-1}catch{return-1}},gt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),KR(e)}},gt.Ia=function(){return this.m},gt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=QA.prototype).qa=8,gt.H=1,gt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new up(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=rD(o),oD(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ex(this,r,e),mi(t=vr(this.G),"RID",n),mi(t,"CVER",22),this.F&&mi(t,"X-HTTP-Session-Id",this.F),iu(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(l0(o)))+"&"+e:this.o&&$d(t,this.o,o)),p_(this.h,r),this.bb&&mi(t,"TYPE","init"),this.P?(mi(t,"$req",e),mi(t,"SID","null"),r.ba=!0,tu(r,t,null)):tu(r,t,e),this.H=2}}else 3==this.H&&(n?u0(this,n):0==this.i.length||e0(this.h)||u0(this))},gt.Ma=function(){if(this.u=null,UD(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Pd(kr(this.jb,this),n)}},gt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Wr(10),v_(this),UD(this))},gt.ib=function(){null!=this.v&&(this.v=null,v_(this),BD(this),Wr(19))},gt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Wr(2)):(this.j.info("Failed to ping google.com"),Wr(1))},(gt=jD.prototype).Ba=function(){},gt.Aa=function(){},gt.za=function(){},gt.ya=function(){},gt.Va=function(){},gp.prototype.g=function(n,e){return new Po(n,e)},xi(Po,cr),Po.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Wr(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=g0(n,null,n.Y),Wa(n)},Po.prototype.close=function(){y_(this.g)},Po.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Lb(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Wa(e)},Po.prototype.N=function(){this.g.l=null,delete this.j,y_(this.g),delete this.g,Po.$.N.call(this)},xi(m0,e_),xi(_0,t_),xi(ou,jD),ou.prototype.Ba=function(){yr(this.g,"a")},ou.prototype.Aa=function(n){yr(this.g,new m0(n))},ou.prototype.za=function(n){yr(this.g,new _0)},ou.prototype.ya=function(){yr(this.g,"b")},xi(Ts,function $D(){this.blockSize=-1}),Ts.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ts.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)y0(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){y0(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){y0(this,i),r=0;break}}this.h=r,this.i+=e},Ts.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var HD={};function GD(n){return-128<=n&&128>n?OA(HD,n,function(e){return new jn([0|e],0>e?-1:0)}):new jn([0|n],0>n?-1:0)}function qa(n){if(isNaN(n)||!isFinite(n))return mp;if(0>n)return qr(qa(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=zD;return new jn(e,0)}var zD=4294967296,mp=GD(0),WD=GD(1),nx=GD(16777216);function Xl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function no(n){return-1==n.h}function qr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new jn(t,~n.h).add(WD)}function _p(n,e){return n.add(qr(e))}function su(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Hd(n,e){this.g=n,this.h=e}function yp(n,e){if(Xl(e))throw Error("division by zero");if(Xl(n))return new Hd(mp,mp);if(no(n))return e=yp(qr(n),e),new Hd(qr(e.g),qr(e.h));if(no(e))return e=yp(n,qr(e)),new Hd(qr(e.g),e.h);if(30<n.g.length){if(no(n)||no(e))throw Error("slowDivide_ only works with positive integers.");for(var t=WD,i=e;0>=i.X(n);)t=ix(t),i=ix(i);var r=ec(t,1),o=ec(i,1);for(i=ec(i,2),t=ec(t,2);!Xl(i);){var u=o.add(i);0>=u.X(n)&&(r=r.add(t),o=u),i=ec(i,1),t=ec(t,1)}return e=_p(n,r.R(e)),new Hd(r,e)}for(r=mp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(o=qa(t)).R(e);no(u)||0<u.X(n);)u=(o=qa(t-=i)).R(e);Xl(o)&&(o=WD),r=r.add(o),n=_p(n,u)}return new Hd(r,n)}function ix(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new jn(t,n.h)}function ec(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new jn(r,n.h)}(gt=jn.prototype).ea=function(){if(no(this))return-qr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:zD+i)*e,e*=zD}return n},gt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Xl(this))return"0";if(no(this))return"-"+qr(this).toString(n);for(var e=qa(Math.pow(n,6)),t=this,i="";;){var r=yp(t,e).g,o=((0<(t=_p(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Xl(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},gt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},gt.X=function(n){return no(n=_p(this,n))?-1:Xl(n)?0:1},gt.abs=function(){return no(this)?qr(this):this},gt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),u=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(o&=65535)}return new jn(t,-2147483648&t[t.length-1]?-1:0)},gt.R=function(n){if(Xl(this)||Xl(n))return mp;if(no(this))return no(n)?qr(this).R(qr(n)):qr(qr(this).R(n));if(no(n))return qr(this.R(qr(n)));if(0>this.X(nx)&&0>n.X(nx))return qa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,u=65535&this.D(i),h=n.D(r)>>>16,p=65535&n.D(r);t[2*i+2*r]+=u*p,su(t,2*i+2*r),t[2*i+2*r+1]+=o*p,su(t,2*i+2*r+1),t[2*i+2*r+1]+=u*h,su(t,2*i+2*r+1),t[2*i+2*r+2]+=o*h,su(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new jn(t,0)},gt.gb=function(n){return yp(this,n).h},gt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new jn(t,this.h&n.h)},gt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new jn(t,this.h|n.h)},gt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new jn(t,this.h^n.h)},gp.prototype.createWebChannel=gp.prototype.g,Po.prototype.send=Po.prototype.u,Po.prototype.open=Po.prototype.m,Po.prototype.close=Po.prototype.close,Xm.NO_ERROR=0,Xm.TIMEOUT=8,Xm.HTTP_ERROR=6,bD.COMPLETE="complete",DD.EventType=cp,cp.OPEN="a",cp.CLOSE="b",cp.ERROR="c",cp.MESSAGE="d",cr.prototype.listen=cr.prototype.O,bi.prototype.listenOnce=bi.prototype.P,bi.prototype.getLastError=bi.prototype.Sa,bi.prototype.getLastErrorCode=bi.prototype.Ia,bi.prototype.getStatus=bi.prototype.da,bi.prototype.getResponseJson=bi.prototype.Wa,bi.prototype.getResponseText=bi.prototype.ja,bi.prototype.send=bi.prototype.ha,bi.prototype.setWithCredentials=bi.prototype.Oa,Ts.prototype.digest=Ts.prototype.l,Ts.prototype.reset=Ts.prototype.reset,Ts.prototype.update=Ts.prototype.j,jn.prototype.add=jn.prototype.add,jn.prototype.multiply=jn.prototype.R,jn.prototype.modulo=jn.prototype.gb,jn.prototype.compare=jn.prototype.X,jn.prototype.toNumber=jn.prototype.ea,jn.prototype.toString=jn.prototype.toString,jn.prototype.getBits=jn.prototype.D,jn.fromNumber=qa,jn.fromString=function tx(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return qr(tx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qa(Math.pow(e,8)),i=mp,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+o),e);8>o?(o=qa(Math.pow(e,o)),i=i.R(o).add(qa(u))):i=(i=i.R(t)).add(qa(u))}return i};var qD=ns.createWebChannelTransport=function(){return new gp},rx=ns.getStatEventTarget=function(){return Qm()},ZD=ns.ErrorCode=Xm,ox=ns.EventType=bD,sx=ns.Event=Zl,KD=ns.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},w_=ns.FetchXmlHttpFactory=jd,E_=ns.WebChannel=DD,YR=ns.XhrIo=bi,JR=ns.Md5=Ts,vp=ns.Integer=jn;const YD="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let Gd="9.21.0";const au=new Mo.Yd("@firebase/firestore");function v0(){return au.logLevel}function je(n,...e){if(au.logLevel<=Mo.in.DEBUG){const t=e.map(b0);au.debug(`Firestore (${Gd}): ${n}`,...t)}}function nr(n,...e){if(au.logLevel<=Mo.in.ERROR){const t=e.map(b0);au.error(`Firestore (${Gd}): ${n}`,...t)}}function Mi(n,...e){if(au.logLevel<=Mo.in.WARN){const t=e.map(b0);au.warn(`Firestore (${Gd}): ${n}`,...t)}}function b0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${Gd}) INTERNAL ASSERTION FAILED: `+n;throw nr(e),new Error(e)}function Ot(n,e){n||mt()}function it(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wr.UNAUTHENTICATED))}shutdown(){}}class XD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eT{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,X.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},p=y=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new QD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new wr(e)}}class ax{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class tT{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new ax(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,je("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.T=t.token,new E0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ux(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class D_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=ux(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function $t(n,e){return n<e?-1:n>e?1:0}function Fo(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function D0(n){return n+"\0"}class ii{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ii(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new ii(0,0))}static max(){return new kt(new ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bp{constructor(e,t,i){void 0===t?t=0:t>e.length&&mt(),void 0===i?i=e.length-t:i>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===bp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),u=t.get(r);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mn extends bp{construct(e,t,i){return new Mn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Mn(t)}static emptyPath(){return new Mn([])}}const dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends bp{construct(e,t,i){return new Ni(e,t,i)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Re(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Re(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Re(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Re(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Mn.fromString(e))}static fromName(e){return new lt(Mn.fromString(e).popFirst(5))}static empty(){return new lt(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Mn(e.slice()))}}class T_{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function C_(n){return n.fields.find(e=>2===e.kind)}function zd(n){return n.fields.filter(e=>2!==e.kind)}T_.UNKNOWN_ID=-1;class I_{constructor(e,t){this.fieldPath=e,this.kind=t}}class S_{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new S_(0,vo.min())}}function A_(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(1e9===i?new ii(t+1,0):new ii(t,i));return new vo(r,lt.empty(),e)}function T0(n){return new vo(n.readTime,n.key,-1)}class vo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vo(kt.min(),lt.empty(),-1)}static max(){return new vo(kt.max(),lt.empty(),-1)}}function x_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=lt.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}const C0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cs(n){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,X.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==C0)throw n;je("LocalStore","Unexpectedly lost primary lease")}),Wd.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let r=0,o=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&t()},p=>i(p))}),u=!0,o===r&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(r=>r?ue.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,r)=>{const o=e.length,u=new Array(o);let h=0;for(let p=0;p<o;p++){const y=p;t(e[y]).next(w=>{u[y]=w,++h,h===o&&i(u)},w=>r(w))}})}static doWhile(e,t){return new ue((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class M_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ur,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new N_(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=S0(i.target.error);this.R.reject(new N_(e,r))}}static open(e,t,i,r){try{return new M_(t,e.transaction(r,i))}catch(o){throw new N_(t,o)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new rT(t)}}class Is{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Is.S((0,xt.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),cu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,xt.hl)())return!1;if(Is.C())return!0;const e=(0,xt.z$)(),t=Is.S(e),i=0<t&&t<10,r=Is.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,X.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new N_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Re(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new N_(e,h))},o.onupgradeneeded=u=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.$(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,X.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.O(e);const p=M_.open(o.db,e,u?"readonly":"readwrite",i),y=r(p).next(w=>(p.P(),w)).catch(w=>(p.abort(w),ue.reject(w))).toPromise();return y.catch(()=>{}),yield p.v,y}catch(p){const y=p,w="FirebaseError"!==y.name&&h<3;if(je("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),o.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class XR{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return cu(this.L.delete())}}class N_ extends Re{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function lu(n){return"IndexedDbTransactionError"===n.name}class rT{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),cu(i)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),cu(this.store.add(e))}get(e){return cu(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),cu(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),cu(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ue((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ue((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,u,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ue((i,r)=>{t.onerror=o=>{const u=S0(o.target.error);r(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}W(e,t){const i=[];return new ue((r,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const p=new XR(h),y=t(h.primaryKey,h.value,p);if(y instanceof ue){const w=y.catch(S=>(p.done(),ue.reject(S)));i.push(w)}p.isDone?r():null===p.K?h.continue():h.continue(p.K)}}).next(()=>ue.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cu(n){return new ue((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=S0(i.target.error);t(r)}})}let oT=!1;function S0(n){const e=Is.S((0,xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oT||(oT=!0,setTimeout(()=>{throw i},0)),i}}return n}class eP{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){lu(i)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Cs(i)}yield t.et(6e4)}))}}class tP{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return ue.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return je("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,o)).next(h=>(je("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const u=T0(o);x_(u,i)>0&&(i=u)}),new vo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let rs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function O_(n){return null==n}function k_(n){return 0===n&&1/n==-1/0}function sT(n){return"number"==typeof n&&Number.isInteger(n)&&!k_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function dr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aT(e)),e=hx(n.get(t),e);return aT(e)}function hx(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function aT(n){return n+"\x01\x01"}function Ss(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mn.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&mt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:mt()}o=u+2}return new Mn(i)}const tc=["userId","batchId"];function wp(n,e){return[n,dr(e)]}function R_(n,e,t){return[n,dr(e),t]}const A0={},fx=["prefixPath","collectionGroup","readTime","documentId"],x0=["prefixPath","collectionGroup","documentId"],M0=["collectionGroup","readTime","prefixPath","documentId"],P_=["canonicalId","targetId"],nP=["targetId","path"],iP=["path","targetId"],rP=["collectionId","parent"],oP=["indexId","uid"],lT=["uid","sequenceNumber"],px=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gx=["indexId","uid","orderedDocumentKey"],mx=["userId","collectionPath","documentId"],_x=["userId","collectionPath","largestBatchId"],cT=["userId","collectionGroup","largestBatchId"],N0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uT=[...N0,"documentOverlays"],dT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hT=dT,fT=[...hT,"indexConfiguration","indexState","indexEntries"];class Ep extends I0{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Pr(n,e){const t=it(n);return Is.M(t.at,e)}function O0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function na(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ri{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new k0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new k0(this.root,e,this.comparator,!1)}getReverseIterator(){return new k0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new k0(this.root,e,this.comparator,!0)}}class k0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Zr.RED,this.left=r??Zr.EMPTY,this.right=o??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Zr(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(e){return new gT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ui(this.comparator);return t.data=e,t}}class gT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qd(n){return n.hasNext()?n.getNext():void 0}class Lo{constructor(e){this.fields=e,e.sort(Ni.comparator)}static empty(){return new Lo([])}unionWith(e){let t=new ui(Ni.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class yx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new yx("Invalid base64 string: "+r):r}}(e);return new Er(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const vx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uu(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=vx.exec(n);if(Ot(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zi(n.seconds),nanos:zi(n.nanos)}}function zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function nc(n){return"string"==typeof n?Er.fromBase64String(n):Er.fromUint8Array(n)}function R0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function F_(n){const e=n.mapValue.fields.__previous_value__;return R0(e)?F_(e):e}function L_(n){const e=uu(n.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}class s{constructor(e,t,i,r,o,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class l{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new l("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof l&&e.projectId===this.projectId&&e.database===this.database}}const c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},d={nullValue:"NULL_VALUE"};function f(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?R0(n)?4:Fe(n)?9007199254740991:10:mt()}function m(n,e){if(n===e)return!0;const t=f(n);if(t!==f(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return L_(n).isEqual(L_(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=uu(i.timestampValue),u=uu(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,nc(n.bytesValue).isEqual(nc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return zi(i.geoPointValue.latitude)===zi(r.geoPointValue.latitude)&&zi(i.geoPointValue.longitude)===zi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return zi(i.integerValue)===zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=zi(i.doubleValue),u=zi(r.doubleValue);return o===u?k_(o)===k_(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],m);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(O0(o)!==O0(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!m(o[h],u[h])))return!1;return!0}(n,e);default:return mt()}var r}function v(n,e){return void 0!==(n.values||[]).find(t=>m(t,e))}function D(n,e){if(n===e)return 0;const t=f(n),i=f(e);if(t!==i)return $t(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(r,o){const u=zi(r.integerValue||r.doubleValue),h=zi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return I(n.timestampValue,e.timestampValue);case 4:return I(L_(n),L_(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(r,o){const u=nc(r),h=nc(o);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=$t(u[p],h[p]);if(0!==y)return y}return $t(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const u=$t(zi(r.latitude),zi(o.latitude));return 0!==u?u:$t(zi(r.longitude),zi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=D(u[p],h[p]);if(y)return y}return $t(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===c.mapValue&&o===c.mapValue)return 0;if(r===c.mapValue)return 1;if(o===c.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),p=o.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let w=0;w<h.length&&w<y.length;++w){const S=$t(h[w],y[w]);if(0!==S)return S;const P=D(u[h[w]],p[y[w]]);if(0!==P)return P}return $t(h.length,y.length)}(n.mapValue,e.mapValue);default:throw mt()}}function I(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=uu(n),i=uu(e),r=$t(t.seconds,i.seconds);return 0!==r?r:$t(t.nanos,i.nanos)}function x(n){return k(n)}function k(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=uu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?nc(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=k(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${k(i.fields[h])}`;return o+"}"}(n.mapValue):mt();var e}function Q(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function le(n){return!!n&&"integerValue"in n}function Ce(n){return!!n&&"arrayValue"in n}function Ke(n){return!!n&&"nullValue"in n}function ut(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bt(n){return!!n&&"mapValue"in n}function Ut(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return na(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ut(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ut(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fe(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ln(n){return"nullValue"in n?d:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Q(l.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function _i(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Q(l.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?c:mt()}function Oi(n,e){const t=D(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function bx(n,e){const t=D(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ut(t)}setAll(e){let t=Ni.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Ut(u):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());bt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return m(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];bt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){na(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new io(Ut(this.value))}}function aP(n){const e=[];return na(n.fields,(t,i)=>{const r=new Ni([t]);if(bt(i)){const o=aP(i.mapValue).fields;if(0===o.length)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)}),new Lo(e)}class wi{constructor(e,t,i,r,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new wi(e,0,kt.min(),kt.min(),kt.min(),io.empty(),0)}static newFoundDocument(e,t,i,r){return new wi(e,1,t,kt.min(),i,r,0)}static newNoDocument(e,t){return new wi(e,2,t,kt.min(),kt.min(),io.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,kt.min(),kt.min(),io.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zd{constructor(e,t){this.position=e,this.inclusive=t}}function lP(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(i=o.field.isKeyField()?lt.comparator(lt.fromName(u.referenceValue),t.key):D(u,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function cP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!m(n.position[t],e.position[t]))return!1;return!0}class B_{constructor(e,t="asc"){this.field=e,this.dir=t}}function t$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class uP{}class Sn extends uP{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new n$(e,t,i):"array-contains"===t?new o$(e,i):"in"===t?new mP(e,i):"not-in"===t?new s$(e,i):"array-contains-any"===t?new a$(e,i):new Sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new i$(e,i):new r$(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(D(t,this.value)):null!==t&&f(this.value)===f(t)&&this.matchesComparison(D(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends uP{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new qn(e,t)}matches(e){return U_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function U_(n){return"and"===n.op}function wx(n){return"or"===n.op}function Ex(n){return dP(n)&&U_(n)}function dP(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function Dx(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+x(n.value);if(Ex(n))return n.filters.map(e=>Dx(e)).join(",");{const e=n.filters.map(t=>Dx(t)).join(",");return`${n.op}(${e})`}}function hP(n,e){return n instanceof Sn?(t=n,(i=e)instanceof Sn&&t.op===i.op&&t.field.isEqual(i.field)&&m(t.value,i.value)):n instanceof qn?function(t,i){return i instanceof qn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,u)=>r&&hP(o,i.filters[u]),!0)}(n,e):void mt();var t,i}function fP(n,e){const t=n.filters.concat(e);return qn.create(t,n.op)}function pP(n){return n instanceof Sn?`${(e=n).field.canonicalString()} ${e.op} ${x(e.value)}`:n instanceof qn?function(e){return e.op.toString()+" {"+e.getFilters().map(pP).join(" ,")+"}"}(n):"Filter";var e}class n$ extends Sn{constructor(e,t,i){super(e,t,i),this.key=lt.fromName(i.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class i$ extends Sn{constructor(e,t){super(e,"in",t),this.keys=gP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r$ extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=gP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>lt.fromName(i.referenceValue))}class o$ extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ce(t)&&v(t.arrayValue,this.value)}}class mP extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&v(this.value.arrayValue,t)}}class s$ extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(v(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!v(this.value.arrayValue,t)}}class a$ extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ce(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>v(this.value.arrayValue,i))}}class l${constructor(e,t=null,i=[],r=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ft=null}}function Tx(n,e=null,t=[],i=[],r=null,o=null,u=null){return new l$(n,e,t,i,r,o,u)}function Dp(n){const e=it(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Dx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),O_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>x(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>x(i)).join(",")),e.ft=t}return e.ft}function P0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cP(n.startAt,e.startAt)&&cP(n.endAt,e.endAt)}function mT(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _T(n,e){return n.filters.filter(t=>t instanceof Sn&&t.field.isEqual(e))}function _P(n,e,t){let i=d,r=!0;for(const o of _T(n,e)){let u=d,h=!0;switch(o.op){case"<":case"<=":u=ln(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=d}Oi({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Oi({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function yP(n,e,t){let i=c,r=!0;for(const o of _T(n,e)){let u=c,h=!0;switch(o.op){case">=":case">":u=_i(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=c}bx({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];bx({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class du{constructor(e,t=null,i=[],r=[],o=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=p,this.dt=null,this._t=null}}function vP(n,e,t,i,r,o,u,h){return new du(n,e,t,i,r,o,u,h)}function V_(n){return new du(n)}function bP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Cx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ix(n){return null!==n.collectionGroup}function Tp(n){const e=it(n);if(null===e.dt){e.dt=[];const t=yT(e),i=Cx(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new B_(t)),e.dt.push(new B_(Ni.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new B_(Ni.keyField(),o))}}}return e.dt}function Bo(n){const e=it(n);if(!e._t)if("F"===e.limitType)e._t=Tx(e.path,e.collectionGroup,Tp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Tp(e))t.push(new B_(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;e._t=Tx(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Sx(n,e){e.getFirstInequalityField(),yT(n);const t=n.filters.concat([e]);return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vT(n,e,t){return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F0(n,e){return P0(Bo(n),Bo(e))&&n.limitType===e.limitType}function wP(n){return`${Dp(Bo(n))}|lt:${n.limitType}`}function Ax(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>pP(i)).join(", ")}]`),O_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>x(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>x(i)).join(",")),`Target(${t})`}(Bo(n))}; limitType=${n.limitType})`}function L0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):lt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Tp(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,u){const h=lP(r,o,u);return r.inclusive?h<=0:h<0}(t.startAt,Tp(t),i)||t.endAt&&!function(r,o,u){const h=lP(r,o,u);return r.inclusive?h>=0:h>0}(t.endAt,Tp(t),i)));var t,i}function EP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DP(n){return(e,t)=>{let i=!1;for(const r of Tp(n)){const o=c$(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function c$(n,e,t){const i=n.field.isKeyField()?lt.comparator(e.key,t.key):function(r,o,u){const h=o.data.field(r),p=u.data.field(r);return null!==h&&null!==p?D(h,p):mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class hu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}const u$=new ri(lt.comparator);function os(){return u$}const TP=new ri(lt.comparator);function B0(...n){let e=TP;for(const t of n)e=e.insert(t.key,t);return e}function CP(n){let e=TP;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ic(){return U0()}function IP(){return U0()}function U0(){return new hu(n=>n.toString(),(n,e)=>n.isEqual(e))}const d$=new ri(lt.comparator),h$=new ui(lt.comparator);function vn(...n){let e=h$;for(const t of n)e=e.add(t);return e}const f$=new ui($t);function xx(){return f$}function SP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k_(e)?"-0":e}}function AP(n){return{integerValue:""+n}}function xP(n,e){return sT(e)?AP(e):SP(n,e)}class bT{constructor(){this._=void 0}}function p$(n,e,t){return n instanceof j_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&R0(r)&&(r=F_(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Cp?NP(n,e):n instanceof Ip?OP(n,e):function(i,r){const o=MP(i,r),u=kP(o)+kP(i.wt);return le(o)&&le(i.wt)?AP(u):SP(i.serializer,u)}(n,e)}function g$(n,e,t){return n instanceof Cp?NP(n,e):n instanceof Ip?OP(n,e):t}function MP(n,e){return n instanceof $_?le(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class j_ extends bT{}class Cp extends bT{constructor(e){super(),this.elements=e}}function NP(n,e){const t=RP(e);for(const i of n.elements)t.some(r=>m(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ip extends bT{constructor(e){super(),this.elements=e}}function OP(n,e){let t=RP(e);for(const i of n.elements)t=t.filter(r=>!m(r,i));return{arrayValue:{values:t}}}class $_ extends bT{constructor(e,t){super(),this.serializer=e,this.wt=t}}function kP(n){return zi(n.integerValue||n.doubleValue)}function RP(n){return Ce(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class V0{constructor(e,t){this.field=e,this.transform=t}}class _${constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ET{}function PP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new G_(n.key,ki.none()):new H_(n.key,n.data,ki.none());{const t=n.data,i=io.empty();let r=new ui(Ni.comparator);for(let o of e.fields)if(!r.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new fu(n.key,i,new Lo(r.toArray()),ki.none())}}function y$(n,e,t){n instanceof H_?function(i,r,o){const u=i.value.clone(),h=BP(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof fu?function(i,r,o){if(!wT(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=BP(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(LP(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function j0(n,e,t,i){return n instanceof H_?function(r,o,u,h){if(!wT(r.precondition,o))return u;const p=r.value.clone(),y=UP(r.fieldTransforms,h,o);return p.setAll(y),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof fu?function(r,o,u,h){if(!wT(r.precondition,o))return u;const p=UP(r.fieldTransforms,h,o),y=o.data;return y.setAll(LP(r)),y.setAll(p),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,e,t,i):(u=t,wT(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function v$(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=MP(i.transform,r||null);null!=o&&(null===t&&(t=io.empty()),t.set(i.field,o))}return t||null}function FP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Fo(t,i,(r,o)=>function m$(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Cp&&i instanceof Cp||t instanceof Ip&&i instanceof Ip?Fo(t.elements,i.elements,m):t instanceof $_&&i instanceof $_?m(t.wt,i.wt):t instanceof j_&&i instanceof j_);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class H_ extends ET{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fu extends ET{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function BP(n,e,t){const i=new Map;Ot(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,h=e.data.field(o.field);i.set(o.field,g$(u,h,t[r]))}return i}function UP(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,p$(o,u,e))}return i}class G_ extends ET{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx extends ET{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&y$(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=j0(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=j0(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=IP();return this.mutations.forEach(r=>{const o=e.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(r.key)?null:h;const p=PP(u,h);null!==p&&i.set(r.key,p),u.isValidDocument()||u.convertToNoDocument(kt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vn())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,i)=>FP(t,i))&&Fo(this.baseMutations,e.baseMutations,(t,i)=>FP(t,i))}}class Ox{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ot(e.mutations.length===i.length);let r=d$;const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Ox(e,t,i,r)}}class kx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class w${constructor(e,t){this.count=e,this.unchangedNames=t}}var Dr,kn;function VP(n){switch(n){default:return mt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function jP(n){if(void 0===n)return nr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Dr.OK:return pe.OK;case Dr.CANCELLED:return pe.CANCELLED;case Dr.UNKNOWN:return pe.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return pe.INTERNAL;case Dr.UNAVAILABLE:return pe.UNAVAILABLE;case Dr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Dr.NOT_FOUND:return pe.NOT_FOUND;case Dr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Dr.ABORTED:return pe.ABORTED;case Dr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Dr.DATA_LOSS:return pe.DATA_LOSS;default:return mt()}}(kn=Dr||(Dr={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class Rx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return DT}static getOrCreateInstance(){return null===DT&&(DT=new Rx),DT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let DT=null;function $P(){return new TextEncoder}const E$=new vp([4294967295,4294967295],0);function HP(n){const e=$P().encode(n),t=new JR;return t.update(e),new Uint8Array(t.digest())}function GP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vp([t,i],0),new vp([r,o],0)]}class Px{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $0(`Invalid padding: ${t}`);if(i<0)throw new $0(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new $0(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new $0(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=vp.fromNumber(this.yt)}Tt(e,t,i){let r=e.add(t.multiply(vp.fromNumber(i)));return 1===r.compare(E$)&&(r=new vp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=HP(e),[i,r]=GP(t);for(let o=0;o<this.hashCount;o++){const u=this.Tt(i,r,o);if(!this.Et(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Px(o,r,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(0===this.yt)return;const t=HP(e),[i,r]=GP(t);for(let o=0;o<this.hashCount;o++){const u=this.Tt(i,r,o);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class H0{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,G0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new H0(kt.min(),r,new ri($t),os(),vn())}}class G0{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new G0(i,t,vn(),vn(),vn())}}class TT{constructor(e,t,i,r){this.vt=e,this.removedTargetIds=t,this.key=i,this.Pt=r}}class zP{constructor(e,t){this.targetId=e,this.bt=t}}class WP{constructor(e,t,i=Er.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class qP{constructor(){this.Vt=0,this.St=KP(),this.Dt=Er.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=vn(),t=vn(),i=vn();return this.St.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new G0(this.Dt,this.Ct,e,t,i)}$t(){this.xt=!1,this.St=KP()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class D${constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=os(),this.jt=ZP(),this.zt=new ri($t)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const i=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&i.Mt(e.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(e.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(i.Ut(),i.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),i.Mt(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((i,r)=>{this.Zt(r)&&t(r)})}ee(e){var t;const i=e.targetId,r=e.bt.count,o=this.ne(i);if(o){const u=o.target;if(mT(u))if(0===r){const h=new lt(u.path);this.Jt(i,h,wi.newNoDocument(h,kt.min()))}else Ot(1===r);else{const h=this.se(i);if(h!==r){const p=this.ie(e,h);0!==p&&(this.te(i),this.zt=this.zt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Rx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,w,S){var P,U,W,q,re,we;const Ae={localCacheCount:w,existenceFilterCount:S.count},Be=S.unchangedNames;return Be&&(Ae.bloomFilter={applied:0===y,hashCount:null!==(P=Be?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(q=null===(W=null===(U=Be?.bits)||void 0===U?void 0:U.bitmap)||void 0===W?void 0:W.length)&&void 0!==q?q:0,padding:null!==(we=null===(re=Be?.bits)||void 0===re?void 0:re.padding)&&void 0!==we?we:0}),Ae}(p,h,e.bt))}}}}ie(e,t){const{unchangedNames:i,count:r}=e.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:h=0}=i;let p,y;try{p=nc(o).toUint8Array()}catch(w){if(w instanceof yx)return Mi("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{y=new Px(p,u,h)}catch(w){return Mi(w instanceof $0?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===y.yt?1:r!==t-this.re(e.targetId,y)?2:0}re(e,t){const i=this.Kt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.Kt.oe(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.At(h)||(this.Jt(e,o,null),r++)}),r}ue(e){const t=new Map;this.Gt.forEach((o,u)=>{const h=this.ne(u);if(h){if(o.current&&mT(h.target)){const p=new lt(h.target.path);null!==this.Qt.get(p)||this.ce(u,p)||this.Jt(u,p,wi.newNoDocument(p,e))}o.kt&&(t.set(u,o.Ot()),o.$t())}});let i=vn();this.jt.forEach((o,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.ne(p);return!y||"TargetPurposeLimboResolution"===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Qt.forEach((o,u)=>u.setReadTime(e));const r=new H0(e,t,this.zt,this.Qt,i);return this.Qt=os(),this.jt=ZP(),this.zt=new ri($t),r}Ht(e,t){if(!this.Zt(e))return;const i=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,i),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,i){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),i&&(this.Qt=this.Qt.insert(t,i))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new qP,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new ui($t),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new qP),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function ZP(){return new ri(lt.comparator)}function KP(){return new ri(lt.comparator)}const T$={asc:"ASCENDING",desc:"DESCENDING"},C$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I$={and:"AND",or:"OR"};class S${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fx(n,e){return n.useProto3Json||O_(e)?e:{value:e}}function z_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function A$(n,e){return z_(n,e.toTimestamp())}function hr(n){return Ot(!!n),kt.fromTimestamp(function(e){const t=uu(e);return new ii(t.seconds,t.nanos)}(n))}function Lx(n,e){return(t=n,new Mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function JP(n){const e=Mn.fromString(n);return Ot(a2(e)),e}function z0(n,e){return Lx(n.databaseId,e.path)}function rc(n,e){const t=JP(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(XP(t))}function Bx(n,e){return Lx(n.databaseId,e)}function QP(n){const e=JP(n);return 4===e.length?Mn.emptyPath():XP(e)}function W0(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XP(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function e2(n,e,t){return{name:z0(n,e),fields:t.value.mapValue.fields}}function t2(n,e,t){const i=rc(n,e.name),r=hr(e.updateTime),o=e.createTime?hr(e.createTime):kt.min(),u=new io({mapValue:{fields:e.fields}}),h=wi.newFoundDocument(i,r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function q0(n,e){let t;if(e instanceof H_)t={update:e2(n,e.key,e.value)};else if(e instanceof G_)t={delete:z0(n,e.key)};else if(e instanceof fu)t={update:e2(n,e.key,e.data),updateMask:F$(e.fieldMask)};else{if(!(e instanceof Mx))return mt();t={verify:z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof j_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ip)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $_)return{fieldPath:o.field.canonicalString(),increment:u.wt};throw mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:A$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),t;var r}function Ux(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ki.updateTime(hr(r.updateTime)):void 0!==r.exists?ki.exists(r.exists):ki.none():ki.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Ot("REQUEST_TIME"===u.setToServerValue),h=new j_):"appendMissingElements"in u?h=new Cp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Ip(u.removeAllFromArray.values||[]):"increment"in u?h=new $_(o,u.increment):mt();const p=Ni.fromServerFormat(u.fieldPath);return new V0(p,h)}(n,r)):[];var r;if(e.update){const r=rc(n,e.update.name),o=new io({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Lo((e.updateMask.fieldPaths||[]).map(y=>Ni.fromServerFormat(y)));return new fu(r,o,u,t,i)}return new H_(r,o,t,i)}if(e.delete){const r=rc(n,e.delete);return new G_(r,t)}if(e.verify){const r=rc(n,e.verify);return new Mx(r,t)}return mt()}function n2(n,e){return{documents:[Bx(n,e.path)]}}function Vx(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Bx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return s2(qn.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:Kd((w=y).field),direction:k$(w.dir)};var w})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=Fx(n,e.limit);var h,p;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function r2(n){let e=QP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ot(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let o=[];t.where&&(o=function(w){const S=o2(w);return S instanceof qn&&Ex(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(w=>{return new B_(W_((S=w).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(w){let S;return S="object"==typeof w?w.value:w,O_(S)?null:S}(t.limit));let p=null;var w;t.startAt&&(p=new Zd((w=t.startAt).values||[],!!w.before));let y=null;return t.endAt&&(y=function(w){return new Zd(w.values||[],!w.before)}(t.endAt)),vP(e,r,u,o,h,"F",p,y)}function o2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=W_(e.unaryFilter.field);return Sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=W_(e.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=W_(e.unaryFilter.field);return Sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=W_(e.unaryFilter.field);return Sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?Sn.create(W_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qn.create(e.compositeFilter.filters.map(t=>o2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function k$(n){return T$[n]}function R$(n){return C$[n]}function P$(n){return I$[n]}function Kd(n){return{fieldPath:n.canonicalString()}}function W_(n){return Ni.fromServerFormat(n.fieldPath)}function s2(n){return n instanceof Sn?function(e){if("=="===e.op){if(ut(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NAN"}};if(Ke(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ut(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NOT_NAN"}};if(Ke(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(e.field),op:R$(e.op),value:e.value}}}(n):n instanceof qn?function(e){const t=e.getFilters().map(i=>s2(i));return 1===t.length?t[0]:{compositeFilter:{op:P$(e.op),filters:t}}}(n):mt()}function F$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function a2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pu{constructor(e,t,i,r,o=kt.min(),u=kt.min(),h=Er.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class l2{constructor(e){this.le=e}}function c2(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:CT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:z0(r=n.le,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:z_(r,o.version.toTimestamp()),createTime:z_(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Sp(e.version)};else{if(!e.isUnknownDocument())return mt();i.unknownDocument={path:t.path.toArray(),version:Sp(e.version)}}var r,o;return i}function CT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ap(n){const e=new ii(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function xp(n,e){const t=(e.baseMutations||[]).map(o=>Ux(n.le,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>Ux(n.le,o)),r=ii.fromMillis(e.localWriteTimeMs);return new Nx(e.batchId,r,t,i)}function Z0(n){const e=Ap(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ap(n.lastLimboFreeSnapshotVersion):kt.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=Bo(V_(QP(r.documents[0])))):i=Bo(r2(n.query)),new pu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Er.fromBase64String(n.resumeToken))}function u2(n,e){const t=Sp(e.snapshotVersion),i=Sp(e.lastLimboFreeSnapshotVersion);let r;r=mT(e.target)?n2(n.le,e.target):Vx(n.le,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dp(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function jx(n){const e=r2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vT(e,e.limit,"L"):e}function $x(n,e){return new kx(e.largestBatchId,Ux(n.le,e.overlayMutation))}function d2(n,e){const t=e.path.lastSegment();return[n,dr(e.path.popLast()),t]}function h2(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Sp(i.readTime),documentKey:dr(i.documentKey.path),largestBatchId:i.largestBatchId}}class B${getBundleMetadata(e,t){return f2(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ap(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return f2(e).put({bundleId:(i=t).id,createTime:Sp(hr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return p2(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:jx(r.bundledQuery),readTime:Ap(r.readTime)};var r})}saveNamedQuery(e,t){return p2(e).put({name:(i=t).name,readTime:Sp(hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function f2(n){return Pr(n,"bundles")}function p2(n){return Pr(n,"namedQueries")}class IT{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new IT(e,t.uid||"")}getOverlay(e,t){return K0(e).get(d2(this.userId,t)).next(i=>i?$x(this.serializer,i):null)}getOverlays(e,t){const i=ic();return ue.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,u)=>{const h=new kx(t,u);r.push(this.de(e,h))}),ue.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(dr(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(K0(e).J("collectionPathOverlayIndex",h))}),ue.waitFor(o)}getOverlaysForCollection(e,t,i){const r=ic(),o=dr(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return K0(e).j("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=$x(this.serializer,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=ic();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return K0(e).X({index:"collectionGroupOverlayIndex",range:h},(p,y,w)=>{const S=$x(this.serializer,y);o.size()<r||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):w.done()}).next(()=>o)}de(e,t){return K0(e).put(function(i,r,o){const[u,h,p]=d2(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:q0(i.le,o.mutation)}}(this.serializer,this.userId,t))}}function K0(n){return Pr(n,"documentOverlays")}class Mp{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(zi(e.integerValue));else if("doubleValue"in e){const i=zi(e.doubleValue);isNaN(i)?this.ge(t,13):(this.ge(t,15),k_(i)?t.ye(0):t.ye(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ge(t,20),"string"==typeof i?t.pe(i):(t.pe(`${i.seconds||""}`),t.ye(i.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(nc(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?Fe(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):mt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const i=e.fields||{};this.ge(t,55);for(const r of Object.keys(i))this.Ie(r,t),this.we(i[r],t)}ve(e,t){const i=e.values||[];this.ge(t,50);for(const r of i)this.we(r,t)}Ae(e,t){this.ge(t,37),lt.fromName(e).path.forEach(i=>{this.ge(t,60),this.Pe(i,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function U$(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function g2(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=U$(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Mp.be=new Mp;class V${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Se(i.value),i=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.xe(i.value),i=t.next();this.Ne()}ke(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=t.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=t.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(e){const t=this.$e(e),i=g2(t);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Be(e){const t=this.$e(e),i=g2(t);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class j${constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class $${constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class Y0{constructor(){this.Qe=new V$,this.je=new j$(this.Qe),this.ze=new $$(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Np{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Np(this.indexId,this.documentKey,this.arrayValue,i)}}function Yd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=m2(n.arrayValue,e.arrayValue),0!==t?t:(t=m2(n.directionalValue,e.directionalValue),0!==t?t:lt.comparator(n.documentKey,e.documentKey)))}function m2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class H${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(e){Ot(e.collectionGroup===this.collectionId);const t=C_(e);if(void 0!==t&&!this.tn(t))return!1;const i=zd(e);let r=0,o=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const u=i[r];if(!this.en(this.Xe,u)||!this.nn(this.Je[o++],u))return!1;++r}for(;r<i.length;++r)if(o>=this.Je.length||!this.nn(this.Je[o++],i[r]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _2(n){var e,t;if(Ot(n instanceof Sn||n instanceof qn),n instanceof Sn){if(n instanceof mP){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Sn.create(n.field,"==",o)))||[];return qn.create(r,"or")}return n}const i=n.filters.map(r=>_2(r));return qn.create(i,n.op)}function G$(n){if(0===n.getFilters().length)return[];const e=zx(_2(n));return Ot(y2(e)),Hx(e)||Gx(e)?[e]:e.getFilters()}function Hx(n){return n instanceof Sn}function Gx(n){return n instanceof qn&&Ex(n)}function y2(n){return Hx(n)||Gx(n)||function(e){if(e instanceof qn&&wx(e)){for(const t of e.getFilters())if(!Hx(t)&&!Gx(t))return!1;return!0}return!1}(n)}function zx(n){if(Ot(n instanceof Sn||n instanceof qn),n instanceof Sn)return n;if(1===n.filters.length)return zx(n.filters[0]);const e=n.filters.map(i=>zx(i));let t=qn.create(e,n.op);return t=ST(t),y2(t)?t:(Ot(t instanceof qn),Ot(U_(t)),Ot(t.filters.length>1),t.filters.reduce((i,r)=>Wx(i,r)))}function Wx(n,e){let t;return Ot(n instanceof Sn||n instanceof qn),Ot(e instanceof Sn||e instanceof qn),t=n instanceof Sn?e instanceof Sn?qn.create([n,e],"and"):v2(n,e):e instanceof Sn?v2(e,n):function(i,r){if(Ot(i.filters.length>0&&r.filters.length>0),U_(i)&&U_(r))return fP(i,r.getFilters());const o=wx(i)?i:r,u=wx(i)?r:i,h=o.filters.map(p=>Wx(p,u));return qn.create(h,"or")}(n,e),ST(t)}function v2(n,e){if(U_(e))return fP(e,n.getFilters());{const t=e.filters.map(i=>Wx(n,i));return qn.create(t,"or")}}function ST(n){if(Ot(n instanceof Sn||n instanceof qn),n instanceof Sn)return n;const e=n.getFilters();if(1===e.length)return ST(e[0]);if(dP(n))return n;const t=e.map(r=>ST(r)),i=[];return t.forEach(r=>{r instanceof Sn?i.push(r):r instanceof qn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:qn.create(i,n.op)}class z${constructor(){this.sn=new qx}addToCollectionParentIndex(e,t){return this.sn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(vo.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class qx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ui(Mn.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ui(Mn.comparator)).toArray()}}const AT=new Uint8Array(0);class W${constructor(e,t){this.user=e,this.databaseId=t,this.rn=new qx,this.on=new hu(i=>Dp(i),(i,r)=>P0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const o={collectionId:i,parent:dr(r)};return b2(e).put(o)}return ue.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[D0(t),""],!1,!0);return b2(e).j(r).next(o=>{for(const u of o){if(u.collectionId!==t)break;i.push(Ss(u.parent))}return i})}addFieldIndex(e,t){const i=xT(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(t.indexState){const u=Q0(e);return o.next(h=>{u.put(h2(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=xT(e),r=Q0(e),o=J0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=J0(e);let r=!0;const o=new Map;return ue.forEach(this.un(t),u=>this.cn(e,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=vn();const h=[];return ue.forEach(o,(p,y)=>{var w;je("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Be=>`${Be.fieldPath}:${Be.kind}`).join(",")}`} to execute ${Dp(t)}`);const S=function(Be,ze){const ot=C_(ze);if(void 0===ot)return null;for(const dt of _T(Be,ot.fieldPath))switch(dt.op){case"array-contains-any":return dt.value.arrayValue.values||[];case"array-contains":return[dt.value]}return null}(y,p),P=function(Be,ze){const ot=new Map;for(const dt of zd(ze))for(const Bt of _T(Be,dt.fieldPath))switch(Bt.op){case"==":case"in":ot.set(dt.fieldPath.canonicalString(),Bt.value);break;case"not-in":case"!=":return ot.set(dt.fieldPath.canonicalString(),Bt.value),Array.from(ot.values())}return null}(y,p),U=function(Be,ze){const ot=[];let dt=!0;for(const Bt of zd(ze)){const cn=0===Bt.kind?_P(Be,Bt.fieldPath,Be.startAt):yP(Be,Bt.fieldPath,Be.startAt);ot.push(cn.value),dt&&(dt=cn.inclusive)}return new Zd(ot,dt)}(y,p),W=function(Be,ze){const ot=[];let dt=!0;for(const Bt of zd(ze)){const cn=0===Bt.kind?yP(Be,Bt.fieldPath,Be.endAt):_P(Be,Bt.fieldPath,Be.endAt);ot.push(cn.value),dt&&(dt=cn.inclusive)}return new Zd(ot,dt)}(y,p),q=this.an(p,y,U),re=this.an(p,y,W),we=this.hn(p,y,P),Ae=this.ln(p.indexId,S,q,U.inclusive,re,W.inclusive,we);return ue.forEach(Ae,Be=>i.H(Be,t.limit).next(ze=>{ze.forEach(ot=>{const dt=lt.fromSegments(ot.documentKey);u.has(dt)||(u=u.add(dt),h.push(dt))})}))}).next(()=>h)}return ue.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:G$(qn.create(e.filters,"and")).map(i=>Tx(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,i,r,o,u,h){const p=(null!=t?t.length:1)*Math.max(i.length,o.length),y=p/(null!=t?t.length:1),w=[];for(let S=0;S<p;++S){const P=t?this.fn(t[S/y]):AT,U=this.dn(e,P,i[S%y],r),W=this._n(e,P,o[S%y],u),q=h.map(re=>this.dn(e,P,re,!0));w.push(...this.createRange(U,W,q))}return w}dn(e,t,i,r){const o=new Np(e,lt.empty(),t,i);return r?o:o.He()}_n(e,t,i,r){const o=new Np(e,lt.empty(),t,i);return r?o.He():o}cn(e,t){const i=new H$(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let u=null;for(const h of o)i.Ze(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;const r=this.un(t);return ue.forEach(r,o=>this.cn(e,o).next(u=>{u?0!==i&&u.fields.length<function(h){let p=new ui(Ni.comparator),y=!1;for(const w of h.filters)for(const S of w.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:p=p.add(S.field));for(const w of h.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(y?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}wn(e,t){const i=new Y0;for(const r of zd(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const u=i.We(r.kind);Mp.be._e(o,u)}return i.Ge()}fn(e){const t=new Y0;return Mp.be._e(e,t.We(0)),t.Ge()}mn(e,t){const i=new Y0;return Mp.be._e(Q(this.databaseId,t),i.We(function(r){const o=zd(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Ge()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new Y0);let o=0;for(const u of zd(e)){const h=i[o++];for(const p of r)if(this.gn(t,u.fieldPath)&&Ce(h))r=this.yn(r,u,h);else{const y=p.We(u.kind);Mp.be._e(h,y)}}return this.pn(r)}an(e,t,i){return this.hn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ge();return t}yn(e,t,i){const r=[...e],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const p=new Y0;p.seed(h.Ge()),Mp.be._e(u,p.We(t.kind)),o.push(p)}return o}gn(e,t){return!!e.filters.find(i=>i instanceof Sn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=xT(e),r=Q0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const u=[];return ue.forEach(o,h=>r.get([h.indexId,this.uid]).next(p=>{u.push(function(y,w){const S=w?new S_(w.sequenceNumber,new vo(Ap(w.readTime),new lt(Ss(w.documentKey)),w.largestBatchId)):S_.empty(),P=y.fields.map(([U,W])=>new I_(Ni.fromServerFormat(U),W));return new T_(y.indexId,y.collectionGroup,P,S)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:$t(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=xT(e),o=Q0(e);return this.In(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ue.forEach(h,p=>o.put(h2(p.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ue.forEach(t,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ue.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ue.forEach(h,p=>this.Tn(e,r,p).next(y=>{const w=this.En(o,p);return y.isEqual(w)?ue.resolve():this.An(e,o,p,y,w)}))))})}Rn(e,t,i,r){return J0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return J0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}Tn(e,t,i){const r=J0(e);let o=new ui(Yd);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(u,h)=>{o=o.add(new Np(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}En(e,t){let i=new ui(Yd);const r=this.wn(t,e);if(null==r)return i;const o=C_(t);if(null!=o){const u=e.data.field(o.fieldPath);if(Ce(u))for(const h of u.arrayValue.values||[])i=i.add(new Np(t.indexId,e.key,this.fn(h),r))}else i=i.add(new Np(t.indexId,e.key,AT,r));return i}An(e,t,i,r,o){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,p,y,w,S){const P=h.getIterator(),U=p.getIterator();let W=qd(P),q=qd(U);for(;W||q;){let re=!1,we=!1;if(W&&q){const Ae=y(W,q);Ae<0?we=!0:Ae>0&&(re=!0)}else null!=W?we=!0:re=!0;re?(w(q),q=qd(U)):we?(S(W),W=qd(P)):(W=qd(P),q=qd(U))}}(r,o,Yd,h=>{u.push(this.Rn(e,t,i,h))},h=>{u.push(this.vn(e,t,i,h))}),ue.waitFor(u)}In(e){let t=1;return Q0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>Yd(u,h)).filter((u,h,p)=>!h||0!==Yd(u,p[h-1]));const r=[];r.push(e);for(const u of i){const h=Yd(u,e),p=Yd(u,t);if(0===h)r[0]=e.He();else if(h>0&&p<0)r.push(u),r.push(u.He());else if(p>0)break}r.push(t);const o=[];for(let u=0;u<r.length;u+=2){if(this.Pn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,AT,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,AT,[]]))}return o}Pn(e,t){return Yd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(w2)}getMinOffset(e,t){return ue.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||mt())).next(w2)}}function b2(n){return Pr(n,"collectionParents")}function J0(n){return Pr(n,"indexEntries")}function xT(n){return Pr(n,"indexConfiguration")}function Q0(n){return Pr(n,"indexState")}function w2(n){Ot(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;x_(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new vo(e.readTime,e.documentKey,t)}const E2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new bo(e,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function D2(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const p=i.X({range:u},(w,S,P)=>(h++,P.delete()));o.push(p.next(()=>{Ot(1===h)}));const y=[];for(const w of t.mutations){const S=R_(e,w.key.path,t.batchId);o.push(r.delete(S)),y.push(w.key)}return ue.waitFor(o).next(()=>y)}function MT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class NT{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(e,t,i,r){Ot(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new NT(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).X({index:"userMutationsIndex",range:i},(r,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=q_(e),u=Jd(e);return u.add({}).next(h=>{Ot("number"==typeof h);const p=new Nx(h,t,i,r),y=function(P,U,W){const q=W.baseMutations.map(we=>q0(P.le,we)),re=W.mutations.map(we=>q0(P.le,we));return{userId:U,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:q,mutations:re}}(this.serializer,this.userId,p),w=[];let S=new ui((P,U)=>$t(P.canonicalString(),U.canonicalString()));for(const P of r){const U=R_(this.userId,P.key.path,h);S=S.add(P.key.path.popLast()),w.push(u.put(y)),w.push(o.put(U,A0))}return S.forEach(P=>{w.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.bn[h]=p.keys()}),ue.waitFor(w).next(()=>p)})}lookupMutationBatch(e,t){return Jd(e).get(t).next(i=>i?(Ot(i.userId===this.userId),xp(this.serializer,i)):null)}Vn(e,t){return this.bn[t]?ue.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.bn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Jd(e).X({index:"userMutationsIndex",range:r},(u,h,p)=>{h.userId===this.userId&&(Ot(h.batchId>=i),o=xp(this.serializer,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).j("userMutationsIndex",t).next(i=>i.map(r=>xp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=wp(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return q_(e).X({range:r},(u,h,p)=>{const[y,w,S]=u,P=Ss(w);if(y===this.userId&&t.path.isEqual(P))return Jd(e).get(S).next(U=>{if(!U)throw mt();Ot(U.userId===this.userId),o.push(xp(this.serializer,U))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui($t);const r=[];return t.forEach(o=>{const u=wp(this.userId,o.path),h=IDBKeyRange.lowerBound(u),p=q_(e).X({range:h},(y,w,S)=>{const[P,U,W]=y,q=Ss(U);P===this.userId&&o.path.isEqual(q)?i=i.add(W):S.done()});r.push(p)}),ue.waitFor(r).next(()=>this.Sn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=wp(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new ui($t);return q_(e).X({range:u},(p,y,w)=>{const[S,P,U]=p,W=Ss(P);S===this.userId&&i.isPrefixOf(W)?W.length===r&&(h=h.add(U)):w.done()}).next(()=>this.Sn(e,h))}Sn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Jd(e).get(o).next(u=>{if(null===u)throw mt();Ot(u.userId===this.userId),i.push(xp(this.serializer,u))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return D2(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return q_(e).X({range:i},(o,u,h)=>{if(o[0]===this.userId){const p=Ss(o[1]);r.push(p)}else h.done()}).next(()=>{Ot(0===r.length)})})}containsKey(e,t){return T2(e,this.userId,t)}Cn(e){return C2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function T2(n,e,t){const i=wp(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return q_(n).X({range:o,Y:!0},(h,p,y)=>{const[w,S,P]=h;w===e&&S===r&&(u=!0),y.done()}).next(()=>u)}function Jd(n){return Pr(n,"mutations")}function q_(n){return Pr(n,"documentMutations")}function C2(n){return Pr(n,"mutationQueues")}class Op{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Op(0)}static kn(){return new Op(-1)}}class q${constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const i=new Op(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>kt.fromTimestamp(new ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Mn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(i=>(i.targetCount+=1,this.Fn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Z_(e).delete(t.targetId)).next(()=>this.Mn(e)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Z_(e).X((u,h)=>{const p=Z0(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(e,p)))}).next(()=>ue.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Z_(e).X((i,r)=>{const o=Z0(r);t(o)})}Mn(e){return I2(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}On(e,t){return I2(e).put("targetGlobalKey",t)}$n(e,t){return Z_(e).put(u2(this.serializer,t))}Fn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Dp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Z_(e).X({range:r,index:"queryTargetsIndex"},(u,h,p)=>{const y=Z0(h);P0(t,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Qd(e);return t.forEach(u=>{const h=dr(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),ue.waitFor(r)}removeMatchingKeys(e,t,i){const r=Qd(e);return ue.forEach(t,o=>{const u=dr(o.path);return ue.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Qd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qd(e);let o=vn();return r.X({range:i,Y:!0},(u,h,p)=>{const y=Ss(u[1]),w=new lt(y);o=o.add(w)}).next(()=>o)}containsKey(e,t){const i=dr(t.path),r=IDBKeyRange.bound([i],[D0(i)],!1,!0);let o=0;return Qd(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,h],p,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}he(e,t){return Z_(e).get(t).next(i=>i?Z0(i):null)}}function Z_(n){return Pr(n,"targets")}function I2(n){return Pr(n,"targetGlobal")}function Qd(n){return Pr(n,"targetDocuments")}function S2([n,e],[t,i]){const r=$t(n,t);return 0===r?$t(e,i):r}class Z${constructor(e){this.Bn=e,this.buffer=new ui(S2),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();S2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){lu(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Cs(i)}yield t.Gn(3e5)}))}}class K${constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(rs.ct);const i=new Z$(t);return this.Qn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Qn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(E2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E2):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let i,r,o,u,h,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(o=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),v0()<=Mo.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-w}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${S} documents in `+(y-p)+`ms\nTotal Duration: ${y-w}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class Y${constructor(e,t){this.db=e,this.garbageCollector=function x2(n,e){return new K$(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Hn(e){let t=0;return this.zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(i,r)=>t(r))}addReference(e,t,i){return OT(e,i)}removeReference(e,t,i){return OT(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return OT(e,t)}Yn(e,t){return function(i,r){let o=!1;return C2(i).Z(u=>T2(i,u,r).next(h=>(h&&(o=!0),ue.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Jn(e,(u,h)=>{if(h<=t){const p=this.Yn(e,u).next(y=>{if(!y)return o++,i.getEntry(e,u).next(()=>(i.removeEntry(u,kt.min()),Qd(e).delete([0,dr(u.path)])))});r.push(p)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return OT(e,t)}Jn(e,t){const i=Qd(e);let r,o=rs.ct;return i.X({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(o!==rs.ct&&t(new lt(Ss(r)),o),o=y,r=p):o=rs.ct}).next(()=>{o!==rs.ct&&t(new lt(Ss(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OT(n,e){return Qd(n).put((i=n.currentSequenceNumber,{targetId:0,path:dr(e.path),sequenceNumber:i}));var i}class M2{constructor(){this.changes=new hu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class J${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return kp(e).put(i)}removeEntry(e,t,i){return kp(e).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],CT(o),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Xn(e,i)))}getEntry(e,t){let i=wi.newInvalidDocument(t);return kp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(r,o)=>{i=this.Zn(t,o)}).next(()=>i)}ts(e,t){let i={size:0,document:wi.newInvalidDocument(t)};return kp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(r,o)=>{i={document:this.Zn(t,o),size:MT(o)}}).next(()=>i)}getEntries(e,t){let i=os();return this.es(e,t,(r,o)=>{const u=this.Zn(r,o);i=i.insert(r,u)}).next(()=>i)}ns(e,t){let i=os(),r=new ri(lt.comparator);return this.es(e,t,(o,u)=>{const h=this.Zn(o,u);i=i.insert(o,h),r=r.insert(o,MT(u))}).next(()=>({documents:i,ss:r}))}es(e,t,i){if(t.isEmpty())return ue.resolve();let r=new ui(R2);t.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(X0(r.first()),X0(r.last())),u=r.getIterator();let h=u.getNext();return kp(e).X({index:"documentKeyIndex",range:o},(p,y,w)=>{const S=lt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&R2(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?w.G(X0(h)):w.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,u=[o.popLast().toArray(),o.lastSegment(),CT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kp(e).j(IDBKeyRange.bound(u,h,!0)).next(p=>{let y=os();for(const w of p){const S=this.Zn(lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);S.isFoundDocument()&&(L0(t,S)||r.has(S.key))&&(y=y.insert(S.key,S))}return y})}getAllFromCollectionGroup(e,t,i,r){let o=os();const u=k2(t,i),h=k2(t,vo.max());return kp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(p,y,w)=>{const S=this.Zn(lt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(S.key,S),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(e){return new Q$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return O2(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}Xn(e,t){return O2(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const i=function L$(n,e){let t;if(e.document)t=t2(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=lt.fromSegments(e.noDocument.path),r=Ap(e.noDocument.readTime);t=wi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const i=lt.fromSegments(e.unknownDocument.path),r=Ap(e.unknownDocument.version);t=wi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ii(i[0],i[1]);return kt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(kt.min()))return i}return wi.newInvalidDocument(e)}}function N2(n){return new J$(n)}class Q$ extends M2{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new hu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ui((o,u)=>$t(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.os.get(o);if(t.push(this.rs.removeEntry(e,o,h.readTime)),u.isValidDocument()){const p=c2(this.rs.serializer,u);r=r.add(o.path.popLast());const y=MT(p);i+=y-h.size,t.push(this.rs.addEntry(e,o,p))}else if(i-=h.size,this.trackRemovals){const p=c2(this.rs.serializer,u.convertToNoDocument(kt.min()));t.push(this.rs.addEntry(e,o,p))}}),r.forEach(o=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.rs.updateMetadata(e,i)),ue.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(i=>(this.os.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:i,ss:r})=>(r.forEach((o,u)=>{this.os.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function O2(n){return Pr(n,"remoteDocumentGlobal")}function kp(n){return Pr(n,"remoteDocumentsV14")}function X0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function k2(n,e){const t=e.documentKey.path.toArray();return[n,CT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function R2(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=$t(t[o],i[o]),r)return r;return r=$t(t.length,i.length),r||(r=$t(t[t.length-2],i[i.length-2]),r||$t(t[t.length-1],i[i.length-1]))}class X${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class P2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&j0(i.mutation,r,Lo.empty(),ii.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,vn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=vn()){const r=ic();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let u=B0();return o.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ic();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,vn()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let o=os();const u=U0(),h=U0();return t.forEach((p,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof fu)?o=o.insert(y.key,y):void 0!==w?(u.set(y.key,w.mutation.getFieldMask()),j0(w.mutation,y,w.mutation.getFieldMask(),ii.now())):u.set(y.key,Lo.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((y,w)=>u.set(y,w)),t.forEach((y,w)=>{var S;return h.set(y,new X$(w,null!==(S=u.get(y))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=U0();let r=new ri((u,h)=>u-h),o=vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let w=i.get(p)||Lo.empty();w=h.applyToLocalView(y,w),i.set(p,w);const S=(r.get(h.batchId)||vn()).add(p);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,w=p.value,S=IP();w.forEach(P=>{if(!o.has(P)){const U=PP(t.get(P),i.get(P));null!==U&&S.set(P,U),o=o.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return lt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ix(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):ue.resolve(ic());let h=-1,p=o;return u.next(y=>ue.forEach(y,(w,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(w)?ue.resolve():this.remoteDocumentCache.getEntry(e,w).next(P=>{p=p.insert(w,P)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,p,y,vn())).next(w=>({batchId:h,changes:CP(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(i=>{let r=B0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=B0();return this.indexManager.getCollectionParents(e,r).next(u=>ue.forEach(u,h=>{const p=(y=t,w=h.child(r),new du(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((w,S)=>{o=o.insert(w,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((h,p)=>{const y=p.getKey();null===o.get(y)&&(o=o.insert(y,wi.newInvalidDocument(y)))});let u=B0();return o.forEach((h,p)=>{const y=r.get(h);void 0!==y&&j0(y.mutation,p,Lo.empty(),ii.now()),L0(t,p)&&(u=u.insert(h,p))}),u})}}class e4{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return ue.resolve(this.us.get(t))}saveBundleMetadata(e,t){var i;return this.us.set(t.id,{id:(i=t).id,version:i.version,createTime:hr(i.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(i=t).name,query:jx(i.bundledQuery),readTime:hr(i.readTime)}),ue.resolve();var i}}class t4{constructor(){this.overlays=new ri(lt.comparator),this.hs=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ic();return ue.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.de(e,t,o)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const r=ic(),o=t.length+1,u=new lt(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ri((y,w)=>y-w);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=o.get(y.largestBatchId);null===w&&(w=ic(),o=o.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=ic(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>h.set(y,w)),!(h.size()>=r)););return ue.resolve(h)}de(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new kx(t,i));let o=this.hs.get(t);void 0===o&&(o=vn(),this.hs.set(t,o)),this.hs.set(t,o.add(i.key))}}class Zx{constructor(){this.ls=new ui(Kr.fs),this.ds=new ui(Kr._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const i=new Kr(e,t);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gs(new Kr(e,t))}ys(e,t){e.forEach(i=>this.removeReference(i,t))}ps(e){const t=new lt(new Mn([])),i=new Kr(t,e),r=new Kr(t,e+1),o=[];return this.ds.forEachInRange([i,r],u=>{this.gs(u),o.push(u.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new lt(new Mn([])),i=new Kr(t,e),r=new Kr(t,e+1);let o=vn();return this.ds.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Kr(e,0),i=this.ls.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Kr{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return lt.comparator(e.key,t.key)||$t(e.Es,t.Es)}static _s(e,t){return $t(e.Es,t.Es)||lt.comparator(e.key,t.key)}}class n4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new ui(Kr.fs)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.As;this.As++;const u=new Nx(o,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Rs=this.Rs.add(new Kr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ps(t+1),o=r<0?0:r;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kr(t,0),r=new Kr(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],u=>{const h=this.vs(u.Es);o.push(h)}),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui($t);return t.forEach(r=>{const o=new Kr(r,0),u=new Kr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],h=>{i=i.add(h.Es)})}),ue.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;lt.isDocumentKey(o)||(o=o.child(""));const u=new Kr(new lt(o),0);let h=new ui($t);return this.Rs.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.Es)),!0)},u),ue.resolve(this.bs(h))}bs(e){const t=[];return e.forEach(i=>{const r=this.vs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ot(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ue.forEach(t.mutations,r=>{const o=new Kr(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Dn(e){}containsKey(e,t){const i=new Kr(t,0),r=this.Rs.firstAfterOrEqual(i);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class i4{constructor(e){this.Ss=e,this.docs=new ri(lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.Ss(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let i=os();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():wi.newInvalidDocument(r))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=os();const u=t.path,h=new lt(u.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||x_(T0(w),i)<=0||(r.has(w.key)||L0(t,w))&&(o=o.insert(w.key,w.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,t,i,r){mt()}Ds(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new r4(this)}getSize(e){return ue.resolve(this.size)}}class r4 extends M2{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class o4{constructor(e){this.persistence=e,this.Cs=new hu(t=>Dp(t),P0),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Zx,this.targetCount=0,this.ks=Op.Nn()}forEachTarget(e,t){return this.Cs.forEach((i,r)=>t(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.xs&&(this.xs=t),ue.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Op(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.$n(t),ue.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Cs.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Cs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ue.waitFor(o).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cs.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Ns.ws(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Ns.ys(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(u=>{o.push(r.markPotentiallyOrphaned(e,u))}),ue.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ns.Ts(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Ns.containsKey(t))}}class Kx{constructor(e,t){this.Ms={},this.overlays={},this.Os=new rs(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new o4(this),this.indexManager=new z$,this.remoteDocumentCache=new i4(i=>this.referenceDelegate.Bs(i)),this.serializer=new l2(t),this.Ls=new e4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new t4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ms[e.toKey()];return i||(i=new n4(t,this.referenceDelegate),this.Ms[e.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,i){je("MemoryPersistence","Starting transaction:",e);const r=new s4(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(e,t){return ue.or(Object.values(this.Ms).map(i=>()=>i.containsKey(e,t)))}}class s4 extends I0{constructor(e){super(),this.currentSequenceNumber=e}}class kT{constructor(e){this.persistence=e,this.Gs=new Zx,this.Qs=null}static js(e){return new kT(e)}get zs(){if(this.Qs)return this.Qs;throw mt()}addReference(e,t,i){return this.Gs.addReference(i,t),this.zs.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Gs.removeReference(i,t),this.zs.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.zs,i=>{const r=lt.fromPath(i);return this.Ws(e,r).next(o=>{o||t.removeEntry(r,kt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(i=>{i?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return ue.or([()=>ue.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class a4{constructor(e){this.serializer=e}$(e,t,i,r){const o=new M_("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tc,{unique:!0}),h.createObjectStore("documentMutations"),F2(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),F2(e)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,p){return p.store("mutations").j().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tc,{unique:!0});const w=p.store("mutations"),S=y.map(P=>w.put(P));return ue.waitFor(S)})}(e,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Js(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(o)))),i<7&&r>=7&&(u=u.next(()=>this.Xs(o))),i<8&&r>=8&&(u=u.next(()=>this.Zs(e,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ti(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:mx});p.createIndex("collectionPathOverlayIndex",_x,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",cT,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:fx});p.createIndex("documentKeyIndex",x0),p.createIndex("collectionGroupIndex",M0)}(e)).next(()=>this.ei(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.ni(e,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:oP}).createIndex("sequenceNumberIndex",lT,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:px}).createIndex("documentKeyIndex",gx,{unique:!1})}(e))),u}Ys(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=MT(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ue.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(h=>ue.forEach(h,p=>{Ot(p.userId===o.userId);const y=xp(this.serializer,p);return D2(e,o.userId,y).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((u,h)=>{const p=new Mn(u),y=[0,dr(p)];o.push(t.get(y).next(w=>w?ue.resolve():t.put({targetId:0,path:dr(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(o))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:rP});const i=t.store("collectionParents"),r=new qx,o=u=>{if(r.add(u)){const h=u.lastSegment(),p=u.popLast();return i.put({collectionId:h,parent:dr(p)})}};return t.store("remoteDocuments").X({Y:!0},(u,h)=>{const p=new Mn(u);return o(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,h,p],y)=>{const w=Ss(h);return o(w.popLast())}))}ti(e){const t=e.store("targets");return t.X((i,r)=>{const o=Z0(r),u=u2(this.serializer,o);return t.put(u)})}ei(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,u)=>{const h=t.store("remoteDocumentsV14"),p=(y=u,y.document?new lt(Mn.fromString(y.document.name).popFirst(5)):y.noDocument?lt.fromSegments(y.noDocument.path):y.unknownDocument?lt.fromSegments(y.unknownDocument.path):mt()).path.toArray();var y;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(w))}).next(()=>ue.waitFor(r))}ni(e,t){const i=t.store("mutations"),r=N2(this.serializer),o=new Kx(kT.js,this.serializer.le);return i.j().next(u=>{const h=new Map;return u.forEach(p=>{var y;let w=null!==(y=h.get(p.userId))&&void 0!==y?y:vn();xp(this.serializer,p).keys().forEach(S=>w=w.add(S)),h.set(p.userId,w)}),ue.forEach(h,(p,y)=>{const w=new wr(y),S=IT.fe(this.serializer,w),P=o.getIndexManager(w),U=NT.fe(w,this.serializer,P,o.referenceDelegate);return new P2(r,U,S,P).recalculateAndSaveOverlaysForDocumentKeys(new Ep(t,rs.ct),p).next()})})}}function F2(n){n.createObjectStore("targetDocuments",{keyPath:nP}).createIndex("documentTargetsIndex",iP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P_,{unique:!0}),n.createObjectStore("targetGlobal")}const Yx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jx{constructor(e,t,i,r,o,u,h,p,y,w,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=u,this.document=h,this.ii=y,this.ri=w,this.oi=S,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=P=>Promise.resolve(),!Jx.D())throw new Re(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y$(this,r),this.fi=t+"main",this.serializer=new l2(p),this.di=new Is(this.fi,this.oi,new a4(this.serializer)),this.Fs=new q$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=N2(this.serializer),this.Ls=new B$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(pe.FAILED_PRECONDITION,Yx);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new rs(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var i=(0,X.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,X.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>PT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(lu(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return ew(e).get("owner").next(t=>ue.resolve(this.Ri(t)))}vi(e){return PT(e).delete(this.clientId)}Pi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pr(i,"clientMetadata");return r.j().next(o=>{const u=e.Vi(o,18e5),h=o.filter(p=>-1===u.indexOf(p));return ue.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?ue.resolve(!0):ew(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(pe.FAILED_PRECONDITION,Yx);return!1}}return!(!this.networkEnabled||!this.inForeground)||PT(e).j().next(i=>void 0===this.Vi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Ep(t,rs.ct);return e.Ei(i).next(()=>e.vi(i))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(i=>this.bi(i.updateTimeMs,t)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>PT(e).j().next(t=>this.Vi(t,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return NT.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new W$(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return IT.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,i){je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(u=this.oi)?fT:14===u?hT:13===u?dT:12===u?uT:11===u?N0:void mt();var u;let h;return this.di.runTransaction(e,r,o,p=>(h=new Ep(p,this.Os?this.Os.next():rs.ct),"readwrite-primary"===t?this.Ii(h).next(y=>!!y||this.Ti(h)).next(y=>{if(!y)throw nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Re(pe.FAILED_PRECONDITION,C0);return i(h)}).next(y=>this.Ai(h).next(()=>y)):this.Oi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return ew(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(pe.FAILED_PRECONDITION,Yx)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ew(e).put("owner",t)}static D(){return Is.D()}Ei(e){const t=ew(e);return t.get("owner").next(i=>this.Ri(i)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}bi(e,t){const i=Date.now();return!(e<i-t||e>i&&(nr(`Detected an update time that is in the future: ${e} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,xt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return nr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){nr("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ew(n){return Pr(n,"owner")}function PT(n){return Pr(n,"clientMetadata")}function Qx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Xx{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Fi=r}static Bi(e,t){let i=vn(),r=vn();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Xx(e,t.fromCache,i,r)}}class L2{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ui(e,t).next(o=>o||this.Ki(e,t,r,i)).next(o=>o||this.Gi(e,t))}Ui(e,t){if(bP(t))return ue.resolve(null);let i=Bo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=vT(t,null,"F"),i=Bo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=vn(...o);return this.qi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.Qi(t,h);return this.ji(t,y,u,p.readTime)?this.Ui(e,vT(t,null,"F")):this.zi(e,y,t,p)}))})))}Ki(e,t,i,r){return bP(t)||r.isEqual(kt.min())?this.Gi(e,t):this.qi.getDocuments(e,i).next(o=>{const u=this.Qi(t,o);return this.ji(t,u,i,r)?this.Gi(e,t):(v0()<=Mo.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ax(t)),this.zi(e,u,t,A_(r,-1)))})}Qi(e,t){let i=new ui(DP(e));return t.forEach((r,o)=>{L0(e,o)&&(i=i.add(o))}),i}ji(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(e,t){return v0()<=Mo.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Ax(t)),this.qi.getDocumentsMatchingQuery(e,t,vo.min())}zi(e,t,i,r){return this.qi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class l4{constructor(e,t,i,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new ri($t),this.Ji=new hu(o=>Dp(o),P0),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(i)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P2(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function B2(n,e,t,i){return new l4(n,e,t,i)}function U2(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,X.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Zi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let p=vn();for(const y of r){u.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({tr:y,removedBatchIds:u,addedBatchIds:h}))})})}),eM.apply(this,arguments)}function V2(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function j2(n,e,t){let i=vn(),r=vn();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=os();return t.forEach((h,p)=>{const y=o.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(kt.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{er:u,nr:r}})}function d4(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function K_(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Fs.getTargetData(i,e).next(o=>o?(r=o,ue.resolve(r)):t.Fs.allocateTargetId(i).next(u=>(r=new pu(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(i.targetId,i),t.Ji.set(e,i.targetId)),i})}function Y_(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,X.Z)(function*(n,e,t){const i=it(n),r=i.Hi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!lu(u))throw u;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}),tM.apply(this,arguments)}function FT(n,e,t){const i=it(n);let r=kt.min(),o=vn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const w=it(h),S=w.Ji.get(y);return void 0!==S?ue.resolve(w.Hi.get(S)):w.Fs.getTargetData(p,y)}(i,u,Bo(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{o=p})}).next(()=>i.Wi.getDocumentsMatchingQuery(u,e,t?r:kt.min(),t?o:vn())).next(h=>(G2(i,EP(e),h),{documents:h,sr:o})))}function $2(n,e){const t=it(n),i=it(t.Fs),r=t.Hi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.he(o,e).next(u=>u?u.target:null))}function H2(n,e){const t=it(n),i=t.Yi.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Xi.getAllFromCollectionGroup(r,e,A_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(G2(t,e,r),r))}function G2(n,e,t){let i=n.Yi.get(e)||kt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Yi.set(e,i)}function nM(){return nM=(0,X.Z)(function*(n,e,t,i){const r=it(n);let o=vn(),u=os();for(const y of t){const w=e.ir(y.metadata.name);y.document&&(o=o.add(w));const S=e.rr(y);S.setReadTime(e.ur(y.metadata.readTime)),u=u.insert(w,S)}const h=r.Xi.newChangeBuffer({trackRemovals:!0}),p=yield K_(r,(y=i,Bo(V_(Mn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>j2(y,h,u).next(w=>(h.apply(y),w)).next(w=>r.Fs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Fs.addMatchingKeys(y,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.er,w.nr)).next(()=>w.er)))}),nM.apply(this,arguments)}function f4(n,e){return iM.apply(this,arguments)}function iM(){return iM=(0,X.Z)(function*(n,e,t=vn()){const i=yield K_(n,Bo(jx(e.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=hr(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ls.saveNamedQuery(o,e);const h=i.withResumeToken(Er.EMPTY_BYTE_STRING,u);return r.Hi=r.Hi.insert(h.targetId,h),r.Fs.updateTargetData(o,h).next(()=>r.Fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Fs.addMatchingKeys(o,t,i.targetId)).next(()=>r.Ls.saveNamedQuery(o,e))})}),iM.apply(this,arguments)}function z2(n,e){return`firestore_clients_${n}_${e}`}function W2(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function rM(n,e){return`firestore_targets_${n}_${e}`}class LT{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static cr(e,t,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Re(r.error.code,r.error.message))),u?new LT(e,t,r.state,o):(nr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static cr(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Re(i.error.code,i.error.message))),o?new tw(e,i.state,r):(nr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=xx();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=sT(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new BT(e,o):(nr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class oM{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new oM(t.clientId,t.onlineState):(nr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sM{constructor(){this.activeTargetIds=xx()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aM{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new ri($t),this.started=!1,this.gr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=z2(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new sM),this.Ir=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.Mi();for(const r of t){if(r===e.dr)continue;const o=e.getItem(z2(e.persistenceKey,r));if(o){const u=BT.cr(r,o);u&&(e.mr=e.mr.insert(u.clientId,u))}}e.vr();const i=e.storage.getItem(e.Ar);if(i){const r=e.Pr(i);r&&e.br(r)}for(const r of e.gr)e.wr(r);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,i){this.Sr(e,t,i),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(rM(this.persistenceKey,e));if(i){const r=tw.cr(e,i);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rM(this.persistenceKey,e))}updateQueryState(e,t,i){this.Nr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Dr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ir.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.$r(r,null)}{const r=t.Fr(i.key,i.newValue);if(r)return t.$r(r.clientId,r)}}else if(t.Tr.test(i.key)){if(null!==i.newValue){const r=t.Br(i.key,i.newValue);if(r)return t.Lr(r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.qr(i.key,i.newValue);if(r)return t.Ur(r)}}else if(i.key===t.Ar){if(null!==i.newValue){const r=t.Pr(i.newValue);if(r)return t.br(r)}}else if(i.key===t.pr){const r=function(o){let u=rs.ct;if(null!=o)try{const h=JSON.parse(o);Ot("number"==typeof h),u=h}catch(h){nr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==rs.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Kr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Gr(o)))}}else t.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,i){const r=new LT(this.currentUser,e,t,i),o=W2(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ar())}Dr(e){const t=W2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,i){const r=rM(this.persistenceKey,e),o=new tw(e,t,i);this.setItem(r,o.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const i=this.Or(e);return BT.cr(i,t)}Br(e,t){const i=this.Tr.exec(e),r=Number(i[1]);return LT.cr(new wr(void 0!==i[2]?i[2]:null),r,t)}qr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return tw.cr(r,t)}Pr(e){return oM.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const i=t?this.mr.insert(e,t):this.mr.remove(e),r=this.Vr(this.mr),o=this.Vr(i),u=[],h=[];return o.forEach(p=>{r.has(p)||u.push(p)}),r.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.zr(u,h).then(()=>{this.mr=i})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=xx();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class q2{constructor(){this.Wr=new sM,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,i){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new sM,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class p4{Jr(e){}shutdown(){}}class Z2{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let UT=null;function lM(){return null===UT?UT=268435456+Math.round(2147483648*Math.random()):UT++,"0x"+UT.toString(16)}const g4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m4{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const wo="WebChannelConnection";class _4 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,i,r,o){const u=lM(),h=this.Io(e,t);je("RestConnection",`Sending RPC '${e}' ${u}:`,h,i);const p={};return this.To(p,r,o),this.Eo(e,h,p,i).then(y=>(je("RestConnection",`Received RPC '${e}' ${u}: `,y),y),y=>{throw Mi("RestConnection",`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",i),y})}Ao(e,t,i,r,o,u){return this.po(e,t,i,r,o)}To(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}Io(e,t){return`${this.wo}/v1/${t}:${g4[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,i,r){const o=lM();return new Promise((u,h)=>{const p=new YR;p.setWithCredentials(!0),p.listenOnce(ox.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ZD.NO_ERROR:const w=p.getResponseJson();je(wo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),u(w);break;case ZD.TIMEOUT:je(wo,`RPC '${e}' ${o} timed out`),h(new Re(pe.DEADLINE_EXCEEDED,"Request time out"));break;case ZD.HTTP_ERROR:const S=p.getStatus();if(je(wo,`RPC '${e}' ${o} failed with status:`,S,"response text:",p.getResponseText()),S>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P?.error;if(U&&U.status&&U.message){const W=function(q){const re=q.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(re)>=0?re:pe.UNKNOWN}(U.status);h(new Re(W,U.message))}else h(new Re(pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Re(pe.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{je(wo,`RPC '${e}' ${o} completed.`)}});const y=JSON.stringify(r);je(wo,`RPC '${e}' ${o} sending request:`,r),p.send(t,"POST",y,i,15)})}Ro(e,t,i){const r=lM(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=qD(),h=rx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new w_({})),this.To(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=o.join("");je(wo,`Creating RPC '${e}' stream ${r}: ${y}`,p);const w=u.createWebChannel(y,p);let S=!1,P=!1;const U=new m4({io:q=>{P?je(wo,`Not sending because RPC '${e}' stream ${r} is closed:`,q):(S||(je(wo,`Opening RPC '${e}' stream ${r} transport.`),w.open(),S=!0),je(wo,`RPC '${e}' stream ${r} sending:`,q),w.send(q))},ro:()=>w.close()}),W=(q,re,we)=>{q.listen(re,Ae=>{try{we(Ae)}catch(Be){setTimeout(()=>{throw Be},0)}})};return W(w,E_.EventType.OPEN,()=>{P||je(wo,`RPC '${e}' stream ${r} transport opened.`)}),W(w,E_.EventType.CLOSE,()=>{P||(P=!0,je(wo,`RPC '${e}' stream ${r} transport closed`),U.fo())}),W(w,E_.EventType.ERROR,q=>{P||(P=!0,Mi(wo,`RPC '${e}' stream ${r} transport errored:`,q),U.fo(new Re(pe.UNAVAILABLE,"The operation could not be completed")))}),W(w,E_.EventType.MESSAGE,q=>{var re;if(!P){const we=q.data[0];Ot(!!we);const Be=we.error||(null===(re=we[0])||void 0===re?void 0:re.error);if(Be){je(wo,`RPC '${e}' stream ${r} received error:`,Be);const ze=Be.status;let ot=function(Bt){const cn=Dr[Bt];if(void 0!==cn)return jP(cn)}(ze),dt=Be.message;void 0===ot&&(ot=pe.INTERNAL,dt="Unknown error status: "+ze+" with message "+Be.message),P=!0,U.fo(new Re(ot,dt)),w.close()}else je(wo,`RPC '${e}' stream ${r} received:`,we),U._o(we)}}),W(h,sx.STAT_EVENT,q=>{q.stat===KD.PROXY?je(wo,`RPC '${e}' stream ${r} detected buffering proxy`):q.stat===KD.NOPROXY&&je(wo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.lo()},0),U}}function K2(){return typeof window<"u"?window:null}function VT(){return typeof document<"u"?document:null}function nw(n){return new S$(n,!0)}class cM{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class Y2{constructor(e,t,i,r,o,u,h,p){this.si=e,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new cM(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,X.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,X.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var i=this;return(0,X.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==e?i.Lo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):t&&t.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===t&&this.Xo(i,r)},i=>{e(()=>{const r=new Re(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(e,t){const i=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,X.Z)(function*(){e.state=0,e.start()}))}Zo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y4 extends Y2{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function M$(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:mt(),r=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Ot(void 0===y||"string"==typeof y),Er.fromBase64String(y||"")):(Ot(void 0===y||y instanceof Uint8Array),Er.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=void 0===p.code?pe.UNKNOWN:jP(p.code);return new Re(y,p.message||"")}(u);t=new WP(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=rc(n,i.document.name),o=hr(i.document.updateTime),u=i.document.createTime?hr(i.document.createTime):kt.min(),h=new io({mapValue:{fields:i.document.fields}}),p=wi.newFoundDocument(r,o,u,h);t=new TT(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=rc(n,i.document),o=i.readTime?hr(i.readTime):kt.min(),u=wi.newNoDocument(r,o);t=new TT([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=rc(n,i.document);t=new TT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return mt();{const i=e.filter,{count:r=0,unchangedNames:o}=i,u=new w$(r,o);t=new zP(i.targetId,u)}}var p;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return kt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?kt.min():o.readTime?hr(o.readTime):kt.min()}(e);return this.listener.eu(t,i)}nu(e){const t={};t.database=W0(this.serializer),t.addTarget=function(r,o){let u;const h=o.target;if(u=mT(h)?{documents:n2(r,h)}:{query:Vx(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=YP(r,o.resumeToken);const p=Fx(r,o.expectedCount);null!==p&&(u.expectedCount=p)}else if(o.snapshotVersion.compareTo(kt.min())>0){u.readTime=z_(r,o.snapshotVersion.toTimestamp());const p=Fx(r,o.expectedCount);null!==p&&(u.expectedCount=p)}return u}(this.serializer,e);const i=function O$(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.zo(t)}su(e){const t={};t.database=W0(this.serializer),t.removeTarget=e,this.zo(t)}}class v4 extends Y2{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function N$(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(i,r){let o=hr(i.updateTime?i.updateTime:r);return o.isEqual(kt.min())&&(o=hr(r)),new _$(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.uu(i,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=W0(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>q0(this.serializer,i))};this.zo(t)}}class b4 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(pe.UNKNOWN,r.toString())})}Ao(e,t,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ao(e,t,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(pe.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class E4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(nr(t),this.wu=!1):je("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class D4{constructor(e,t,i,r,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(h=>{i.enqueueAndForget((0,X.Z)(function*(){var p;Xd(u)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,X.Z)(function*(y){const w=it(y);w.Au.add(4),yield J_(w),w.Pu.set("Unknown"),w.Au.delete(4),yield iw(w)}),function(y){return p.apply(this,arguments)})(u))}))}),this.Pu=new E4(i,r)}}function iw(n){return dM.apply(this,arguments)}function dM(){return dM=(0,X.Z)(function*(n){if(Xd(n))for(const e of n.Ru)yield e(!0)}),dM.apply(this,arguments)}function J_(n){return hM.apply(this,arguments)}function hM(){return hM=(0,X.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),hM.apply(this,arguments)}function jT(n,e){const t=it(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),gM(t)?pM(t):X_(t).Uo()&&fM(t,e))}function rw(n,e){const t=it(n),i=X_(t);t.Eu.delete(e),i.Uo()&&J2(t,e),0===t.Eu.size&&(i.Uo()?i.Qo():Xd(t)&&t.Pu.set("Unknown"))}function fM(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}X_(n).nu(e)}function J2(n,e){n.bu.Lt(e),X_(n).su(e)}function pM(n){n.bu=new D$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),X_(n).start(),n.Pu.mu()}function gM(n){return Xd(n)&&!X_(n).qo()&&n.Eu.size>0}function Xd(n){return 0===it(n).Au.size}function Q2(n){n.bu=void 0}function T4(n){return mM.apply(this,arguments)}function mM(){return mM=(0,X.Z)(function*(n){n.Eu.forEach((e,t)=>{fM(n,e)})}),mM.apply(this,arguments)}function C4(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,X.Z)(function*(n,e){Q2(n),gM(n)?(n.Pu.pu(e),pM(n)):n.Pu.set("Unknown")}),_M.apply(this,arguments)}function I4(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=(0,X.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof WP&&2===e.state&&e.cause)try{yield(i=(0,X.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.Eu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Eu.delete(h),r.bu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield $T(n,i)}else if(e instanceof TT?n.bu.Wt(e):e instanceof zP?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(kt.min()))try{const i=yield V2(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const u=r.bu.ue(o);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.Eu.get(p);y&&r.Eu.set(p,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach((h,p)=>{const y=r.Eu.get(h);if(!y)return;r.Eu.set(h,y.withResumeToken(Er.EMPTY_BYTE_STRING,y.snapshotVersion)),J2(r,h);const w=new pu(y.target,h,p,y.sequenceNumber);fM(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield $T(n,i)}var i}),yM.apply(this,arguments)}function $T(n,e,t){return vM.apply(this,arguments)}function vM(){return vM=(0,X.Z)(function*(n,e,t){if(!lu(e))throw e;n.Au.add(1),yield J_(n),n.Pu.set("Offline"),t||(t=()=>V2(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield iw(n)}))}),vM.apply(this,arguments)}function X2(n,e){return e().catch(t=>$T(n,t,e))}function Q_(n){return bM.apply(this,arguments)}function bM(){return bM=(0,X.Z)(function*(n){const e=it(n),t=eh(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;S4(e);)try{const r=yield d4(e.localStore,i);if(null===r){0===e.Tu.length&&t.Qo();break}i=r.batchId,A4(e,r)}catch(r){yield $T(e,r)}eF(e)&&tF(e)}),bM.apply(this,arguments)}function S4(n){return Xd(n)&&n.Tu.length<10}function A4(n,e){n.Tu.push(e);const t=eh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function eF(n){return Xd(n)&&!eh(n).qo()&&n.Tu.length>0}function tF(n){eh(n).start()}function x4(n){return wM.apply(this,arguments)}function wM(){return wM=(0,X.Z)(function*(n){eh(n).au()}),wM.apply(this,arguments)}function M4(n){return EM.apply(this,arguments)}function EM(){return EM=(0,X.Z)(function*(n){const e=eh(n);for(const t of n.Tu)e.ou(t.mutations)}),EM.apply(this,arguments)}function N4(n,e,t){return DM.apply(this,arguments)}function DM(){return DM=(0,X.Z)(function*(n,e,t){const i=n.Tu.shift(),r=Ox.from(i,e,t);yield X2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Q_(n)}),DM.apply(this,arguments)}function O4(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,X.Z)(function*(n,e){var t;e&&eh(n).ru&&(yield(t=(0,X.Z)(function*(i,r){if(VP(o=r.code)&&o!==pe.ABORTED){const u=i.Tu.shift();eh(i).Go(),yield X2(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Q_(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),eF(n)&&tF(n)}),TM.apply(this,arguments)}function nF(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,X.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=Xd(t);t.Au.add(3),yield J_(t),i&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield iw(t)}),CM.apply(this,arguments)}function IM(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,X.Z)(function*(n,e){const t=it(n);e?(t.Au.delete(2),yield iw(t)):e||(t.Au.add(2),yield J_(t),t.Pu.set("Unknown"))}),SM.apply(this,arguments)}function X_(n){return n.Vu||(n.Vu=function(e,t,i){const r=it(e);return r.lu(),new y4(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:T4.bind(null,n),co:C4.bind(null,n),eu:I4.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Vu.Go(),gM(n)?pM(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),Q2(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function eh(n){return n.Su||(n.Su=function(e,t,i){const r=it(e);return r.lu(),new v4(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:x4.bind(null,n),co:O4.bind(null,n),cu:M4.bind(null,n),uu:N4.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Su.Go(),yield Q_(n)):(yield n.Su.stop(),n.Tu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class AM{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,h=new AM(e,t,u,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(n,e){if(nr("AsyncQueue",`${e}: ${n}`),lu(n))return new Re(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class ty{constructor(e){this.comparator=e?(t,i)=>e(t,i)||lt.comparator(t.key,i.key):(t,i)=>lt.comparator(t.key,i.key),this.keyedMap=B0(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new ty(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ty)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ty;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class iF{constructor(){this.Du=new ri(lt.comparator)}track(e){const t=e.doc.key,i=this.Du.get(t);i?0!==e.type&&3===i.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==i.type?this.Du=this.Du.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Du=this.Du.remove(t):1===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):mt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,i)=>{e.push(i)}),e}}class ny{constructor(e,t,i,r,o,u,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ny(e,t,ty.emptySet(t),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class k4{constructor(){this.xu=void 0,this.listeners=[]}}class R4{constructor(){this.queries=new hu(e=>wP(e),F0),this.onlineState="Unknown",this.Nu=new Set}}function xM(n,e){return MM.apply(this,arguments)}function MM(){return MM=(0,X.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new k4),r)try{o.xu=yield t.onListen(i)}catch(u){const h=ey(u,`Initialization of query '${Ax(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.ku(t.onlineState),o.xu&&e.Mu(o.xu)&&kM(t)}),MM.apply(this,arguments)}function NM(n,e){return OM.apply(this,arguments)}function OM(){return OM=(0,X.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),OM.apply(this,arguments)}function P4(n,e){const t=it(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.Mu(r)&&(i=!0);u.xu=r}}i&&kM(t)}function F4(n,e,t){const i=it(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function kM(n){n.Nu.forEach(e=>{e.next()})}class RM{constructor(e,t,i){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ny(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=ny.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class L4{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class rF{constructor(e){this.serializer=e}ir(e){return rc(this.serializer,e)}rr(e){return e.metadata.exists?t2(this.serializer,e.document,!1):wi.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return hr(e)}}class B4{constructor(e,t,i){this.Qu=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=oF(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const i=Mn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,i=new rF(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.ir(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||vn()).add(o);t.set(u,h)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function h4(n,e,t,i){return nM.apply(this,arguments)}(e.localStore,new rF(e.serializer),e.documents,e.Qu.id),i=e.zu(e.documents);for(const r of e.queries)yield f4(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function oF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sF{constructor(e){this.key=e}}class aF{constructor(e){this.key=e}}class lF{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=vn(),this.mutatedKeys=vn(),this.Zu=DP(e),this.tc=new ty(this.Zu)}get ec(){return this.Ju}nc(e,t){const i=t?t.sc:new iF,r=t?t.tc:this.tc;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,S)=>{const P=r.get(w),U=L0(this.query,S)?S:null,W=!!P&&this.mutatedKeys.has(P.key),q=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let re=!1;P&&U?P.data.isEqual(U.data)?W!==q&&(i.track({type:3,doc:U}),re=!0):this.ic(P,U)||(i.track({type:2,doc:U}),re=!0,(p&&this.Zu(U,p)>0||y&&this.Zu(U,y)<0)&&(h=!0)):!P&&U?(i.track({type:0,doc:U}),re=!0):P&&!U&&(i.track({type:1,doc:P}),re=!0,(p||y)&&(h=!0)),re&&(U?(u=u.add(U),o=q?o.add(w):o.delete(w)):(u=u.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const w="F"===this.query.limitType?u.last():u.first();u=u.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{tc:u,sc:i,ji:h,mutatedKeys:o}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((y,w)=>function(S,P){const U=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return U(S)-U(P)}(y.type,w.type)||this.Zu(y.doc,w.doc)),this.rc(i);const u=t?this.oc():[],h=0===this.Xu.size&&this.current?1:0,p=h!==this.Yu;return this.Yu=h,0!==o.length||p?{snapshot:new ny(this.query,e.tc,r,o,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:u}:{uc:u}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new iF,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=vn(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const t=[];return e.forEach(i=>{this.Xu.has(i)||t.push(new aF(i))}),this.Xu.forEach(i=>{e.has(i)||t.push(new sF(i))}),t}ac(e){this.Ju=e.sr,this.Xu=vn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return ny.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class U4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class V4{constructor(e){this.key=e,this.lc=!1}}class j4{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.fc={},this.dc=new hu(h=>wP(h),F0),this._c=new Map,this.wc=new Set,this.mc=new ri(lt.comparator),this.gc=new Map,this.yc=new Zx,this.Ic={},this.Tc=new Map,this.Ec=Op.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function $4(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,X.Z)(function*(n,e){const t=rN(n);let i,r;const o=t.dc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const u=yield K_(t.localStore,Bo(e)),h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield FM(t,e,i,"current"===h,u.resumeToken),t.isPrimaryClient&&jT(t.remoteStore,u)}return r}),PM.apply(this,arguments)}function FM(n,e,t,i,r){return LM.apply(this,arguments)}function LM(){return LM=(0,X.Z)(function*(n,e,t,i,r){n.Rc=(S,P,U)=>{return(W=(0,X.Z)(function*(q,re,we,Ae){let Be=re.view.nc(we);Be.ji&&(Be=yield FT(q.localStore,re.query,!1).then(({documents:dt})=>re.view.nc(dt,Be)));const ze=Ae&&Ae.targetChanges.get(re.targetId),ot=re.view.applyChanges(Be,q.isPrimaryClient,ze);return qM(q,re.targetId,ot.uc),ot.snapshot}),function(q,re,we,Ae){return W.apply(this,arguments)})(n,S,P,U);var W};const o=yield FT(n.localStore,e,!0),u=new lF(e,o.sr),h=u.nc(o.documents),p=G0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,p);qM(n,t,y.uc);const w=new U4(e,t,u);return n.dc.set(e,w),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),LM.apply(this,arguments)}function H4(n,e){return BM.apply(this,arguments)}function BM(){return BM=(0,X.Z)(function*(n,e){const t=it(n),i=t.dc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!F0(o,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Y_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),rw(t.remoteStore,i.targetId),iy(t,i.targetId)}).catch(Cs))):(iy(t,i.targetId),yield Y_(t.localStore,i.targetId,!0))}),BM.apply(this,arguments)}function UM(){return UM=(0,X.Z)(function*(n,e,t){const i=oN(n);try{const r=yield function(o,u){const h=it(o),p=ii.now(),y=u.reduce((P,U)=>P.add(U.key),vn());let w,S;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let U=os(),W=vn();return h.Xi.getEntries(P,y).next(q=>{U=q,U.forEach((re,we)=>{we.isValidDocument()||(W=W.add(re))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,U)).next(q=>{w=q;const re=[];for(const we of u){const Ae=v$(we,w.get(we.key).overlayedDocument);null!=Ae&&re.push(new fu(we.key,Ae,aP(Ae.value.mapValue),ki.exists(!0)))}return h.mutationQueue.addMutationBatch(P,p,re,u)}).next(q=>{S=q;const re=q.applyToLocalDocumentSet(w,W);return h.documentOverlayCache.saveOverlays(P,q.batchId,re)})}).then(()=>({batchId:S.batchId,changes:CP(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let p=o.Ic[o.currentUser.toKey()];p||(p=new ri($t)),p=p.insert(u,h),o.Ic[o.currentUser.toKey()]=p}(i,r.batchId,t),yield gu(i,r.changes),yield Q_(i.remoteStore)}catch(r){const o=ey(r,"Failed to persist write");t.reject(o)}}),UM.apply(this,arguments)}function cF(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,X.Z)(function*(n,e){const t=it(n);try{const i=yield function u4(n,e){const t=it(n),i=e.snapshotVersion;let r=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Xi.newChangeBuffer({trackRemovals:!0});r=t.Hi;const h=[];e.targetChanges.forEach((w,S)=>{const P=r.get(S);if(!P)return;h.push(t.Fs.removeMatchingKeys(o,w.removedDocuments,S).next(()=>t.Fs.addMatchingKeys(o,w.addedDocuments,S)));let U=P.withSequenceNumber(o.currentSequenceNumber);var W,q,re;null!==e.targetMismatches.get(S)?U=U.withResumeToken(Er.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):w.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(w.resumeToken,i)),r=r.insert(S,U),q=U,re=w,(0===(W=P).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&h.push(t.Fs.updateTargetData(o,U))});let p=os(),y=vn();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,w))}),h.push(j2(o,u,e.documentUpdates).next(w=>{p=w.er,y=w.nr})),!i.isEqual(kt.min())){const w=t.Fs.getLastRemoteSnapshotVersion(o).next(S=>t.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(w)}return ue.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,y)).next(()=>p)}).then(o=>(t.Hi=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const u=t.gc.get(o);u&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.lc=!0:r.modifiedDocuments.size>0?Ot(u.lc):r.removedDocuments.size>0&&(Ot(u.lc),u.lc=!1))}),yield gu(t,i,e)}catch(i){yield Cs(i)}}),VM.apply(this,arguments)}function uF(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.dc.forEach((o,u)=>{const h=u.view.ku(e);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=it(o);h.onlineState=u;let p=!1;h.queries.forEach((y,w)=>{for(const S of w.listeners)S.ku(u)&&(p=!0)}),p&&kM(h)}(i.eventManager,e),r.length&&i.fc.eu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function z4(n,e,t){return jM.apply(this,arguments)}function jM(){return jM=(0,X.Z)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.gc.get(e),o=r&&r.key;if(o){let u=new ri(lt.comparator);u=u.insert(o,wi.newNoDocument(o,kt.min()));const h=vn().add(o),p=new H0(kt.min(),new Map,new ri($t),u,h);yield cF(i,p),i.mc=i.mc.remove(o),i.gc.delete(e),ZM(i)}else yield Y_(i.localStore,e,!1).then(()=>iy(i,e,t)).catch(Cs)}),jM.apply(this,arguments)}function W4(n,e){return $M.apply(this,arguments)}function $M(){return $M=(0,X.Z)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const r=yield function c4(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Xi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const w=p.batch,S=w.keys();let P=ue.resolve();return S.forEach(U=>{P=P.next(()=>y.getEntry(h,U)).next(W=>{const q=p.docVersions.get(U);Ot(null!==q),W.version.compareTo(q)<0&&(w.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),y.addEntry(W)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(h,w))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=vn();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);WM(t,i,null),zM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield gu(t,r)}catch(r){yield Cs(r)}}),$M.apply(this,arguments)}function q4(n,e,t){return HM.apply(this,arguments)}function HM(){return HM=(0,X.Z)(function*(n,e,t){const i=it(n);try{const r=yield function(o,u){const h=it(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next(w=>(Ot(null!==w),y=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,e);WM(i,e,t),zM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield gu(i,r)}catch(r){yield Cs(r)}}),HM.apply(this,arguments)}function GM(){return GM=(0,X.Z)(function*(n,e){const t=it(n);Xd(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=it(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Tc.get(i)||[];r.push(e),t.Tc.set(i,r)}catch(i){const r=ey(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),GM.apply(this,arguments)}function zM(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function WM(n,e,t){const i=it(n);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.dc.delete(i),t&&n.fc.vc(i,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(i=>{n.yc.containsKey(i)||dF(n,i)})}function dF(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(rw(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),ZM(n))}function qM(n,e,t){for(const i of t)i instanceof sF?(n.yc.addReference(i.key,e),K4(n,i)):i instanceof aF?(je("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,e),n.yc.containsKey(i.key)||dF(n,i.key)):mt()}function K4(n,e){const t=e.key,i=t.path.canonicalString();n.mc.get(t)||n.wc.has(i)||(je("SyncEngine","New document in limbo: "+t),n.wc.add(i),ZM(n))}function ZM(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new lt(Mn.fromString(e)),i=n.Ec.next();n.gc.set(i,new V4(t)),n.mc=n.mc.insert(t,i),jT(n.remoteStore,new pu(Bo(V_(t.path)),i,"TargetPurposeLimboResolution",rs.ct))}}function gu(n,e,t){return KM.apply(this,arguments)}function KM(){return KM=(0,X.Z)(function*(n,e,t){const i=it(n),r=[],o=[],u=[];var h;i.dc.isEmpty()||(i.dc.forEach((h,p)=>{u.push(i.Rc(p,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const w=Xx.Bi(p.targetId,y);o.push(w)}}))}),yield Promise.all(u),i.fc.eu(r),yield(h=(0,X.Z)(function*(p,y){const w=it(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ue.forEach(y,P=>ue.forEach(P.$i,U=>w.persistence.referenceDelegate.addReference(S,P.targetId,U)).next(()=>ue.forEach(P.Fi,U=>w.persistence.referenceDelegate.removeReference(S,P.targetId,U)))))}catch(S){if(!lu(S))throw S;je("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const P=S.targetId;if(!S.fromCache){const U=w.Hi.get(P),q=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);w.Hi=w.Hi.insert(P,q)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,o))}),KM.apply(this,arguments)}function Y4(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,X.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const i=yield U2(t.localStore,e);t.currentUser=e,(r=t).Tc.forEach(u=>{u.forEach(h=>{h.reject(new Re(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield gu(t,i.tr)}var r}),YM.apply(this,arguments)}function J4(n,e){const t=it(n),i=t.gc.get(e);if(i&&i.lc)return vn().add(i.key);{let r=vn();const o=t._c.get(e);if(!o)return r;for(const u of o){const h=t.dc.get(u);r=r.unionWith(h.view.ec)}return r}}function Q4(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,X.Z)(function*(n,e){const t=it(n),i=yield FT(t.localStore,e.query,!0),r=e.view.ac(i);return t.isPrimaryClient&&qM(t,e.targetId,r.uc),r}),JM.apply(this,arguments)}function X4(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,X.Z)(function*(n,e){const t=it(n);return H2(t.localStore,e).then(i=>gu(t,i))}),QM.apply(this,arguments)}function eH(n,e,t,i){return XM.apply(this,arguments)}function XM(){return XM=(0,X.Z)(function*(n,e,t,i){const r=it(n),o=yield function(u,h){const p=it(u),y=it(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.Vn(w,h).next(S=>S?p.localDocuments.getDocuments(w,S):ue.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield Q_(r.remoteStore):"acknowledged"===t||"rejected"===t?(WM(r,e,i||null),zM(r,e),h=e,it(it(r.localStore).mutationQueue).Dn(h)):mt(),yield gu(r,o)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),XM.apply(this,arguments)}function eN(){return eN=(0,X.Z)(function*(n,e){const t=it(n);if(rN(t),oN(t),!0===e&&!0!==t.Ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield hF(t,i.toArray());t.Ac=!0,yield IM(t.remoteStore,!0);for(const o of r)jT(t.remoteStore,o)}else if(!1===e&&!1!==t.Ac){const i=[];let r=Promise.resolve();t._c.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(iy(t,u),Y_(t.localStore,u,!0))),rw(t.remoteStore,u)}),yield r,yield hF(t,i),function(o){const u=it(o);u.gc.forEach((h,p)=>{rw(u.remoteStore,p)}),u.yc.Is(),u.gc=new Map,u.mc=new ri(lt.comparator)}(t),t.Ac=!1,yield IM(t.remoteStore,!1)}}),eN.apply(this,arguments)}function hF(n,e,t){return tN.apply(this,arguments)}function tN(){return tN=(0,X.Z)(function*(n,e,t){const i=it(n),r=[],o=[];for(const u of e){let h;const p=i._c.get(u);if(p&&0!==p.length){h=yield K_(i.localStore,Bo(p[0]));for(const y of p){const w=i.dc.get(y),S=yield Q4(i,w);S.snapshot&&o.push(S.snapshot)}}else{const y=yield $2(i.localStore,u);h=yield K_(i.localStore,y),yield FM(i,fF(y),u,!1,h.resumeToken)}r.push(h)}return i.fc.eu(o),r}),tN.apply(this,arguments)}function fF(n){return vP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nH(n){const e=it(n);return it(it(e.localStore).persistence).Mi()}function iH(n,e,t,i){return nN.apply(this,arguments)}function nN(){return nN=(0,X.Z)(function*(n,e,t,i){const r=it(n);if(r.Ac)return void je("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield H2(r.localStore,EP(o[0])),h=H0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Er.EMPTY_BYTE_STRING);yield gu(r,u,h);break}case"rejected":yield Y_(r.localStore,e,!0),iy(r,e,i);break;default:mt()}}),nN.apply(this,arguments)}function rH(n,e,t){return iN.apply(this,arguments)}function iN(){return iN=(0,X.Z)(function*(n,e,t){const i=rN(n);if(i.Ac){for(const r of e){if(i._c.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const o=yield $2(i.localStore,r),u=yield K_(i.localStore,o);yield FM(i,fF(o),u.targetId,!1,u.resumeToken),jT(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield Y_(i.localStore,r,!1).then(()=>{rw(i.remoteStore,r),iy(i,r)}).catch(Cs))}}),iN.apply(this,arguments)}function rN(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z4.bind(null,e),e.fc.eu=P4.bind(null,e.eventManager),e.fc.vc=F4.bind(null,e.eventManager),e}function oN(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q4.bind(null,e),e}class ow{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=nw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return B2(this.persistence,new L2,e.initialUser,this.serializer)}createPersistence(e){return new Kx(kT.js,this.serializer)}createSharedClientState(e){return new q2}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sN extends ow{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield oN(i.bc.syncEngine),yield Q_(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return B2(this.persistence,new L2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new A2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new tP(t,this.persistence);return new eP(e.asyncQueue,i)}createPersistence(e){const t=Qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?bo.withCacheSize(this.cacheSizeBytes):bo.DEFAULT;return new Jx(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,K2(),VT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new q2}}class pF extends sN{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof aM&&(i.sharedClientState.syncEngine={Qr:eH.bind(null,r),jr:iH.bind(null,r),zr:rH.bind(null,r),Mi:nH.bind(null,r),Gr:X4.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var o=(0,X.Z)(function*(u){yield function tH(n,e){return eN.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=K2();if(!aM.D(t))throw new Re(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aM(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ry{initialize(e,t){var i=this;return(0,X.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>uF(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Y4.bind(null,i.syncEngine),yield IM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new R4}createDatastore(e){const t=nw(e.databaseInfo.databaseId),i=new _4(e.databaseInfo);return new b4(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>uF(this.syncEngine,h,0),u=Z2.D()?new Z2:new p4,new D4(t,i,r,o,u);var t,i,r,o,u}createSyncEngine(e,t){return function(i,r,o,u,h,p,y){const w=new j4(i,r,o,u,h,p);return y&&(w.Ac=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(t){const i=it(t);je("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield J_(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gF(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class HT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class aH{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new ur,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const i=e.Cc.decode(t),r=Number(i);isNaN(r)&&e.kc(`length string (${i}) is not valid number`);const o=yield e.Mc(r);return new L4(JSON.parse(o),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,X.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Mc(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const i=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,X.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class lH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,X.Z)(function*(o,u){const h=it(o),p=W0(h.serializer)+"/documents",y={documents:u.map(U=>z0(h.serializer,U))},w=yield h.Ao("BatchGetDocuments",p,y,u.length),S=new Map;w.forEach(U=>{const W=function x$(n,e){return"found"in e?function(t,i){Ot(!!i.found);const r=rc(t,i.found.name),o=hr(i.found.updateTime),u=i.found.createTime?hr(i.found.createTime):kt.min(),h=new io({mapValue:{fields:i.found.fields}});return wi.newFoundDocument(r,o,u,h)}(n,e):"missing"in e?function(t,i){Ot(!!i.missing),Ot(!!i.readTime);const r=rc(t,i.missing),o=hr(i.readTime);return wi.newNoDocument(r,o)}(n,e):mt()}(h.serializer,U);S.set(W.key.toString(),W)});const P=[];return u.forEach(U=>{const W=S.get(U.toString());Ot(!!W),P.push(W)}),P}),function(o,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new G_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=lt.fromPath(r);e.mutations.push(new Mx(o,e.precondition(o)))}),yield(i=(0,X.Z)(function*(r,o){const u=it(r),h=W0(u.serializer)+"/documents",p={writes:o.map(y=>q0(u.serializer,y))};yield u.po("Commit",h,p)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=kt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kt.min())?ki.exists(!1):ki.updateTime(t):ki.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Re(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(t)}return ki.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cH{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Fc=i.maxAttempts,this.Lo=new cM(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,X.Z)(function*(){const t=new lH(e.datastore),i=e.Lc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.qc(o)}))}).catch(r=>{e.qc(r)})}))}Lc(e){try{const t=this.updateFunction(e);return!O_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!VP(t)}return!1}}class uH{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=wr.UNAUTHENTICATED,this.clientId=D_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,X.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(je("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ey(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function GT(n,e){return aN.apply(this,arguments)}function aN(){return aN=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,X.Z)(function*(o){i.isEqual(o)||(yield U2(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),aN.apply(this,arguments)}function lN(n,e){return cN.apply(this,arguments)}function cN(){return cN=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield uN(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>nF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>nF(e.remoteStore,o)),n._onlineComponents=e}),cN.apply(this,arguments)}function mF(n){return"FirebaseError"===n.name?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function uN(n){return dN.apply(this,arguments)}function dN(){return dN=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield GT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!mF(t))throw t;Mi("Error using user provided cache. Falling back to memory cache: "+t),yield GT(n,new ow)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield GT(n,new ow);return n._offlineComponents}),dN.apply(this,arguments)}function zT(n){return hN.apply(this,arguments)}function hN(){return hN=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield lN(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield lN(n,new ry))),n._onlineComponents}),hN.apply(this,arguments)}function _F(n){return uN(n).then(e=>e.persistence)}function WT(n){return uN(n).then(e=>e.localStore)}function yF(n){return zT(n).then(e=>e.remoteStore)}function fN(n){return zT(n).then(e=>e.syncEngine)}function oy(n){return pN.apply(this,arguments)}function pN(){return pN=(0,X.Z)(function*(n){const e=yield zT(n),t=e.eventManager;return t.onListen=$4.bind(null,e.syncEngine),t.onUnlisten=H4.bind(null,e.syncEngine),t}),pN.apply(this,arguments)}function bF(n,e,t={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(r,o,u,h,p){const y=new HT({next:S=>{o.enqueueAndForget(()=>NM(r,w));const P=S.docs.has(u);!P&&S.fromCache?p.reject(new Re(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&h&&"server"===h.source?p.reject(new Re(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),w=new RM(V_(u.path),y,{includeMetadataChanges:!0,Uu:!0});return xM(r,w)}(yield oy(n),n.asyncQueue,e,t,i)})),i.promise}function wF(n,e,t={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(r,o,u,h,p){const y=new HT({next:S=>{o.enqueueAndForget(()=>NM(r,w)),S.fromCache&&"server"===h.source?p.reject(new Re(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),w=new RM(u,y,{includeMetadataChanges:!0,Uu:!0});return xM(r,w)}(yield oy(n),n.asyncQueue,e,t,i)})),i.promise}const EF=new Map;function gN(n,e,t){if(!t)throw new Re(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DF(n,e,t,i){if(!0===e&&!0===i)throw new Re(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TF(n){if(!lt.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CF(n){if(lt.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qT(n);throw new Re(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function IF(n,e){if(e<=0)throw new Re(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class SF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new w0;switch(t.type){case"firstParty":return new tT(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=EF.get(e);t&&(je("ComponentProvider","Removing Datastore"),EF.delete(e),t.terminate())}(this),Promise.resolve()}}function AF(n,e,t,i={}){var r;const o=(n=An(n,sw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Mi("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=wr.MOCK_USER;else{u=(0,xt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Re(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new wr(p)}n._authCredentials=new XD(new QD(u,h))}}class Ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class ro{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class oc extends ro{constructor(e,t,i){super(e,t,V_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new lt(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function xF(n,e,...t){if(n=(0,xt.m9)(n),gN("collection","path",e),n instanceof sw){const i=Mn.fromString(e,...t);return CF(i),new oc(n,null,i)}{if(!(n instanceof Ei||n instanceof oc))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(e,...t));return CF(i),new oc(n.firestore,null,i)}}function ZT(n,e,...t){if(n=(0,xt.m9)(n),1===arguments.length&&(e=D_.A()),gN("doc","path",e),n instanceof sw){const i=Mn.fromString(e,...t);return TF(i),new Ei(n,null,new lt(i))}{if(!(n instanceof Ei||n instanceof oc))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(e,...t));return TF(i),new Ei(n.firestore,n instanceof oc?n.converter:null,new lt(i))}}function MF(n,e){return n=(0,xt.m9)(n),e=(0,xt.m9)(e),(n instanceof Ei||n instanceof oc)&&(e instanceof Ei||e instanceof oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function mN(n,e){return n=(0,xt.m9)(n),e=(0,xt.m9)(e),n instanceof ro&&e instanceof ro&&n.firestore===e.firestore&&F0(n._query,e._query)&&n.converter===e.converter}class bH{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new cM(this,"async_queue_retry"),this.Yc=()=>{const t=VT();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=VT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=VT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ur;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,X.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!lu(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(i=>{throw this.zc=i,this.Wc=!1,nr("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=t,t}enqueueAfterDelay(e,t,i){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=AM.createAndSchedule(this,e,t,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&mt()}verifyOperationInProgress(){}na(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function _N(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class wH{constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Di extends sw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new bH,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NF(this),this._firestoreClient.terminate()}}function DH(n,e){const t="object"==typeof n?n:(0,hn.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,hn._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,xt.P0)("firestore");o&&AF(r,...o)}return r}function fr(n){return n._firestoreClient||NF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NF(n){var e,t,i;const r=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new s(n._databaseId,h,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var h,y;n._firestoreClient=new uH(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function OF(n,e,t){const i=new ur;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield GT(n,t),yield lN(n,e),i.resolve()}catch(r){const o=r;if(!mF(o))throw o;Mi("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function kF(n){if(n._initialized||n._terminated)throw new Re(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sc(Er.fromBase64String(e))}catch(t){throw new Re(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sc(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rp{constructor(e){this._methodName=e}}class KT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const kH=/^__.*__$/;class RH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new H_(e,this.data,t,this.fieldTransforms)}}class RF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class YT{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new YT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.la(e),r}fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return XT(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PF(this.ua)&&kH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class PH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||nw(e)}ga(e,t,i,r=!1){return new YT({ua:e,methodName:t,ma:i,path:Ni.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(n){const e=n._freezeSettings(),t=nw(n._databaseId);return new PH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JT(n,e,t,i,r,o={}){const u=n.ga(o.merge||o.mergeFields?2:0,e,t,r);wN("Data must be an object, but it was:",u,i);const h=BF(i,u);let p,y;if(o.merge)p=new Lo(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const w=[];for(const S of o.mergeFields){const P=cw(e,S,t);if(!u.contains(P))throw new Re(pe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);VF(w,P)||w.push(P)}p=new Lo(w),y=u.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=u.fieldTransforms;return new RH(new io(h),p,y)}class lw extends Rp{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lw}}function FF(n,e,t){return new YT({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yN extends Rp{_toFieldTransform(e){return new V0(e.path,new j_)}isEqual(e){return e instanceof yN}}class FH extends Rp{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=FF(this,e,!0),i=this.ya.map(o=>Fp(o,t)),r=new Cp(i);return new V0(e.path,r)}isEqual(e){return this===e}}class LH extends Rp{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=FF(this,e,!0),i=this.ya.map(o=>Fp(o,t)),r=new Ip(i);return new V0(e.path,r)}isEqual(e){return this===e}}class BH extends Rp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new $_(e.serializer,xP(e.serializer,this.pa));return new V0(e.path,t)}isEqual(e){return this===e}}function vN(n,e,t,i){const r=n.ga(1,e,t);wN("Data must be an object, but it was:",r,i);const o=[],u=io.empty();na(i,(p,y)=>{const w=QT(e,p,t);y=(0,xt.m9)(y);const S=r.fa(w);if(y instanceof lw)o.push(w);else{const P=Fp(y,S);null!=P&&(o.push(w),u.set(w,P))}});const h=new Lo(o);return new RF(u,h,r.fieldTransforms)}function bN(n,e,t,i,r,o){const u=n.ga(1,e,t),h=[cw(e,i,t)],p=[r];if(o.length%2!=0)throw new Re(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<o.length;P+=2)h.push(cw(e,o[P])),p.push(o[P+1]);const y=[],w=io.empty();for(let P=h.length-1;P>=0;--P)if(!VF(y,h[P])){const U=h[P];let W=p[P];W=(0,xt.m9)(W);const q=u.fa(U);if(W instanceof lw)y.push(U);else{const re=Fp(W,q);null!=re&&(y.push(U),w.set(U,re))}}const S=new Lo(y);return new RF(w,S,u.fieldTransforms)}function LF(n,e,t,i=!1){return Fp(t,n.ga(i?4:3,e))}function Fp(n,e){if(UF(n=(0,xt.m9)(n)))return wN("Unsupported field value:",e,n),BF(n,e);if(n instanceof Rp)return function(t,i){if(!PF(i.ua))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const u of t){let h=Fp(u,i.da(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xP(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ii.fromDate(t);return{timestampValue:z_(i.serializer,r)}}if(t instanceof ii){const r=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:z_(i.serializer,r)}}if(t instanceof KT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sc)return{bytesValue:YP(i.serializer,t._byteString)};if(t instanceof Ei){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Lx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${qT(t)}`)}(n,e)}function BF(n,e){const t={};return pT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(n,(i,r)=>{const o=Fp(r,e.aa(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function UF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ii||n instanceof KT||n instanceof sc||n instanceof Ei||n instanceof Rp)}function wN(n,e,t){if(!UF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=qT(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function cw(n,e,t){if((e=(0,xt.m9)(e))instanceof mu)return e._internalPath;if("string"==typeof e)return QT(n,e);throw XT("Field path arguments must be of type string or ",n,!1,void 0,t)}const UH=new RegExp("[~\\*/\\[\\]]");function QT(n,e,t){if(e.search(UH)>=0)throw XT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mu(...e.split("."))._internalPath}catch{throw XT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function XT(n,e,t,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Re(pe.INVALID_ARGUMENT,h+n+p)}function VF(n,e){return n.some(t=>t.isEqual(e))}class uw{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class VH extends uw{data(){return super.data()}}function eC(n,e){return"string"==typeof e?QT(n,e):e instanceof mu?e._internalPath:e._delegate._internalPath}function jF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EN{}class dw extends EN{}function th(n,e,...t){let i=[];e instanceof EN&&i.push(e),i=i.concat(t),function(r){const o=r.filter(h=>h instanceof sy).length,u=r.filter(h=>h instanceof hw).length;if(o>1||o>0&&u>0)throw new Re(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class hw extends dw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new hw(e,t,i)}_apply(e){const t=this._parse(e);return zF(e._query,t),new ro(e.firestore,e.converter,Sx(e._query,t))}_parse(e){const t=Pp(e.firestore);return function(r,o,u,h,p,y,w){let S;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){GF(w,y);const P=[];for(const U of w)P.push(HF(h,r,U));S={arrayValue:{values:P}}}else S=HF(h,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||GF(w,y),S=LF(u,"where",w,"in"===y||"not-in"===y);return Sn.create(p,y,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class sy extends EN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const h of u)zF(o,h),o=Sx(o,h)}(e._query,t),new ro(e.firestore,e.converter,Sx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class DN extends dw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new DN(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new B_(r,o);return function(h,p){if(null===Cx(h)){const y=yT(h);null!==y&&WF(0,y,p.field)}}(i,u),u}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new du(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class tC extends dw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new tC(e,t,i)}_apply(e){return new ro(e.firestore,e.converter,vT(e._query,this._limit,this._limitType))}}class nC extends dw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new nC(e,t,i)}_apply(e){const t=$F(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(r=t,new du((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class iC extends dw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new iC(e,t,i)}_apply(e){const t=$F(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(r=t,new du((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function $F(n,e,t,i){if(t[0]=(0,xt.m9)(t[0]),t[0]instanceof uw)return function(r,o,u,h,p){if(!h)throw new Re(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const w of Tp(r))if(w.field.isKeyField())y.push(Q(o,h.key));else{const S=h.data.field(w.field);if(R0(S))throw new Re(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=w.field.canonicalString();throw new Re(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}y.push(S)}return new Zd(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Pp(n.firestore);return function(o,u,h,p,y,w){const S=o.explicitOrderBy;if(y.length>S.length)throw new Re(pe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let U=0;U<y.length;U++){const W=y[U];if(S[U].field.isKeyField()){if("string"!=typeof W)throw new Re(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof W}`);if(!Ix(o)&&-1!==W.indexOf("/"))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${W}' contains a slash.`);const q=o.path.child(Mn.fromString(W));if(!lt.isDocumentKey(q))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const re=new lt(q);P.push(Q(u,re))}else{const q=LF(h,p,W);P.push(q)}}return new Zd(P,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function HF(n,e,t){if("string"==typeof(t=(0,xt.m9)(t))){if(""===t)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ix(e)&&-1!==t.indexOf("/"))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mn.fromString(t));if(!lt.isDocumentKey(i))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Q(n,new lt(i))}if(t instanceof Ei)return Q(n,t._key);throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qT(t)}.`)}function GF(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zF(n,e){if(e.isInequality()){const i=yT(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Cx(n);null!==o&&WF(0,r,o)}const t=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function WF(n,e,t){if(!t.isEqual(e))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class TN{convertValue(e,t="none"){switch(f(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return na(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new KT(zi(e.latitude),zi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=F_(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(L_(e));default:return null}}convertTimestamp(e){const t=uu(e);return new ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mn.fromString(e);Ot(a2(i));const r=new l(i.get(1),i.get(3)),o=new lt(i.popFirst(5));return r.isEqual(t)||nr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function rC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class KH extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _u extends uw{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class fw extends _u{data(e={}){return super.data(e)}}class nh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new fw(this._firestore,this._userDataWriter,i.key,i,new Lp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new fw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Lp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new fw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Lp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:JH(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function ZF(n,e){return n instanceof _u&&e instanceof _u?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nh&&e instanceof nh&&n._firestore===e._firestore&&mN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ih extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}function KF(n,e,t){n=An(n,Ei);const i=An(n.firestore,Di),r=rC(n.converter,e,t);return ay(i,[JT(Pp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ki.none())])}function YF(n,e,t,...i){n=An(n,Ei);const r=An(n.firestore,Di),o=Pp(r);let u;return u="string"==typeof(e=(0,xt.m9)(e))||e instanceof mu?bN(o,"updateDoc",n._key,e,t,i):vN(o,"updateDoc",n._key,e),ay(r,[u.toMutation(n._key,ki.exists(!0))])}function JF(n,...e){var t,i,r;n=(0,xt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||_N(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(_N(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let p,y,w;if(n instanceof Ei)y=An(n.firestore,Di),w=V_(n._key.path),p={next:S=>{e[u]&&e[u](CN(y,n,S))},error:e[u+1],complete:e[u+2]};else{const S=An(n,ro);y=An(S.firestore,Di),w=S._query;const P=new ih(y);p={next:U=>{e[u]&&e[u](new nh(y,P,S,U))},error:e[u+1],complete:e[u+2]},jF(n._query)}return function(S,P,U,W){const q=new HT(W),re=new RM(P,q,U);return S.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return xM(yield oy(S),re)})),()=>{q.Sc(),S.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return NM(yield oy(S),re)}))}}(fr(y),w,h,p)}function ay(n,e){return function(t,i){const r=new ur;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function G4(n,e,t){return UM.apply(this,arguments)}(yield fN(t),i,r)})),r.promise}(fr(n),e)}function CN(n,e,t){const i=t.docs.get(e._key),r=new ih(n);return new _u(n,r,e._key,i,new Lp(t.hasPendingWrites,t.fromCache),e.converter)}const g6={maxAttempts:5};class QF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pp(e)}set(e,t,i){this._verifyNotCommitted();const r=rh(e,this._firestore),o=rC(r.converter,t,i),u=JT(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ki.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=rh(e,this._firestore);let u;return u="string"==typeof(t=(0,xt.m9)(t))||t instanceof mu?bN(this._dataReader,"WriteBatch.update",o._key,t,i,r):vN(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,ki.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rh(e,this._firestore);return this._mutations=this._mutations.concat(new G_(t._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rh(n,e){if((n=(0,xt.m9)(n)).firestore!==e)throw new Re(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class m6 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Pp(e)}get(e){const t=rh(e,this._firestore),i=new KH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return mt();const o=r[0];if(o.isFoundDocument())return new uw(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new uw(this._firestore,i,t._key,null,t.converter);throw mt()})}set(e,t,i){const r=rh(e,this._firestore),o=rC(r.converter,t,i),u=JT(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const o=rh(e,this._firestore);let u;return u="string"==typeof(t=(0,xt.m9)(t))||t instanceof mu?bN(this._dataReader,"Transaction.update",o._key,t,i,r):vN(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rh(e,this._firestore),i=new ih(this._firestore);return super.get(e).then(r=>new _u(this._firestore,i,t._key,r._document,new Lp(!1,!1),t.converter))}}!function(n,e=!0){Gd=hn.SDK_VERSION,(0,hn._registerComponent)(new xo.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Di(new eT(t.getProvider("auth-internal")),new lx(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new l(h.options.projectId,p)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,hn.registerVersion)(YD,"3.11.0",n),(0,hn.registerVersion)(YD,"3.11.0","esm2017")}();function IN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function eL(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function tL(){if(!function sP(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pw{constructor(e){this._delegate=e}static fromBase64String(e){return tL(),new pw(sc.fromBase64String(e))}static fromUint8Array(e){return eL(),new pw(sc.fromUint8Array(e))}toBase64(){return tL(),this._delegate.toBase64()}toUint8Array(){return eL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SN(n){return function C6(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class I6{enableIndexedDbPersistence(e,t){return function TH(n,e){kF(n=An(n,Di));const t=fr(n);if(t._uninitializedComponentsProvider)throw new Re(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Mi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new ry;return OF(t,r,new sN(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function CH(n){kF(n=An(n,Di));const e=fr(n);if(e._uninitializedComponentsProvider)throw new Re(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Mi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new ry;return OF(e,i,new pF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function IH(n){if(n._initialized&&!n._terminated)throw new Re(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(i){if(!Is.D())return Promise.resolve();const r=i+"main";yield Is.delete(r)}),function(i){return t.apply(this,arguments)})(Qx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class nL{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof l||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){AF(this._delegate,e,t,i)}enableNetwork(){return function AH(n){return function dH(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield _F(n),t=yield yF(n);return e.setNetworkEnabled(!0),function(i){const r=it(i);return r.Au.delete(0),iw(r)}(t)}))}(fr(n=An(n,Di)))}(this._delegate)}disableNetwork(){return function xH(n){return function hH(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield _F(n),t=yield yF(n);return e.setNetworkEnabled(!1),(i=(0,X.Z)(function*(r){const o=it(r);o.Au.add(0),yield J_(o),o.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(fr(n=An(n,Di)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,DF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function SH(n){return function(e){const t=new ur;return e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Z4(n,e){return GM.apply(this,arguments)}(yield fN(e),t)})),t.promise}(fr(n=An(n,Di)))}(this._delegate)}onSnapshotsInSync(e){return function s6(n,e){return function gH(n,e){const t=new HT(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return i=yield oy(n),r=t,it(i).Nu.add(r),void r.next();var i,r})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return i=yield oy(n),r=t,void it(i).Nu.delete(r);var i,r}))}}(fr(n=An(n,Di)),_N(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ly(this,xF(this._delegate,e))}catch(t){throw Uo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ia(this,ZT(this._delegate,e))}catch(t){throw Uo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vo(this,function vH(n,e){if(n=An(n,sw),gN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(n,null,(t=e,new du(Mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Uo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _6(n,e,t){n=An(n,Di);const i=Object.assign(Object.assign({},g6),t);return function(r){if(r.maxAttempts<1)throw new Re(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new ur;return r.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const p=yield function vF(n){return zT(n).then(e=>e.datastore)}(r);new cH(r.asyncQueue,p,u,o,h).run()})),h.promise}(fr(n),r=>e(new m6(n,r)),i)}(this._delegate,t=>e(new iL(this,t)))}batch(){return fr(this._delegate),new rL(new QF(this._delegate,e=>ay(this._delegate,e)))}loadBundle(e){return function MH(n,e){const t=fr(n=An(n,Di)),i=new wH;return function mH(n,e,t,i){const r=function(o,u){let h;return h="string"==typeof o?$P().encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return gF(p,y);if(p instanceof ArrayBuffer)return gF(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new aH(p,u);var p}(t,nw(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function oH(n,e,t){const i=it(n);var r;(r=(0,X.Z)(function*(o,u,h){try{const p=yield u.getMetadata();if(yield function(P,U){const W=it(P),q=hr(U.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",re=>W.Ls.getBundleMetadata(re,U.id)).then(re=>!!re&&re.createTime.compareTo(q)>=0)}(o.localStore,p))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=p).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(oF(p));const y=new B4(p,o.localStore,u.serializer);let w=yield u.Pc();for(;w;){const P=yield y.ju(w);P&&h._updateProgress(P),w=yield u.Pc()}const S=yield y.complete();return yield gu(o,S.Hu,void 0),yield function(P,U){const W=it(P);return W.persistence.runTransaction("Save bundle","readwrite",q=>W.Ls.saveBundleMetadata(q,U))}(o.localStore,p),h._completeWith(S.progress),Promise.resolve(S.Wu)}catch(p){return Mi("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var P}),function(o,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield fN(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function NH(n,e){return function _H(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(t,i){const r=it(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ls.getNamedQuery(o,i))}(yield WT(n),e)}))}(fr(n=An(n,Di)),e).then(t=>t?new ro(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vo(this,t):null)}}class oC extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new pw(new sc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ia.forKey(t,this.firestore,null)}}class iL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oC(e)}get(e){const t=Up(e);return this._delegate.get(t).then(i=>new gw(this._firestore,new _u(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Up(e);return i?(IN("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Up(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}}class rL{constructor(e){this._delegate=e}set(e,t,i){const r=Up(e);return i?(IN("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Up(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new fw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Bp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Bp(e,new oC(e),t),r.set(t,o)),o}}Bp.INSTANCES=new WeakMap;class ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oC(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ia(t,new Ei(t._delegate,i,new lt(e)))}static forKey(e,t,i){return new ia(t,new Ei(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ly(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ly(this.firestore,xF(this._delegate,e))}catch(t){throw Uo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xt.m9)(e))instanceof Ei&&MF(this._delegate,e)}set(e,t){t=IN("DocumentReference.set",t);try{return t?KF(this._delegate,e,t):KF(this._delegate,e)}catch(i){throw Uo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?YF(this._delegate,e):YF(this._delegate,e,t,...i)}catch(r){throw Uo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function r6(n){return ay(An(n.firestore,Di),[new G_(n._key,ki.none())])}(this._delegate)}onSnapshot(...e){const t=oL(e),i=sL(e,r=>new gw(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JF(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function XH(n){n=An(n,Ei);const e=An(n.firestore,Di),t=fr(e),i=new ih(e);return function fH(n,e){const t=new ur;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(r,o,u){try{const h=yield function(p,y){const w=it(p);return w.persistence.runTransaction("read document","readonly",S=>w.localDocuments.getDocument(S,y))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Re(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=ey(h,`Failed to get document '${o} from cache`);u.reject(p)}}),function(r,o,u){return i.apply(this,arguments)})(yield WT(n),e,t);var i})),t.promise}(t,n._key).then(r=>new _u(e,i,n._key,r,new Lp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function e6(n){n=An(n,Ei);const e=An(n.firestore,Di);return bF(fr(e),n._key,{source:"server"}).then(t=>CN(e,n,t))}(this._delegate):function QH(n){n=An(n,Ei);const e=An(n.firestore,Di);return bF(fr(e),n._key).then(t=>CN(e,n,t))}(this._delegate),t.then(i=>new gw(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}function Uo(n,e,t){return n.message=n.message.replace(e,t),n}function oL(n){for(const e of n)if("object"==typeof e&&!SN(e))return e;return{}}function sL(n,e){var t,i;let r;return r=SN(n[0])?n[0]:SN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class gw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZF(this._delegate,e._delegate)}}class mw extends gw{data(e){const t=this._delegate.data(e);return function QR(n,e){n||mt()}(void 0!==t),t}}class Vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oC(e)}where(e,t,i){try{return new Vo(this.firestore,th(this._delegate,function jH(n,e,t){const i=e,r=eC("where",n);return hw._create(r,i,t)}(e,t,i)))}catch(r){throw Uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vo(this.firestore,th(this._delegate,function $H(n,e="asc"){const t=e,i=eC("orderBy",n);return DN._create(i,t)}(e,t)))}catch(i){throw Uo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vo(this.firestore,th(this._delegate,function HH(n){return IF("limit",n),tC._create("limit",n,"F")}(e)))}catch(t){throw Uo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vo(this.firestore,th(this._delegate,function GH(n){return IF("limitToLast",n),tC._create("limitToLast",n,"L")}(e)))}catch(t){throw Uo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vo(this.firestore,th(this._delegate,function zH(...n){return nC._create("startAt",n,!0)}(...e)))}catch(t){throw Uo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vo(this.firestore,th(this._delegate,function WH(...n){return nC._create("startAfter",n,!1)}(...e)))}catch(t){throw Uo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vo(this.firestore,th(this._delegate,function qH(...n){return iC._create("endBefore",n,!1)}(...e)))}catch(t){throw Uo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vo(this.firestore,th(this._delegate,function ZH(...n){return iC._create("endAt",n,!0)}(...e)))}catch(t){throw Uo(t,"endAt()","Query.endAt()")}}isEqual(e){return mN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function n6(n){n=An(n,ro);const e=An(n.firestore,Di),t=fr(e),i=new ih(e);return function pH(n,e){const t=new ur;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(r,o,u){try{const h=yield FT(r,o,!0),p=new lF(o,h.sr),y=p.nc(h.documents),w=p.applyChanges(y,!1);u.resolve(w.snapshot)}catch(h){const p=ey(h,`Failed to execute query '${o} against cache`);u.reject(p)}}),function(r,o,u){return i.apply(this,arguments)})(yield WT(n),e,t);var i})),t.promise}(t,n._query).then(r=>new nh(e,i,n,r))}(this._delegate):"server"===e?.source?function i6(n){n=An(n,ro);const e=An(n.firestore,Di),t=fr(e),i=new ih(e);return wF(t,n._query,{source:"server"}).then(r=>new nh(e,i,n,r))}(this._delegate):function t6(n){n=An(n,ro);const e=An(n.firestore,Di),t=fr(e),i=new ih(e);return jF(n._query),wF(t,n._query).then(r=>new nh(e,i,n,r))}(this._delegate),t.then(i=>new AN(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=oL(e),i=sL(e,r=>new AN(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JF(this._delegate,t,i)}withConverter(e){return new Vo(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}class A6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new mw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new A6(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new mw(this._firestore,i))})}isEqual(e){return ZF(this._delegate,e._delegate)}}class ly extends Vo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ia(this.firestore,e):null}doc(e){try{return new ia(this.firestore,void 0===e?ZT(this._delegate):ZT(this._delegate,e))}catch(t){throw Uo(t,"doc()","CollectionReference.doc()")}}add(e){return function o6(n,e){const t=An(n.firestore,Di),i=ZT(n),r=rC(n.converter,e);return ay(t,[JT(Pp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ia(this.firestore,t))}isEqual(e){return MF(this._delegate,e._delegate)}withConverter(e){return new ly(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}function Up(n){return An(n,Ei)}class xN{constructor(...e){this._delegate=new mu(...e)}static documentId(){return new xN(Ni.keyField().canonicalString())}isEqual(e){return(e=(0,xt.m9)(e))instanceof mu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function v6(){return new yN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vp(e)}static delete(){const e=function y6(){return new lw("deleteField")}();return e._methodName="FieldValue.delete",new Vp(e)}static arrayUnion(...e){const t=function b6(...n){return new FH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Vp(t)}static arrayRemove(...e){const t=function w6(...n){return new LH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Vp(t)}static increment(e){const t=function E6(n){return new BH("increment",n)}(e);return t._methodName="FieldValue.increment",new Vp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const x6={Firestore:nL,GeoPoint:KT,Timestamp:ii,Blob:pw,Transaction:iL,WriteBatch:rL,DocumentReference:ia,DocumentSnapshot:gw,Query:Vo,QueryDocumentSnapshot:mw,QuerySnapshot:AN,CollectionReference:ly,FieldPath:xN,FieldValue:Vp,setLogLevel:function S6(n){!function JD(n){au.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function N6(n){(function M6(n,e){n.INTERNAL.registerComponent(new xo.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},x6)))})(n,(e,t)=>new nL(e,t,new I6)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(qE.Z);var oi=$(7579),aL=$(6451),Za=$(8421);function Tr(n,e){return(0,tr.e)((t,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,gi.x)(i,p=>{r?.unsubscribe();let y=0;const w=o++;(0,Za.Xf)(n(p,w)).subscribe(r=(0,gi.x)(i,S=>i.next(e?e(p,S,w,y++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}class O6 extends oi.x{constructor(e=1/0,t=1/0,i=qv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;t||(i.push(e),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!e.closed;u+=i?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=u;p+=2)h=p;h&&i.splice(0,h+1)}}}var k6=$(3099);function lL(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,k6.B)({connector:()=>new O6(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const sC=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ac=$(515);function pr(n){return n<=0?()=>ac.E:(0,tr.e)((e,t)=>{let i=0;e.subscribe((0,gi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function aC(n){return(0,tr.e)((e,t)=>{let i=!1;e.subscribe((0,gi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function cL(n=P6){return(0,tr.e)((e,t)=>{let i=!1;e.subscribe((0,gi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function P6(){return new sC}function yu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ai((r,o)=>n(r,o,i)):Pl.y,pr(1),t?aC(e):cL(()=>new sC))}function uL(n,e){return(0,ko.m)(e)?Tr(()=>n,e):Tr(()=>n)}$(9260);const dL=new a.OlP("angularfire2.auth.use-emulator"),hL=new a.OlP("angularfire2.auth.settings"),fL=new a.OlP("angularfire2.auth.tenant-id"),pL=new a.OlP("angularfire2.auth.langugage-code"),gL=new a.OlP("angularfire2.auth.use-device-language"),mL=new a.OlP("angularfire.auth.persistence"),_L=(n,e,t,i,r,o,u,h)=>(0,ts.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),u)for(const[y,w]of Object.entries(u))p.settings[y]=w;return h&&p.setPersistence(h),p},[t,i,r,o,u,h]);let yL=(()=>{class n{constructor(t,i,r,o,u,h,p,y,w,S,P,U){const W=new oi.x,q=Nt(void 0).pipe((0,yd.Q)(u.outsideAngular),Tr(()=>o.runOutsideAngular(()=>Promise.resolve().then($.bind($,9568)))),(0,Rt.U)(()=>(0,ts.on)(t,o,i)),(0,Rt.U)(re=>_L(re,o,h,y,w,S,p,P)),lL({bufferSize:1,refCount:!1}));if(Vs(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Nt(null);else{q.pipe(yu()).subscribe();const we=q.pipe(Tr(ze=>ze.getRedirectResult().then(ot=>ot,()=>null)),Ro,lL({bufferSize:1,refCount:!1})),Ae=q.pipe(Tr(ze=>new Wn.y(ot=>({unsubscribe:o.runOutsideAngular(()=>ze.onAuthStateChanged(dt=>ot.next(dt),dt=>ot.error(dt),()=>ot.complete()))})))),Be=q.pipe(Tr(ze=>new Wn.y(ot=>({unsubscribe:o.runOutsideAngular(()=>ze.onIdTokenChanged(dt=>ot.next(dt),dt=>ot.error(dt),()=>ot.complete()))}))));this.authState=we.pipe(uL(Ae),(0,Lf.R)(u.outsideAngular),(0,yd.Q)(u.insideAngular)),this.user=we.pipe(uL(Be),(0,Lf.R)(u.outsideAngular),(0,yd.Q)(u.insideAngular)),this.idToken=this.user.pipe(Tr(ze=>ze?(0,ti.D)(ze.getIdToken()):Nt(null))),this.idTokenResult=this.user.pipe(Tr(ze=>ze?(0,ti.D)(ze.getIdTokenResult()):Nt(null))),this.credential=(0,aL.T)(we,W,this.authState.pipe(Ai(ze=>!ze))).pipe((0,Rt.U)(ze=>ze?.user?ze:null),(0,Lf.R)(u.outsideAngular),(0,yd.Q)(u.insideAngular))}return(0,ts.pX)(this,q,o,{spy:{apply:(re,we,Ae)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Ae.then(Be=>W.next(Be))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ts.Dh),a.LFG(ts.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ll),a.LFG(dL,8),a.LFG(hL,8),a.LFG(fL,8),a.LFG(pL,8),a.LFG(gL,8),a.LFG(mL,8),a.LFG(Xf,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vL(n,e){return function L6(n,e=Ff){return new Wn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function MN(n,e){return vL(n,e).pipe((0,Rt.U)(t=>({payload:t,type:"query"})))}function lC(n,e){return MN(n,e).pipe($l(void 0),Hl(),(0,Rt.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const p=r.find(w=>w.doc.ref.isEqual(u.ref)),y=t?.payload.docs.find(w=>w.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function bL(n,e,t){return lC(n,t).pipe(Gl((i,r)=>function U6(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function V6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return NN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return NN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return NN(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),ni(),(0,Rt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function NN(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function wL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class EL{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=lC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Rt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe($l(void 0),Hl(),Ai(([i,r])=>r.length>0||!i),(0,Rt.U)(([i,r])=>r),Ro)}auditTrail(e){return this.stateChanges(e).pipe(Gl((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=wL(e);return bL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ro)}valueChanges(e={}){return MN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ro)}get(e){return(0,ti.D)(this.query.get(e)).pipe(Ro)}add(e){return this.ref.add(e)}doc(e){return new DL(this.ref.doc(e),this.afs)}}class DL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=TL(i,t);return new EL(r,o,this.afs)}snapshotChanges(){return function B6(n,e){return vL(n,e).pipe($l(void 0),Hl(),(0,Rt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ro)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ti.D)(this.ref.get(e)).pipe(Ro)}}class j6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ai(t=>t.length>0),Ro):lC(this.query,this.afs.schedulers.outsideAngular).pipe(Ro)}auditTrail(e){return this.stateChanges(e).pipe(Gl((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=wL(e);return bL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ro)}valueChanges(e={}){return MN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Ro)}get(e){return(0,ti.D)(this.query.get(e)).pipe(Ro)}}const $6=new a.OlP("angularfire2.enableFirestorePersistence"),H6=new a.OlP("angularfire2.firestore.persistenceSettings"),G6=new a.OlP("angularfire2.firestore.settings"),z6=new a.OlP("angularfire2.firestore.use-emulator");function TL(n,e=(t=>t)){return{query:e(n),ref:n}}let W6=(()=>{class n{constructor(t,i,r,o,u,h,p,y,w,S,P,U,W,q,re,we,Ae){this.schedulers=p;const Be=(0,ts.on)(t,h,i),ze=w;S&&_L(Be,h,P,W,q,re,U,we),[this.firestore,this.persistenceEnabled$]=(0,ts.cc)(`${Be.name}.firestore`,"AngularFirestore",Be.name,()=>{const ot=h.runOutsideAngular(()=>Be.firestore());if(o&&ot.settings(o),ze&&ot.useEmulator(...ze),r&&!Vs(u)){const dt=()=>{try{return(0,ti.D)(ot.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Bt){return typeof console<"u"&&console.warn(Bt),Nt(!1)}};return[ot,h.runOutsideAngular(dt)]}return[ot,Nt(!1)]},[o,ze,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=TL(r,i),h=this.schedulers.ngZone.run(()=>o);return new EL(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),o=this.firestore.collectionGroup(t);return new j6(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new DL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ts.Dh),a.LFG(ts.xv,8),a.LFG($6,8),a.LFG(G6,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ll),a.LFG(H6,8),a.LFG(z6,8),a.LFG(yL,8),a.LFG(dL,8),a.LFG(hL,8),a.LFG(fL,8),a.LFG(pL,8),a.LFG(gL,8),a.LFG(mL,8),a.LFG(Xf,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),CL=(()=>{class n{constructor(t){this.aFirestore=t}guardarUsuario(t){this.aFirestore.collection("usuarios");const r=this.aFirestore.doc("usuarios/"+this.aFirestore.createId());r.set({id:r.ref.id,nombre:t.nombre,email:t.email})}traerUsuarios(){var t=this;return(0,X.Z)(function*(){t.usercol=t.aFirestore.collection("usuarios"),t.usercol.valueChanges().subscribe(i=>(t.usercol=i,i))})()}existeUsuario(t){return(0,X.Z)(function*(){})()}getNombre(t){var i=this;return(0,X.Z)(function*(){let r="";for(let o=0;o<i.usercol.length;o++)if(i.usercol[o].email==t){r=i.usercol[o].nombre,i.guardarLog(r);break}return r})()}guardarLog(t){this.aFirestore.collection("userLog");const r=this.aFirestore.doc("userLog/"+this.aFirestore.createId()),o=(new Date).toString(),u=new Date;console.log(o),r.set({id:r.ref.id,nombre:t,hora:o,stamp:u})}traerLog(){var t=this;return(0,X.Z)(function*(){t.usercol=t.aFirestore.collection("userLog"),t.usercol.valueChanges().subscribe(i=>(t.logcol=i,i))})()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(W6))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ON=(()=>{class n{constructor(t,i){this.auth=t,this.fdb=i,this.usuarioActivo="Sala de Juegos",this.isLogged=!1,this.fdb.traerUsuarios()}loginService(t,i){var r=this;return(0,X.Z)(function*(){try{const o=yield HE(r.auth,t,i);return console.log("yay"),r.loggedUser=o,r.nombreUser(t),!0}catch{return console.log("nay"),!1}})()}nombreUser(t){var i=this;return(0,X.Z)(function*(){try{const r=yield i.fdb.getNombre(t);return i.usuarioActivo=r,localStorage.setItem("nombre",r),console.log("nombre yay",i.usuarioActivo),!0}catch{return console.log("nombre nay"),!1}})()}logout(){return this.usuarioActivo="Sala de Juegos",GE(this.auth)}registrarUser(t){var i=this;return(0,X.Z)(function*(){try{return yield yb(i.auth,t.email,t.password),i.fdb.guardarUsuario(t),console.log("yay reg"),!0}catch(r){return i.error=r,console.log("nay reg"),!1}})()}reloadNom(){this.usuarioActivo=localStorage.getItem("nombre")}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(tp),a.LFG(CL))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fr extends oi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:q6}=Array,{getPrototypeOf:Z6,prototype:K6,keys:Y6}=Object;function IL(n){if(1===n.length){const e=n[0];if(q6(e))return{args:e,keys:null};if(function J6(n){return n&&"object"==typeof n&&Z6(n)===K6}(e)){const t=Y6(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Q6}=Array;function kN(n){return(0,Rt.U)(e=>function X6(n,e){return Q6(e)?n(...e):n(e)}(n,e))}function SL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var eG=$(9672);function _w(...n){const e=(0,$a.yG)(n),t=(0,$a.jO)(n),{args:i,keys:r}=IL(n);if(0===i.length)return(0,ti.D)([],e);const o=new Wn.y(function tG(n,e,t=Pl.y){return i=>{AL(e,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)AL(e,()=>{const y=(0,ti.D)(n[p],e);let w=!1;y.subscribe((0,gi.x)(i,S=>{o[p]=S,w||(w=!0,h--),h||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>SL(r,u):Pl.y));return t?o.pipe(kN(t)):o}function AL(n,e,t){n?(0,eG.f)(t,n,e):e()}function xL(n){return new Wn.y(e=>{(0,Za.Xf)(n()).subscribe(e)})}var nG=$(9635);function yw(n,e){const t=(0,ko.m)(n)?n:()=>n,i=r=>r.error(t());return new Wn.y(e?r=>e.schedule(i,0,r):i)}function RN(){return(0,tr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,gi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class ML extends Wn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,tr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rf.w0.EMPTY)}return e}refCount(){return RN()(this)}}var oo=$(5577);function jp(n,e){return(0,ko.m)(e)?(0,oo.z)(n,e,1):(0,oo.z)(n,1)}function oh(n){return(0,tr.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,gi.x)(t,void 0,void 0,u=>{o=(0,Za.Xf)(n(u,oh(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function PN(n){return n<=0?()=>ac.E:(0,tr.e)((e,t)=>{let i=[];e.subscribe((0,gi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function NL(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ai((r,o)=>n(r,o,i)):Pl.y,PN(1),t?aC(e):cL(()=>new sC))}function FN(n){return(0,tr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const _n="primary",vw=Symbol("RouteTitle");class rG{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cy(n){return new rG(n)}function oG(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function lc(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!kL(n[r],e[r]))return!1;return!0}function kL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function RL(n){return Array.prototype.concat.apply([],n)}function PL(n){return n.length>0?n[n.length-1]:null}function so(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function sh(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,ti.D)(Promise.resolve(n)):Nt(n)}const cC=!1,aG={exact:function BL(n,e,t){if(!$p(n.segments,e.segments)||!uC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!BL(n.children[i],e.children[i],t))return!1;return!0},subset:UL},FL={exact:function lG(n,e){return lc(n,e)},subset:function cG(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kL(n[t],e[t]))},ignored:()=>!0};function LL(n,e,t){return aG[t.paths](n.root,e.root,t.matrixParams)&&FL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function UL(n,e,t){return VL(n,e,e.segments,t)}function VL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!$p(r,t)||e.hasChildren()||!uC(r,t,i))}if(n.segments.length===t.length){if(!$p(n.segments,t)||!uC(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!UL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!($p(n.segments,r)&&uC(n.segments,r,i)&&n.children[_n])&&VL(n.children[_n],e,o,i)}}function uC(n,e,t){return e.every((i,r)=>FL[t](n[r].parameters,i.parameters))}class ah{constructor(e=new Dn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cy(this.queryParams)),this._queryParamMap}toString(){return hG.serialize(this)}}class Dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,so(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dC(this)}}class bw{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cy(this.parameters)),this._parameterMap}toString(){return HL(this)}}function $p(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ww=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new LN},providedIn:"root"}),n})();class LN{parse(e){const t=new wG(e);return new ah(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ew(e.root,!0)}`,i=function gG(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${hC(t)}=${hC(r)}`).join("&"):`${hC(t)}=${hC(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function fG(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const hG=new LN;function dC(n){return n.segments.map(e=>HL(e)).join("/")}function Ew(n,e){if(!n.hasChildren())return dC(n);if(e){const t=n.children[_n]?Ew(n.children[_n],!1):"",i=[];return so(n.children,(r,o)=>{o!==_n&&i.push(`${o}:${Ew(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function dG(n,e){let t=[];return so(n.children,(i,r)=>{r===_n&&(t=t.concat(e(i,r)))}),so(n.children,(i,r)=>{r!==_n&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===_n?[Ew(n.children[_n],!1)]:[`${r}:${Ew(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_n]?`${dC(n)}/${t[0]}`:`${dC(n)}/(${t.join("//")})`}}function jL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hC(n){return jL(n).replace(/%3B/gi,";")}function BN(n){return jL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fC(n){return decodeURIComponent(n)}function $L(n){return fC(n.replace(/\+/g,"%20"))}function HL(n){return`${BN(n.path)}${function pG(n){return Object.keys(n).map(e=>`;${BN(e)}=${BN(n[e])}`).join("")}(n.parameters)}`}const mG=/^[^\/()?;=#]+/;function pC(n){const e=n.match(mG);return e?e[0]:""}const _G=/^[^=?&#]+/,vG=/^[^&#]+/;class wG{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[_n]=new Dn(e,t)),i}parseSegment(){const e=pC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,cC);return this.capture(e),new bw(fC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=pC(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=pC(this.remaining);r&&(i=r,this.capture(i))}e[fC(t)]=fC(i)}parseQueryParam(e){const t=function yG(n){const e=n.match(_G);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function bG(n){const e=n.match(vG);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=$L(t),o=$L(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,cC);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_n);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[_n]:new Dn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,cC)}}function UN(n){return n.segments.length>0?new Dn([],{[_n]:n}):n}function gC(n){const e={};for(const i of Object.keys(n.children)){const o=gC(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function EG(n){if(1===n.numberOfChildren&&n.children[_n]){const e=n.children[_n];return new Dn(n.segments.concat(e.segments),e.children)}return n}(new Dn(n.segments,e))}function Hp(n){return n instanceof ah}const VN=!1;function DG(n,e,t,i,r){if(0===t.length)return uy(e.root,e.root,e.root,i,r);const o=function ZL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return so(o.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new qL(t,e,i)}(t);return o.toRoot()?uy(e.root,e.root,new Dn([],{}),i,r):function u(p){const y=function CG(n,e,t,i){if(n.isAbsolute)return new dy(e.root,!0,0);if(-1===i)return new dy(t,t===e.root,0);return function KL(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new a.vHH(4005,VN&&"Invalid number of '../'");r=i.segments.length}return new dy(i,!1,r-o)}(t,i+(Dw(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,p),w=y.processChildren?hy(y.segmentGroup,y.index,o.commands):jN(y.segmentGroup,y.index,o.commands);return uy(e.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function Dw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tw(n){return"object"==typeof n&&null!=n&&n.outlets}function uy(n,e,t,i,r){let u,o={};i&&so(i,(p,y)=>{o[y]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),u=n===e?t:WL(n,e,t);const h=UN(gC(u));return new ah(h,o,r)}function WL(n,e,t){const i={};return so(n.children,(r,o)=>{i[o]=r===e?t:WL(r,e,t)}),new Dn(n.segments,i)}class qL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Dw(i[0]))throw new a.vHH(4003,VN&&"Root segment cannot have matrix parameters");const r=i.find(Tw);if(r&&r!==PL(i))throw new a.vHH(4004,VN&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function jN(n,e,t){if(n||(n=new Dn([],{})),0===n.segments.length&&n.hasChildren())return hy(n,e,t);const i=function SG(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const u=n.segments[r],h=t[i];if(Tw(h))break;const p=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!JL(p,y,u))return o;i+=2}else{if(!JL(p,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Dn(n.segments.slice(0,i.pathIndex),{});return o.children[_n]=new Dn(n.segments.slice(i.pathIndex),n.children),hy(o,0,r)}return i.match&&0===r.length?new Dn(n.segments,{}):i.match&&!n.hasChildren()?$N(n,e,t):i.match?hy(n,0,r):$N(n,e,t)}function hy(n,e,t){if(0===t.length)return new Dn(n.segments,{});{const i=function IG(n){return Tw(n[0])?n[0].outlets:{[_n]:n}}(t),r={};if(!i[_n]&&n.children[_n]&&1===n.numberOfChildren&&0===n.children[_n].segments.length){const o=hy(n.children[_n],e,t);return new Dn(n.segments,o.children)}return so(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=jN(n.children[u],e,o))}),so(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Dn(n.segments,r)}}function $N(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Tw(o)){const p=AG(o.outlets);return new Dn(i,p)}if(0===r&&Dw(t[0])){i.push(new bw(n.segments[e].path,YL(t[0]))),r++;continue}const u=Tw(o)?o.outlets[_n]:`${o}`,h=r<t.length-1?t[r+1]:null;u&&h&&Dw(h)?(i.push(new bw(u,YL(h))),r+=2):(i.push(new bw(u,{})),r++)}return new Dn(i,{})}function AG(n){const e={};return so(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=$N(new Dn([],{}),0,t))}),e}function YL(n){const e={};return so(n,(t,i)=>e[i]=`${t}`),e}function JL(n,e,t){return n==t.path&&lc(e,t.parameters)}const Cw="imperative";class cc{constructor(e,t){this.id=e,this.url=t}}class HN extends cc{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gp extends cc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mC extends cc{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _C extends cc{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class GN extends cc{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xG extends cc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MG extends cc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NG extends cc{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OG extends cc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kG extends cc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RG{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class PG{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FG{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LG{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BG{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UG{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QL{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $G=(()=>{class n{createUrlTree(t,i,r,o,u,h){return DG(t||i.root,r,o,u,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),GG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){return $G.\u0275fac(e)},providedIn:"root"}),n})();class XL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zN(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=zN(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=WN(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return WN(e,this._root).map(t=>t.value)}}function zN(n,e){if(n===e.value)return e;for(const t of e.children){const i=zN(n,t);if(i)return i}return null}function WN(n,e){if(n===e.value)return[e];for(const t of e.children){const i=WN(n,t);if(i.length)return i.unshift(e),i}return[]}class vu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eB extends XL{constructor(e,t){super(e),this.snapshot=t,qN(this,e)}toString(){return this.snapshot.toString()}}function tB(n,e){const t=function zG(n,e){const u=new yC([],{},{},"",{},_n,e,null,n.root,-1,{});return new iB("",new vu(u,[]))}(n,e),i=new Fr([new bw("",{})]),r=new Fr({}),o=new Fr({}),u=new Fr({}),h=new Fr(""),p=new py(i,r,u,h,o,_n,e,t.root);return p.snapshot=t.root,new eB(new vu(p,[]),t)}class py{constructor(e,t,i,r,o,u,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,Rt.U)(y=>y[vw]))??Nt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(e=>cy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(e=>cy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nB(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function WG(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class yC{get title(){return this.data?.[vw]}constructor(e,t,i,r,o,u,h,p,y,w,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=w,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iB extends XL{constructor(e,t){super(t),this.url=e,qN(this,t)}toString(){return rB(this._root)}}function qN(n,e){e.value._routerState=n,e.children.forEach(t=>qN(n,t))}function rB(n){const e=n.children.length>0?` { ${n.children.map(rB).join(", ")} } `:"";return`${n.value}${e}`}function ZN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,lc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),lc(e.params,t.params)||n.params.next(t.params),function sG(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!lc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),lc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function KN(n,e){const t=lc(n.params,e.params)&&function uG(n,e){return $p(n,e)&&n.every((t,i)=>lc(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||KN(n.parent,e.parent))}function Iw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ZG(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Iw(n,i,r);return Iw(n,i)})}(n,e,t);return new vu(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Iw(n,h)),u}}const i=function KG(n){return new py(new Fr(n.url),new Fr(n.params),new Fr(n.queryParams),new Fr(n.fragment),new Fr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Iw(n,o));return new vu(i,r)}}const YN="ngNavigationCancelingError";function oB(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Hp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=sB(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function sB(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[YN]=!0,i.cancellationCode=e,t&&(i.url=t),i}function aB(n){return lB(n)&&Hp(n.url)}function lB(n){return n&&n[YN]}class YG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Sw,this.attachRef=null}}let Sw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new YG,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vC=!1;let JN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_n,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Sw),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,vC);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,vC);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,vC);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,vC);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new JG(t,h,r.injector);if(i&&function QG(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(u,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class JG{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===py?this.route:e===Sw?this.childContexts:this.parent.get(e,t)}}let QN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},dependencies:[JN],encapsulation:2}),n})();function cB(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function eO(n){const e=n.children&&n.children.map(eO),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_n&&(t.component=QN),t}function ra(n){return n.outlet||_n}function uB(n,e){const t=n.filter(i=>ra(i)===e);return t.push(...n.filter(i=>ra(i)!==e)),t}function Aw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class i5{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ZN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=fy(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),so(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=fy(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=fy(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=fy(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new UG(o.value.snapshot))}),e.children.length&&this.forwardEvent(new LG(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(ZN(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),ZN(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=Aw(r.snapshot),p=h?.get(a._Vd)??null;u.attachRef=null,u.route=r,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class dB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bC{constructor(e,t){this.component=e,this.route=t}}function r5(n,e,t){const i=n._root;return xw(i,e?e._root:null,t,[i.value])}function gy(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function xw(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=fy(e);return n.children.forEach(u=>{(function s5(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const p=function a5(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$p(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$p(n.url,e.url)||!lc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KN(n,e)||!lc(n.queryParams,e.queryParams);default:return!KN(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new dB(i)):(o.data=u.data,o._resolvedData=u._resolvedData),xw(n,e,o.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new bC(h.outlet.component,u))}else u&&Mw(e,h,r),r.canActivateChecks.push(new dB(i)),xw(n,null,o.component?h?h.children:null:t,i,r)})(u,o[u.value.outlet],t,i.concat([u.value]),r),delete o[u.value.outlet]}),so(o,(u,h)=>Mw(u,t.getContext(h),r)),r}function Mw(n,e,t){const i=fy(n),r=n.value;so(i,(o,u)=>{Mw(o,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new bC(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Nw(n){return"function"==typeof n}function tO(n){return n instanceof sC||"EmptyError"===n?.name}const wC=Symbol("INITIAL_VALUE");function my(){return Tr(n=>_w(n.map(e=>e.pipe(pr(1),$l(wC)))).pipe((0,Rt.U)(e=>{for(const t of e)if(!0!==t){if(t===wC)return wC;if(!1===t||t instanceof ah)return t}return!0}),Ai(e=>e!==wC),pr(1)))}function hB(n){return(0,nG.z)(ar(e=>{if(Hp(e))throw oB(0,e)}),(0,Rt.U)(e=>!0===e))}const nO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fB(n,e,t,i,r){const o=iO(n,e,t);return o.matched?function T5(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Nt(r.map(u=>{const h=gy(u,n);return sh(function f5(n){return n&&Nw(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(my(),hB()):Nt(!0)}(i=cB(e,i),e,t).pipe((0,Rt.U)(u=>!0===u?o:{...nO})):Nt(o)}function iO(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...nO}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||oG)(t,n,e);if(!r)return{...nO};const o={};so(r.posParams,(h,p)=>{o[p]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function EC(n,e,t,i){if(t.length>0&&function S5(n,e,t){return t.some(i=>DC(n,e,i)&&ra(i)!==_n)}(n,t,i)){const o=new Dn(e,function I5(n,e,t,i){const r={};r[_n]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&ra(o)!==_n){const u=new Dn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[ra(o)]=u}return r}(n,e,i,new Dn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function A5(n,e,t){return t.some(i=>DC(n,e,i))}(n,t,i)){const o=new Dn(n.segments,function C5(n,e,t,i,r){const o={};for(const u of i)if(DC(n,t,u)&&!r[ra(u)]){const h=new Dn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[ra(u)]=h}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new Dn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function DC(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function pB(n,e,t,i){return!!(ra(n)===i||i!==_n&&DC(e,t,n))&&("**"===n.path||iO(e,n,t).matched)}function gB(n,e,t){return 0===e.length&&!n.children[t]}const TC=!1;class CC{constructor(e){this.segmentGroup=e||null}}class mB{constructor(e){this.urlTree=e}}function Ow(n){return yw(new CC(n))}function _B(n){return yw(new mB(n))}function x5(n){return yw(new a.vHH(4e3,TC&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class O5{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=EC(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,_n).pipe((0,Rt.U)(o=>this.createUrlTree(gC(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oh(o=>{if(o instanceof mB)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof CC?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,_n).pipe((0,Rt.U)(r=>this.createUrlTree(gC(r),e.queryParams,e.fragment))).pipe(oh(r=>{throw r instanceof CC?this.noMatchError(r):r}))}noMatchError(e){return new a.vHH(4002,TC&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=UN(e);return new ah(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Rt.U)(o=>new Dn([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,ti.D)(r).pipe(jp(o=>{const u=i.children[o],h=uB(t,o);return this.expandSegmentGroup(e,h,u,o).pipe((0,Rt.U)(p=>({segment:p,outlet:o})))}),Gl((o,u)=>(o[u.outlet]=u.segment,o),{}),NL())}expandSegment(e,t,i,r,o,u){return(0,ti.D)(i).pipe(jp(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,o,u).pipe(oh(y=>{if(y instanceof CC)return Nt(null);throw y}))),yu(h=>!!h),oh((h,p)=>{if(tO(h))return gB(t,r,o)?Nt(new Dn([],{})):Ow(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,o,u,h){return pB(r,t,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u):Ow(t):Ow(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_B(o):this.lineralizeSegments(i,o).pipe((0,oo.z)(u=>{const h=new Dn(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=iO(t,r,o);if(!h)return Ow(t);const S=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?_B(S):this.lineralizeSegments(r,S).pipe((0,oo.z)(P=>this.expandSegment(e,t,i,P.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=cB(i,e),i.loadChildren?(i._loadedRoutes?Nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Rt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Dn(r,{})))):Nt(new Dn(r,{}))):fB(t,i,r,e).pipe(Tr(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,oo.z)(w=>{const S=w.injector??e,P=w.routes,{segmentGroup:U,slicedSegments:W}=EC(t,h,p,P),q=new Dn(U.segments,U.children);if(0===W.length&&q.hasChildren())return this.expandChildren(S,P,q).pipe((0,Rt.U)(Be=>new Dn(h,Be)));if(0===P.length&&0===W.length)return Nt(new Dn(h,{}));const re=ra(i)===o;return this.expandSegment(S,q,P,W,re?_n:o,!0).pipe((0,Rt.U)(Ae=>new Dn(h.concat(Ae.segments),Ae.children)))})):Ow(t)))}getChildConfig(e,t,i){return t.children?Nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function D5(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Nt(!0):Nt(r.map(u=>{const h=gy(u,n);return sh(function c5(n){return n&&Nw(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(my(),hB())}(e,t,i).pipe((0,oo.z)(r=>r?this.configLoader.loadChildren(e,t).pipe(ar(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function M5(n){return yw(sB(TC&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):Nt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Nt(i);if(r.numberOfChildren>1||!r.children[_n])return x5(e.redirectTo);r=r.children[_n]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new ah(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return so(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let u={};return so(t.children,(h,p)=>{u[p]=this.createSegmentGroup(e,h,i,r)}),new Dn(o,u)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,TC&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class R5{}class L5{constructor(e,t,i,r,o,u,h){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const e=EC(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,_n).pipe((0,Rt.U)(t=>{if(null===t)return null;const i=new yC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vu(i,t),o=new iB(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=nB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,ti.D)(Object.keys(i.children)).pipe(jp(r=>{const o=i.children[r],u=uB(t,r);return this.processSegmentGroup(e,u,o,r)}),Gl((r,o)=>r&&o?(r.push(...o),r):null),function iG(n,e=!1){return(0,tr.e)((t,i)=>{let r=0;t.subscribe((0,gi.x)(i,o=>{const u=n(o,r++);(u||e)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),aC(null),NL(),(0,Rt.U)(r=>{if(null===r)return null;const o=vB(r);return function B5(n){n.sort((e,t)=>e.value.outlet===_n?-1:t.value.outlet===_n?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,ti.D)(t).pipe(jp(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,o)),yu(u=>!!u),oh(u=>{if(tO(u))return gB(i,r,o)?Nt([]):Nt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!pB(t,i,r,o))return Nt(null);let u;if("**"===t.path){const h=r.length>0?PL(r).parameters:{},p=wB(i)+r.length;u=Nt({snapshot:new yC(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EB(t),ra(t),t.component??t._loadedComponent??null,t,bB(i),p,DB(t)),consumedSegments:[],remainingSegments:[]})}else u=fB(i,t,r,e).pipe((0,Rt.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:w})=>{if(!h)return null;const S=wB(i)+p.length;return{snapshot:new yC(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EB(t),ra(t),t.component??t._loadedComponent??null,t,bB(i),S,DB(t)),consumedSegments:p,remainingSegments:y}}));return u.pipe(Tr(h=>{if(null===h)return Nt(null);const{snapshot:p,consumedSegments:y,remainingSegments:w}=h;e=t._injector??e;const S=t._loadedInjector??e,P=function U5(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:W}=EC(i,y,w,P.filter(re=>void 0===re.redirectTo));if(0===W.length&&U.hasChildren())return this.processChildren(S,P,U).pipe((0,Rt.U)(re=>null===re?null:[new vu(p,re)]));if(0===P.length&&0===W.length)return Nt([new vu(p,[])]);const q=ra(t)===o;return this.processSegment(S,P,U,W,q?_n:o).pipe((0,Rt.U)(re=>null===re?null:[new vu(p,re)]))}))}}function V5(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vB(n){const e=[],t=new Set;for(const i of n){if(!V5(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=vB(i.children);e.push(new vu(i.value,r))}return e.filter(i=>!t.has(i))}function bB(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wB(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function EB(n){return n.data||{}}function DB(n){return n.resolve||{}}function H5(n,e){return(0,oo.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Nt(t);let o=0;return(0,ti.D)(r).pipe(jp(u=>function G5(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!TB(r)&&(o[vw]=r.title),function z5(n,e,t,i){const r=function W5(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Nt({});const o={};return(0,ti.D)(r).pipe((0,oo.z)(u=>function q5(n,e,t,i){const r=Aw(e)??i,o=gy(n,r);return sh(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[u],e,t,i).pipe(yu(),ar(h=>{o[u]=h}))),PN(1),function OL(n){return(0,Rt.U)(()=>n)}(o),oh(u=>tO(u)?ac.E:yw(u)))}(o,n,e,i).pipe((0,Rt.U)(u=>(n._resolvedData=u,n.data=nB(n,t).resolve,r&&TB(r)&&(n.data[vw]=r.title),null)))}(u.route,i,n,e)),ar(()=>o++),PN(1),(0,oo.z)(u=>o===r.length?Nt(t):ac.E))})}function TB(n){return"string"==typeof n.title||null===n.title}function rO(n){return Tr(e=>{const t=n(e);return t?(0,ti.D)(t).pipe((0,Rt.U)(()=>e)):Nt(e)})}const _y=new a.OlP("ROUTES");let oO=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=sh(t.loadComponent()).pipe((0,Rt.U)(IB),ar(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),FN(()=>{this.componentLoaders.delete(t)})),r=new ML(i,()=>new oi.x).pipe(RN());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Rt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,w=!1;Array.isArray(h)?y=h:(p=h.create(t).injector,y=RL(p.get(_y,[],a.XFs.Self|a.XFs.Optional)));return{routes:y.map(eO),injector:p}}),FN(()=>{this.childrenLoaders.delete(i)})),u=new ML(o,()=>new oi.x).pipe(RN());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return sh(t()).pipe((0,Rt.U)(IB),(0,oo.z)(i=>i instanceof a.YKP||Array.isArray(i)?Nt(i):(0,ti.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IB(n){return function Z5(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let SC=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new oi.x,this.configLoader=(0,a.f3M)(oO),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(ww),this.rootContexts=(0,a.f3M)(Sw),this.navigationId=0,this.afterPreactivation=()=>Nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new PG(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new RG(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Fr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cw,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(i=>0!==i.id),(0,Rt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Tr(i=>{let r=!1,o=!1;return Nt(i).pipe(ar(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tr(u=>{const h=t.browserUrlTree.toString(),p=!t.navigated||u.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!p&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const w="";return this.events.next(new _C(u.id,t.serializeUrl(i.rawUrl),w,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),ac.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return SB(u.source)&&(t.browserUrlTree=u.extractedUrl),Nt(u).pipe(Tr(w=>{const S=this.transitions?.getValue();return this.events.next(new HN(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),S!==this.transitions?.getValue()?ac.E:Promise.resolve(w)}),function k5(n,e,t,i){return Tr(r=>function N5(n,e,t,i,r){return new O5(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Rt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),ar(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},i.urlAfterRedirects=w.urlAfterRedirects}),function $5(n,e,t,i,r){return(0,oo.z)(o=>function F5(n,e,t,i,r,o,u="emptyOnly"){return new L5(n,e,t,i,r,u,o).recognize().pipe(Tr(h=>null===h?function P5(n){return new Wn.y(e=>e.error(n))}(new R5):Nt(h)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,Rt.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ar(w=>{if(i.targetSnapshot=w.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!w.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);t.setBrowserUrl(P,w)}t.browserUrlTree=w.urlAfterRedirects}const S=new xG(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:w,extractedUrl:S,source:P,restoredState:U,extras:W}=u,q=new HN(w,this.urlSerializer.serialize(S),P,U);this.events.next(q);const re=tB(S,this.rootComponentType).snapshot;return Nt(i={...u,targetSnapshot:re,urlAfterRedirects:S,extras:{...W,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new _C(u.id,t.serializeUrl(i.extractedUrl),w,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),ac.E}}),ar(u=>{const h=new MG(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,Rt.U)(u=>i={...u,guards:r5(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function g5(n,e){return(0,oo.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?Nt({...t,guardsResult:!0}):function m5(n,e,t,i){return(0,ti.D)(n).pipe((0,oo.z)(r=>function E5(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Nt(o.map(h=>{const p=Aw(e)??r,y=gy(h,p);return sh(function h5(n){return n&&Nw(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):p.runInContext(()=>y(n,e,t,i))).pipe(yu())})).pipe(my()):Nt(!0)}(r.component,r.route,t,e,i)),yu(r=>!0!==r,!0))}(u,i,r,n).pipe((0,oo.z)(h=>h&&function l5(n){return"boolean"==typeof n}(h)?function _5(n,e,t,i){return(0,ti.D)(e).pipe(jp(r=>Nd(function v5(n,e){return null!==n&&e&&e(new FG(n)),Nt(!0)}(r.route.parent,i),function y5(n,e){return null!==n&&e&&e(new BG(n)),Nt(!0)}(r.route,i),function w5(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function o5(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>xL(()=>Nt(u.guards.map(p=>{const y=Aw(u.node)??t,w=gy(p,y);return sh(function d5(n){return n&&Nw(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(yu())})).pipe(my())));return Nt(o).pipe(my())}(n,r.path,t),function b5(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Nt(!0);const r=i.map(o=>xL(()=>{const u=Aw(e)??t,h=gy(o,u);return sh(function u5(n){return n&&Nw(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(yu())}));return Nt(r).pipe(my())}(n,r.route,t))),yu(r=>!0!==r,!0))}(i,o,n,e):Nt(h)),(0,Rt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),ar(u=>{if(i.guardsResult=u.guardsResult,Hp(u.guardsResult))throw oB(0,u.guardsResult);const h=new NG(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Ai(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),rO(u=>{if(u.guards.canActivateChecks.length)return Nt(u).pipe(ar(h=>{const p=new OG(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Tr(h=>{let p=!1;return Nt(h).pipe(H5(t.paramsInheritanceStrategy,this.environmentInjector),ar({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),ar(h=>{const p=new kG(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),rO(u=>{const h=p=>{const y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(ar(w=>{p.component=w}),(0,Rt.U)(()=>{})));for(const w of p.children)y.push(...h(w));return y};return _w(h(u.targetSnapshot.root)).pipe(aC(),pr(1))}),rO(()=>this.afterPreactivation()),(0,Rt.U)(u=>{const h=function qG(n,e,t){const i=Iw(n,e._root,t?t._root:void 0);return new eB(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),ar(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Rt.U)(i=>(new i5(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),pr(1),ar({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Gp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),FN(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),oh(u=>{if(o=!0,lB(u)){aB(u)||(t.navigated=!0,t.restoreHistory(i,!0));const h=new mC(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),aB(u)){const p=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||SB(i.source)};t.scheduleNavigation(p,Cw,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const h=new GN(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(t.errorHandler(u))}catch(p){i.reject(p)}}return ac.E}))}))}cancelNavigationTransition(t,i,r){const o=new mC(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SB(n){return n!==Cw}let AB=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===_n);return i}getResolvedTitleForRoute(t){return t.data[vw]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(K5)},providedIn:"root"}),n})(),K5=(()=>{class n extends AB{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hy))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Q5)},providedIn:"root"}),n})();class J5{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Q5=(()=>{class n extends J5{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AC=new a.OlP("",{providedIn:"root",factory:()=>({})});let ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(tz)},providedIn:"root"}),n})(),tz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nz(n){throw n}function iz(n,e,t){return e.parse("/")}const rz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Eo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(AC,{optional:!0})||{},this.errorHandler=this.options.errorHandler||nz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(ez),this.routeReuseStrategy=(0,a.f3M)(Y5),this.urlCreationStrategy=(0,a.f3M)(GG),this.titleStrategy=(0,a.f3M)(AB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=RL((0,a.f3M)(_y,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(SC),this.urlSerializer=(0,a.f3M)(ww),this.location=(0,a.f3M)(qe),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ah,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tB(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cw,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(eO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,y=p?this.currentUrlTree.fragment:u;let w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...o};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,w,y??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Hp(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Cw,null,i)}navigate(t,i={skipLocationChange:!1}){return function sz(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...rz}:!1===i?{...oz}:i,Hp(t))return LL(this.currentUrlTree,t,r);const o=this.parseUrl(t);return LL(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,p,y,w;return u?(h=u.resolve,p=u.reject,y=u.promise):y=new Promise((S,P)=>{h=S,p=P}),w="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(S=>Promise.reject(S))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xB{}let cz=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof Gp),jp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,a.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,h=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,ti.D)(r).pipe((0,Lt.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Nt(null);const o=r.pipe((0,oo.z)(u=>null===u?Nt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,ti.D)([o,u]).pipe((0,Lt.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Eo),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(xB),a.LFG(oO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lO=new a.OlP("");let MB=(()=>{class n{constructor(t,i,r,o,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof HN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof QL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var As=(()=>((As=As||{})[As.COMPLETE=0]="COMPLETE",As[As.FAILED=1]="FAILED",As[As.REDIRECTING=2]="REDIRECTING",As))();const yy=!1;function lh(n,e){return{\u0275kind:n,\u0275providers:e}}const cO=new a.OlP("",{providedIn:"root",factory:()=>!1});function OB(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(Eo),r=n.get(kB);1===n.get(uO)&&i.initialNavigation(),n.get(RB,null,a.XFs.Optional)?.setUpPreloading(),n.get(lO,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const kB=new a.OlP(yy?"bootstrap done indicator":"",{factory:()=>new oi.x}),uO=new a.OlP(yy?"initial navigation":"",{providedIn:"root",factory:()=>1});function pz(){let n=[];return n=yy?[{provide:a.Xts,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Eo);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function VG(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],lh(1,n)}const RB=new a.OlP(yy?"router preloader":"");function gz(n){return lh(0,[{provide:RB,useExisting:cz},{provide:xB,useExisting:n}])}const kw=!1,PB=new a.OlP(kw?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),mz=[qe,{provide:ww,useClass:LN},Eo,Sw,{provide:py,useFactory:function NB(n){return n.routerState.root},deps:[Eo]},oO,kw?{provide:cO,useValue:!0}:[]];function _z(){return new a.PXZ("Router",Eo)}let FB=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[mz,kw&&i?.enableTracing?pz().\u0275providers:[],{provide:_y,multi:!0,useValue:t},{provide:PB,useFactory:wz,deps:[[Eo,new a.FiY,new a.tp0]]},{provide:AC,useValue:i||{}},i?.useHash?{provide:rt,useClass:ve}:{provide:rt,useClass:Oe},{provide:lO,useFactory:()=>{const n=(0,a.f3M)(nl),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(AC),i=(0,a.f3M)(SC),r=(0,a.f3M)(ww);return t.scrollOffset&&n.setOffset(t.scrollOffset),new MB(r,i,n,e,t)}},i?.preloadingStrategy?gz(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:_z},i?.initialNavigation?Ez(i):[],[{provide:LB,useFactory:OB},{provide:a.tb,multi:!0,useExisting:LB}]]}}static forChild(t){return{ngModule:n,providers:[{provide:_y,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(PB,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[QN]}),n})();function wz(n){if(kw&&n)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ez(n){return["disabled"===n.initialNavigation?lh(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Eo);return()=>{e.setUpLocationChangeListener()}}},{provide:uO,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?lh(2,[{provide:uO,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(We,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Eo),o=e.get(kB);(function uz(n,e){n.events.pipe(Ai(t=>t instanceof Gp||t instanceof mC||t instanceof GN||t instanceof _C),(0,Rt.U)(t=>t instanceof Gp||t instanceof _C?As.COMPLETE:t instanceof mC&&(0===t.code||1===t.code)?As.REDIRECTING:As.FAILED),Ai(t=>t!==As.REDIRECTING),pr(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(SC).afterPreactivation=()=>(i(!0),o.closed?Nt(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const LB=new a.OlP(kw?"Router Initializer":"");var Tz=$(1144);const Cz=["addListener","removeListener"],Iz=["addEventListener","removeEventListener"],Sz=["on","off"];function ao(n,e,t,i){if((0,ko.m)(t)&&(i=t,t=void 0),i)return ao(n,e,t).pipe(kN(i));const[r,o]=function Mz(n){return(0,ko.m)(n.addEventListener)&&(0,ko.m)(n.removeEventListener)}(n)?Iz.map(u=>h=>n[u](e,h,t)):function Az(n){return(0,ko.m)(n.addListener)&&(0,ko.m)(n.removeListener)}(n)?Cz.map(BB(n,e)):function xz(n){return(0,ko.m)(n.on)&&(0,ko.m)(n.off)}(n)?Sz.map(BB(n,e)):[];if(!r&&(0,Tz.z)(n))return(0,oo.z)(u=>ao(u,e,t))((0,Za.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Wn.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return r(h),()=>o(h)})}function BB(n,e){return t=>i=>n[t](e,i)}var Nz=$(3532);function dO(n=0,e,t=FS){let i=-1;return null!=e&&((0,Nz.K)(e)?t=e:i=e),new Wn.y(r=>{let o=function Oz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:kz}=Array;function UB(n){return 1===n.length&&kz(n[0])?n[0]:n}var xC=$(5032);const jB=new Wn.y(xC.Z);function MC(...n){const e=(0,$a.jO)(n),t=UB(n);return t.length?new Wn.y(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let u=0;!i.closed&&u<t.length;u++)(0,Za.Xf)(t[u]).subscribe((0,gi.x)(i,h=>{if(r[u].push(h),r.every(p=>p.length)){const p=r.map(y=>y.shift());i.next(e?e(...p):p),r.some((y,w)=>!y.length&&o[w])&&i.complete()}},()=>{o[u]=!0,!r[u].length&&i.complete()}));return()=>{r=o=null}}):ac.E}function Ri(n){return(0,tr.e)((e,t)=>{(0,Za.Xf)(n).subscribe((0,gi.x)(t,()=>t.complete(),xC.Z)),!t.closed&&e.subscribe(t)})}function hO(...n){const e=(0,$a.jO)(n);return(0,tr.e)((t,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,Za.Xf)(n[p]).subscribe((0,gi.x)(i,y=>{o[p]=y,!h&&!u[p]&&(u[p]=!0,(h=u.every(Pl.y))&&(u=null))},xC.Z));t.subscribe((0,gi.x)(i,p=>{if(h){const y=[p,...o];i.next(e?e(...y):y)}}))})}function fO(n){return Ai((e,t)=>n<=t)}let HB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),zp=(()=>{class n extends HB{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const ss=new a.OlP("NgValueAccessor"),Vz={provide:ss,useExisting:(0,a.Gpc)(()=>Rw),multi:!0},$z=new a.OlP("CompositionEventMode");let Rw=(()=>{class n extends HB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jz(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36($z,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[a._Bn([Vz]),a.qOj]}),n})();const Hz=!1;function ch(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function zB(n){return null!=n&&"number"==typeof n.length}const lo=new a.OlP("NgValidators"),uh=new a.OlP("NgAsyncValidators"),Gz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ka{static min(e){return function WB(n){return e=>{if(ch(e.value)||ch(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function qB(n){return e=>{if(ch(e.value)||ch(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function ZB(n){return ch(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function KB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function YB(n){return ch(n.value)||Gz.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function JB(n){return e=>ch(e.value)||!zB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function QB(n){return e=>zB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function XB(n){if(!n)return NC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ch(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return oU(e)}static composeAsync(e){return sU(e)}}function NC(n){return null}function eU(n){return null!=n}function tU(n){const e=(0,a.QGY)(n)?(0,ti.D)(n):n;if(Hz&&!(0,a.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,t)}return e}function nU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function iU(n,e){return e.map(t=>t(n))}function rU(n){return n.map(e=>function zz(n){return!n.validate}(e)?e:t=>e.validate(t))}function oU(n){if(!n)return null;const e=n.filter(eU);return 0==e.length?null:function(t){return nU(iU(t,e))}}function pO(n){return null!=n?oU(rU(n)):null}function sU(n){if(!n)return null;const e=n.filter(eU);return 0==e.length?null:function(t){return function Bz(...n){const e=(0,$a.jO)(n),{args:t,keys:i}=IL(n),r=new Wn.y(o=>{const{length:u}=t;if(!u)return void o.complete();const h=new Array(u);let p=u,y=u;for(let w=0;w<u;w++){let S=!1;(0,Za.Xf)(t[w]).subscribe((0,gi.x)(o,P=>{S||(S=!0,y--),h[w]=P},()=>p--,void 0,()=>{(!p||!S)&&(y||o.next(i?SL(i,h):h),o.complete())}))}});return e?r.pipe(kN(e)):r}(iU(t,e).map(tU)).pipe((0,Rt.U)(nU))}}function gO(n){return null!=n?sU(rU(n)):null}function aU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lU(n){return n._rawValidators}function cU(n){return n._rawAsyncValidators}function mO(n){return n?Array.isArray(n)?n:[n]:[]}function OC(n,e){return Array.isArray(n)?n.includes(e):n===e}function uU(n,e){const t=mO(e);return mO(n).forEach(r=>{OC(t,r)||t.push(r)}),t}function dU(n,e){return mO(e).filter(t=>!OC(n,t))}class hU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class jo extends hU{get formDirective(){return null}get path(){return null}}class dh extends hU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _O=(()=>{class n extends fU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(dh,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),yO=(()=>{class n extends fU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jo,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();function pU(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const wO=!1,Pw="VALID",RC="INVALID",vy="PENDING",Fw="DISABLED";function EO(n){return(PC(n)?n.validators:n)||null}function DO(n,e){return(PC(e)?e.asyncValidators:n)||null}function PC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function gU(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,wO?function Kz(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new a.vHH(1001,wO?function Yz(n,e){return`Cannot find form control ${pU(n,e)}`}(e,t):"")}function mU(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,wO?function Jz(n,e){return`Must supply a value for form control ${pU(n,e)}`}(e,r):"")})}class FC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pw}get invalid(){return this.status===RC}get pending(){return this.status==vy}get disabled(){return this.status===Fw}get enabled(){return this.status!==Fw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dU(e,this._rawAsyncValidators))}hasValidator(e){return OC(this._rawValidators,e)}hasAsyncValidator(e){return OC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pw||this.status===vy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fw:Pw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vy,this._hasOwnPendingAsyncValidator=!0;const t=tU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Fw:this.errors?RC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vy)?vy:this._anyControlsHaveStatus(RC)?RC:Pw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){PC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Qz(n){return Array.isArray(n)?pO(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Xz(n){return Array.isArray(n)?gO(n):n||null}(this._rawAsyncValidators)}}class Lw extends FC{constructor(e,t,i){super(EO(t),DO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mU(this,!0,e),Object.keys(e).forEach(i=>{gU(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class _U extends Lw{}const Wp=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Bw}),Bw="always";function Uw(n,e,t=Bw){TO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function t8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yU(n,e)})}(n,e),function i8(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function n8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function e8(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function BC(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),VC(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function UC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function TO(n,e){const t=lU(n);null!==e.validator?n.setValidators(aU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=cU(n);null!==e.asyncValidator?n.setAsyncValidators(aU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();UC(e._rawValidators,r),UC(e._rawAsyncValidators,r)}function VC(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=lU(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=cU(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return UC(e._rawValidators,i),UC(e._rawAsyncValidators,i),t}function yU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function EU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jw=class extends FC{constructor(e=null,t,i){super(EO(t),DO(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),PC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=EU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){EU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const MO=new a.OlP("NgModelWithFormControlWarning"),_8={provide:jo,useExisting:(0,a.Gpc)(()=>$w)};let $w=(()=>{class n extends jo{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(VC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Uw(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){BC(t.control||null,t,!1),function a8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function bU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(BC(i||null,t),(n=>n instanceof jw)(r)&&(Uw(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function vU(n,e){TO(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function r8(n,e){return VC(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TO(this.form,this),this._oldForm&&VC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lo,10),a.Y36(uh,10),a.Y36(Wp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([_8]),a.qOj,a.TTD]}),n})();const b8={provide:dh,useExisting:(0,a.Gpc)(()=>jC)};let jC=(()=>{class n extends dh{set isDisabled(t){}constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function SO(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Rw?t=o:function s8(n){return Object.getPrototypeOf(n.constructor)===zp}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function IO(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function LC(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(jo,13),a.Y36(lo,10),a.Y36(uh,10),a.Y36(ss,10),a.Y36(MO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([b8]),a.qOj,a.TTD]}),n})(),GU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[AU]}),n})();class zU extends FC{constructor(e,t,i){super(EO(t),DO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){mU(this,!1,e),e.forEach((i,r)=>{gU(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function WU(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let qU=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return WU(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Lw(r,o)}record(t,i=null){const r=this._reduceControls(t);return new _U(r,i)}control(t,i,r){let o={};return this.useNonNullable?(WU(i)?o=i:(o.validators=i,o.asyncValidators=r),new jw(t,{...o,nonNullable:!0})):new jw(t,i,r)}array(t,i,r){const o=t.map(u=>this._createControl(u));return new zU(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof jw||t instanceof FC?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wp,useValue:t.callSetDisabledState??Bw}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[GU]}),n})(),F8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:MO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wp,useValue:t.callSetDisabledState??Bw}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[GU]}),n})();function V7(n,e){}function j7(n,e){if(1&n&&(a.TgZ(0,"button",3),a._uU(1),a.YNc(2,V7,0,0,"ng-template",4),a.qZA()),2&n){const t=e.$implicit;a.Q6J("ngbPanelToggle",t),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function $7(n,e){}function H7(n,e){}function G7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",8),a.NdJ("ngbRef",function(r){a.CHM(t);const o=a.oxw().$implicit;return a.KtG(o.panelDiv=r)}),a.TgZ(1,"div",9),a.YNc(2,H7,0,0,"ng-template",4),a.qZA()()}if(2&n){const t=a.oxw().$implicit;a.s9C("id",t.id),a.uIk("aria-labelledby",t.id+"-header"),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const z7=function(n,e){return{$implicit:n,opened:e}};function W7(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div",5),a.YNc(2,$7,0,0,"ng-template",6),a.qZA(),a.YNc(3,G7,3,3,"div",7),a.qZA()),2&n){const t=e.$implicit,i=a.oxw(),r=a.MAs(1);a.Tol("accordion-item "+(t.cardClass||"")),a.xp6(1),a.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),a.MGl("id","",t.id,"-header"),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||r)("ngTemplateOutletContext",a.WLB(8,z7,t,t.isOpen)),a.xp6(1),a.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}const q7=["ngbAccordionBody",""];function Z7(n,e){}function K7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",1),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.close())}),a.qZA()}}const WC=["*"];function Y7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw();return u.focus(),a.KtG(u.select(o.id,u.NgbSlideEventSource.INDICATOR))}),a.qZA()}if(2&n){const t=e.$implicit,i=a.oxw();a.ekj("active",t.id===i.activeId),a.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function J7(n,e){}function Q7(n,e){if(1&n&&(a.TgZ(0,"div",7)(1,"span",8),a.SDv(2,9),a.qZA(),a.YNc(3,J7,0,0,"ng-template",10),a.qZA()),2&n){const t=e.$implicit,i=e.index,r=e.count;a.Q6J("id","slide-"+t.id),a.xp6(2),a.pQV(i+1)(r),a.QtT(2),a.xp6(1),a.Q6J("ngTemplateOutlet",t.tplRef)}}function X7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.arrowLeft())}),a._UZ(1,"span",12),a.TgZ(2,"span",8),a.SDv(3,13),a.qZA()()}}function e9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.arrowRight())}),a._UZ(1,"span",15),a.TgZ(2,"span",8),a.SDv(3,16),a.qZA()()}}const t9=["ngbDatepickerDayView",""],n9=["month"],i9=["year"];function r9(n,e){if(1&n&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&n){const t=e.$implicit,i=a.oxw();a.Q6J("value",t),a.uIk("aria-label",i.i18n.getMonthFullName(t,i.date.year)),a.xp6(1),a.Oqu(i.i18n.getMonthShortName(t,i.date.year))}}function o9(n,e){if(1&n&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&n){const t=e.$implicit,i=a.oxw();a.Q6J("value",t),a.xp6(1),a.Oqu(i.i18n.getYearNumerals(t))}}function s9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngb-datepicker-navigation-select",7),a.NdJ("select",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.select.emit(r))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function a9(n,e){1&n&&a._UZ(0,"div",0)}function l9(n,e){1&n&&a._UZ(0,"div",0)}function c9(n,e){if(1&n&&(a.YNc(0,a9,1,0,"div",9),a.TgZ(1,"div",10),a._uU(2),a.qZA(),a.YNc(3,l9,1,0,"div",9)),2&n){const t=e.$implicit,i=e.index,r=a.oxw(2);a.Q6J("ngIf",i>0),a.xp6(2),a.hij(" ",r.i18n.getMonthLabel(t.firstDate)," "),a.xp6(1),a.Q6J("ngIf",i!==r.months.length-1)}}function u9(n,e){if(1&n&&a.YNc(0,c9,4,3,"ng-template",8),2&n){const t=a.oxw();a.Q6J("ngForOf",t.months)}}function d9(n,e){if(1&n&&(a.TgZ(0,"div",5),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t.i18n.getWeekLabel())}}function h9(n,e){if(1&n&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function f9(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,d9,2,1,"div",3),a.YNc(2,h9,2,1,"div",4),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",t.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",t.viewModel.weekdays)}}function p9(n,e){if(1&n&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&n){const t=a.oxw(2).$implicit,i=a.oxw();a.xp6(1),a.Oqu(i.i18n.getWeekNumerals(t.number))}}function g9(n,e){}function m9(n,e){if(1&n&&a.YNc(0,g9,0,0,"ng-template",14),2&n){const t=a.oxw().$implicit,i=a.oxw(3);a.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function _9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(r){const u=a.CHM(t).$implicit;return a.oxw(3).doSelect(u),a.KtG(r.preventDefault())}),a.YNc(1,m9,1,2,"ng-template",13),a.qZA()}if(2&n){const t=e.$implicit;a.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),a.Q6J("tabindex",t.tabindex),a.uIk("aria-label",t.ariaLabel),a.xp6(1),a.Q6J("ngIf",!t.hidden)}}function y9(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,p9,2,1,"div",9),a.YNc(2,_9,2,9,"div",10),a.qZA()),2&n){const t=a.oxw().$implicit,i=a.oxw();a.xp6(1),a.Q6J("ngIf",i.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",t.days)}}function v9(n,e){1&n&&a.YNc(0,y9,3,2,"div",7),2&n&&a.Q6J("ngIf",!e.$implicit.collapsed)}const b9=["defaultDayTemplate"],w9=["content"];function E9(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const i=e.currentMonth,r=e.selected,o=e.disabled,u=e.focused;a.Q6J("date",e.date)("currentMonth",i)("selected",r)("disabled",o)("focused",u)}}function D9(n,e){if(1&n&&(a.TgZ(0,"div",12),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit,i=a.oxw(2);a.xp6(1),a.hij(" ",i.i18n.getMonthLabel(t.firstDate)," ")}}function T9(n,e){if(1&n&&(a.TgZ(0,"div",9),a.YNc(1,D9,2,1,"div",10),a._UZ(2,"ngb-datepicker-month",11),a.qZA()),2&n){const t=e.$implicit,i=a.oxw(2);a.xp6(1),a.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),a.xp6(1),a.Q6J("month",t.firstDate)}}function C9(n,e){if(1&n&&a.YNc(0,T9,3,2,"div",8),2&n){const t=a.oxw();a.Q6J("ngForOf",t.model.months)}}function I9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngb-datepicker-navigation",13),a.NdJ("navigate",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.onNavigateEvent(r))})("select",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.onNavigateDateSelect(r))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function S9(n,e){}function A9(n,e){}const x9=["dialog"],M9=["ngbNavOutlet",""];function N9(n,e){}const O9=function(n){return{$implicit:n}};function k9(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,N9,0,0,"ng-template",3),a.qZA()),2&n){const t=a.oxw().$implicit,i=a.oxw();a.Q6J("item",t)("nav",i.nav)("role",i.paneRole),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",a.VKq(5,O9,t.active||i.isPanelTransitioning(t)))}}function R9(n,e){if(1&n&&a.YNc(0,k9,2,7,"div",1),2&n){const t=e.$implicit,i=a.oxw();a.Q6J("ngIf",t.isPanelInDom()||i.isPanelTransitioning(t))}}function P9(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,10),a.qZA())}function F9(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,11),a.qZA())}function L9(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,12),a.qZA())}function B9(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,13),a.qZA())}function U9(n,e){1&n&&a._uU(0,"...")}function V9(n,e){1&n&&a._uU(0),2&n&&a.Oqu(e.$implicit)}function j9(n,e){}const $9=function(n){return{disabled:!0,currentPage:n}};function H9(n,e){if(1&n&&(a.TgZ(0,"a",18),a.YNc(1,j9,0,0,"ng-template",8),a.qZA()),2&n){const t=a.oxw(2).$implicit,i=a.oxw(),r=a.MAs(9);a.xp6(1),a.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",a.VKq(2,$9,t))}}function G9(n,e){}const z9=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function W9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",19),a.NdJ("click",function(r){a.CHM(t);const o=a.oxw().$implicit;return a.oxw(2).selectPage(o),a.KtG(r.preventDefault())}),a.YNc(1,G9,0,0,"ng-template",8),a.qZA()}if(2&n){const t=a.oxw().$implicit,i=a.oxw(),r=i.disabled,o=i.$implicit,u=a.oxw(),h=a.MAs(11);a.uIk("tabindex",r?"-1":null)("aria-disabled",r?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==u.tplNumber?null:u.tplNumber.templateRef)||h)("ngTemplateOutletContext",a.kEZ(4,z9,r,t,o))}}function q9(n,e){if(1&n&&(a.TgZ(0,"li",15),a.YNc(1,H9,2,4,"a",16),a.YNc(2,W9,2,8,"a",17),a.qZA()),2&n){const t=e.$implicit,i=a.oxw(),r=i.$implicit,o=i.disabled,u=a.oxw();a.ekj("active",t===r)("disabled",u.isEllipsis(t)||o),a.uIk("aria-current",t===r?"page":null),a.xp6(1),a.Q6J("ngIf",u.isEllipsis(t)),a.xp6(1),a.Q6J("ngIf",!u.isEllipsis(t))}}function Z9(n,e){1&n&&a.YNc(0,q9,3,7,"li",14),2&n&&a.Q6J("ngForOf",e.pages)}function K9(n,e){}const WO=function(n,e){return{disabled:n,currentPage:e}};function Y9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",15)(1,"a",20),a.NdJ("click",function(r){return a.CHM(t),a.oxw().selectPage(1),a.KtG(r.preventDefault())}),a.YNc(2,K9,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),i=a.MAs(1);a.ekj("disabled",t.previousDisabled()),a.xp6(1),a.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||i)("ngTemplateOutletContext",a.WLB(6,WO,t.previousDisabled(),t.page))}}function J9(n,e){}const Q9=function(n){return{disabled:n}};function X9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",15)(1,"a",21),a.NdJ("click",function(r){a.CHM(t);const o=a.oxw();return o.selectPage(o.page-1),a.KtG(r.preventDefault())}),a.YNc(2,J9,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),i=a.MAs(3);a.ekj("disabled",t.previousDisabled()),a.xp6(1),a.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||i)("ngTemplateOutletContext",a.VKq(6,Q9,t.previousDisabled()))}}function eW(n,e){}function tW(n,e){}function nW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",15)(1,"a",22),a.NdJ("click",function(r){a.CHM(t);const o=a.oxw();return o.selectPage(o.page+1),a.KtG(r.preventDefault())}),a.YNc(2,tW,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),i=a.MAs(5);a.ekj("disabled",t.nextDisabled()),a.xp6(1),a.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||i)("ngTemplateOutletContext",a.WLB(6,WO,t.nextDisabled(),t.page))}}function iW(n,e){}function rW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",15)(1,"a",23),a.NdJ("click",function(r){a.CHM(t);const o=a.oxw();return o.selectPage(o.pageCount),a.KtG(r.preventDefault())}),a.YNc(2,iW,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),i=a.MAs(7);a.ekj("disabled",t.nextDisabled()),a.xp6(1),a.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||i)("ngTemplateOutletContext",a.WLB(6,WO,t.nextDisabled(),t.page))}}const oW=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function lW(n,e){if(1&n&&(a.TgZ(0,"span"),a.SDv(1,1),a.ALo(2,"percent"),a.qZA()),2&n){const t=a.oxw();a.xp6(2),a.pQV(a.lcZ(2,1,t.getValue()/t.max)),a.QtT(1)}}function cW(n,e){1&n&&a._uU(0),2&n&&a.Oqu(100===e.fill?"\u2605":"\u2606")}function uW(n,e){}function dW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const o=a.CHM(t).index,u=a.oxw();return a.KtG(u.enter(o+1))})("click",function(){const o=a.CHM(t).index,u=a.oxw();return a.KtG(u.handleClick(o+1))}),a.YNc(3,uW,0,0,"ng-template",4),a.qZA()}if(2&n){const t=e.index,i=a.oxw(),r=a.MAs(1);a.xp6(1),a.hij("(",t<i.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",i.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||r)("ngTemplateOutletContext",i.contexts[t])}}function hW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.changeHour(r.hourStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,14),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function fW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.changeHour(-r.hourStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,16),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function pW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.changeMinute(r.minuteStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,17),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function gW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.changeMinute(-r.minuteStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,18),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function mW(n,e){1&n&&(a.TgZ(0,"div",5),a._uU(1,":"),a.qZA())}function _W(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.changeSecond(r.secondStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,21),a.qZA()()}if(2&n){const t=a.oxw(2);a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function yW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.changeSecond(-r.secondStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,22),a.qZA()()}if(2&n){const t=a.oxw(2);a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function vW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.YNc(1,_W,4,7,"button",3),a.TgZ(2,"input",20),a.NdJ("change",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.updateSecond(r.target.value))})("blur",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.handleBlur())})("input",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.formatInput(r.target))})("keydown.ArrowUp",function(r){a.CHM(t);const o=a.oxw();return o.changeSecond(o.secondStep),a.KtG(r.preventDefault())})("keydown.ArrowDown",function(r){a.CHM(t);const o=a.oxw();return o.changeSecond(-o.secondStep),a.KtG(r.preventDefault())}),a.qZA(),a.YNc(3,yW,4,7,"button",3),a.qZA()}if(2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",t.spinners),a.xp6(1),a.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),a.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),a.xp6(1),a.Q6J("ngIf",t.spinners)}}function bW(n,e){1&n&&a._UZ(0,"div",5)}function wW(n,e){if(1&n&&(a.ynx(0),a.SDv(1,27),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.pQV(t.i18n.getAfternoonPeriod()),a.QtT(1)}}function EW(n,e){if(1&n&&a.SDv(0,28),2&n){const t=a.oxw(2);a.pQV(t.i18n.getMorningPeriod()),a.QtT(0)}}function DW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.toggleMeridian())}),a.YNc(2,wW,2,1,"ng-container",25),a.YNc(3,EW,1,1,"ng-template",null,26,a.W1O),a.qZA()()}if(2&n){const t=a.MAs(4),i=a.oxw();a.xp6(1),a.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),a.Q6J("disabled",i.disabled),a.xp6(1),a.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",t)}}function TW(n,e){if(1&n&&(a.TgZ(0,"strong",3),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.header)}}function CW(n,e){}function IW(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",4),a.YNc(1,CW,0,0,"ng-template",5),a.TgZ(2,"button",6),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.hide())}),a.qZA()()}if(2&n){const t=a.oxw(),i=a.MAs(1);a.xp6(1),a.Q6J("ngTemplateOutlet",t.contentHeaderTpl||i)}}function SW(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit,i=a.oxw();a.Tol(i.highlightClass),a.xp6(1),a.Oqu(t)}}function AW(n,e){if(1&n&&a._uU(0),2&n){const t=a.oxw().$implicit;a.Oqu(t)}}function xW(n,e){if(1&n&&(a.YNc(0,SW,2,3,"span",1),a.YNc(1,AW,1,1,"ng-template",null,2,a.W1O)),2&n){const t=e.odd,i=a.MAs(2);a.Q6J("ngIf",t)("ngIfElse",i)}}function co(n){return parseInt(`${n}`,10)}function uV(n){return null!=n?`${n}`:""}function qC(n,e,t=0){return Math.max(Math.min(n,e),t)}function Ty(n){return"string"==typeof n}function ir(n){return!isNaN(co(n))}function Wi(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Yp(n){return null!=n}function Cy(n){return ir(n)?`0${n}`.slice(-2):""}function hV(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Iy(n){return(n||document.body).getBoundingClientRect()}function fV(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const pV={animation:!0,transitionTimerDelayMs:5},FW=()=>{},{transitionTimerDelayMs:LW}=pV,Kw=new Map,Lr=(n,e,t,i)=>{let r=i.context||{};const o=Kw.get(e);if(o)switch(i.runningTransition){case"continue":return ac.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Kw.delete(e)}const u=t(e,i.animation,r)||FW;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),Nt(void 0).pipe(function RW(n){return e=>new Wn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new oi.x,p=new oi.x,y=h.pipe(function Pz(...n){return e=>Nd(e,Nt(...n))}(!0));Kw.set(e,{transition$:h,complete:()=>{p.next(),p.complete()},context:r});const w=function PW(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const S=ao(e,"transitionend").pipe(Ri(y),Ai(({target:U})=>U===e));(function VB(...n){return 1===(n=UB(n)).length?(0,Za.Xf)(n[0]):new Wn.y(function Rz(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Za.Xf)(n[i]).subscribe((0,gi.x)(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))})(dO(w+LW).pipe(Ri(y)),S,p).pipe(Ri(y)).subscribe(()=>{Kw.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()},qO=(n,e,t)=>{let{direction:i,maxSize:r,dimension:o}=t;const{classList:u}=n;function h(){u.add("collapse"),"show"===i?u.add("show"):u.remove("show")}if(e)return r||(r=function UW(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";const r=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),r}(n,o),t.maxSize=r,n.style[o]="show"!==i?r:"0px",u.remove("collapse"),u.remove("collapsing"),u.remove("show"),Iy(n),u.add("collapsing")),n.style[o]="show"===i?r:"0px",()=>{h(),u.remove("collapsing"),n.style[o]=""};h()};let Jp=(()=>{class n{constructor(){this.animation=pV.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gV=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VW=0,ZO=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),mV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),_V=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),KO=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+VW++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,mV,4),a.Suo(r,ZO,4),a.Suo(r,_V,4)),2&t){let o;a.iGM(o=a.CRH())&&(i.titleTpls=o),a.iGM(o=a.CRH())&&(i.headerTpls=o),a.iGM(o=a.CRH())&&(i.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),jW=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new a.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),yV=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>YO)),a.Y36(KO,9))},n.\u0275dir=a.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(a.Ikx("disabled",i.panel.disabled),a.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),a.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),YO=(()=>{class n{constructor(t,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){Ty(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(pr(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,Lr(this._ngZone,i,qO,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let r=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{r=!0}}),r||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(r=>{r.id!==t&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Lr(this._ngZone,i.panelDiv,qO,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:o}=i;i.isOpen?(i.shown.emit(),this.shown.emit(o)):(i.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gV),a.Y36(a.R0b),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,KO,4),2&t){let o;a.iGM(o=a.CRH())&&(i.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[a.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(a.YNc(0,j7,3,3,"ng-template",0,1,a.W1O),a.YNc(2,W7,4,11,"ng-template",2)),2&t&&(a.xp6(2),a.Q6J("ngForOf",i.panels))},dependencies:[Vi,Sr,yV,jW,ZO,ai],encapsulation:2}),n})(),$W=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vV=(()=>{class n{constructor(t,i,r){this._element=t,this._zone=r,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=i.animation,this.horizontal=i.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return Lr(this._zone,this._element.nativeElement,qO,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36($W),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),HW=0,bV=(()=>{class n{constructor(t){this._item=t}template(){return!1===this._item.destroyOnHide||this._item.animatingBodyCollapse?this._bodyTpl:null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>Qp)))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","ngbAccordionBody",""]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,a.Rgc,7),2&t){let o;a.iGM(o=a.CRH())&&(i._bodyTpl=o.first)}},hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("accordion-body",!0)},standalone:!0,features:[a.jDz],attrs:q7,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,i){1&t&&a.YNc(0,Z7,0,0,"ng-template",0),2&t&&a.Q6J("ngTemplateOutlet",i.template())},dependencies:[Sr],encapsulation:2}),n})(),wV=(()=>{class n{constructor(t,i){this.item=t,this.ngbCollapse=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>Qp)),a.Y36(vV))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(t,i){2&t&&(a.Ikx("id",i.item.collapseId),a.uIk("aria-labelledby",i.item.toggleId),a.ekj("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[a.zW0([vV])]}),n})(),Qp=(()=>{class n{constructor(t,i){this._accordion=t,this._cd=i,this._subscriptions=[],this._collapsed=!0,this._id="ngb-accordion-item-"+HW++,this.animatingBodyCollapse=!1,this.destroyOnHide=this._accordion.destroyOnHide,this.disabled=!1,this.shown=new a.vpe,this.hidden=new a.vpe}set id(t){Ty(t)&&""!==t&&(this._id=t)}set collapsed(t){if(this.collapsed!==t){if(this.collapsed&&!this._accordion._ensureCanExpand(this))return;this._collapsed=t,this._cd.markForCheck(),this.collapsed||(this.animatingBodyCollapse=!0,this._cd.detectChanges()),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=this.collapsed}}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}ngAfterContentInit(){const{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,this._subscriptions.push(t.hidden.subscribe(()=>{this.animatingBodyCollapse=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}toggle(){this.collapsed=!this.collapsed}expand(){this.collapsed=!1}collapse(){this.collapsed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>JO)),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbAccordionItem",""]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,wV,7),2&t){let o;a.iGM(o=a.CRH())&&(i._collapse=o.first)}},hostVars:3,hostBindings:function(t,i){2&t&&(a.Ikx("id",i.id),a.ekj("accordion-item",!0))},inputs:{id:["ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0}),n})(),JO=(()=>{class n{constructor(t){this.destroyOnHide=!0,this.shown=new a.vpe,this.hidden=new a.vpe,this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=t.animation,this.closeOthers=t.closeOthers}toggle(t){this._getItem(t)?.toggle()}expand(t){this._getItem(t)?.expand()}expandAll(){this.closeOthers?this._items.find(t=>!t.collapsed)||this._items.first.expand():this._items.forEach(t=>t.expand())}collapse(t){this._getItem(t)?.collapse()}collapseAll(){this._items.forEach(t=>t.collapse())}isExpanded(t){const i=this._getItem(t);return!!i&&!i.collapsed}_ensureCanExpand(t){return!(this.closeOthers&&(this._items?(this._items.find(i=>!i.collapsed&&t!==i)?.collapse(),0):this._anItemWasAlreadyExpandedDuringInitialisation||(this._anItemWasAlreadyExpandedDuringInitialisation=!0,0)))}_getItem(t){return this._items.find(i=>i.id===t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gV))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbAccordion",""]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,Qp,4),2&t){let o;a.iGM(o=a.CRH())&&(i._items=o)}},hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0}),n})(),DV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[YO,bV]}),n})();const WW=({classList:n})=>{n.remove("show")};let qW=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZW=(()=>{class n{constructor(t,i,r,o){this._renderer=i,this._element=r,this._zone=o,this.closed=new a.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Lr(this._zone,this._element.nativeElement,WW,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const i=t.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qW),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,i){2&t&&a.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:WC,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(a.F$t(),a.Hsn(0),a.YNc(1,K7,1,0,"button",0)),2&t&&(a.xp6(1),a.Q6J("ngIf",i.dismissible))},dependencies:[ai],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ZW]}),n})();var fh=(()=>(function(n){n.START="start",n.END="end"}(fh||(fh={})),fh))();const CV=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Yw=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},ZC=n=>{Yw(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},KW=(n,e,{direction:t})=>{const{classList:i}=n;return e?(CV(n)?Yw(i):(i.add("carousel-item-"+(t===fh.START?"next":"prev")),Iy(n),i.add("carousel-item-"+t)),()=>{ZC(i),i.add("active")}):(Yw(i),ZC(i),void i.add("active"))},YW=(n,e,{direction:t})=>{const{classList:i}=n;return e?(CV(n)?Yw(i):i.add("carousel-item-"+t),()=>{ZC(i),i.remove("active")}):(Yw(i),ZC(i),void i.remove("active"))};let JW=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QW=0,XW=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+QW++,this.slid=new a.vpe}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),eq=(()=>{class n{constructor(t,i,r,o,u){this._platformId=i,this._ngZone=r,this._cd=o,this._container=u,this.NgbSlideEventSource=Xp,this._destroy$=new oi.x,this._interval$=new Fr(0),this._mouseHover$=new Fr(!1),this._focused$=new Fr(!1),this._pauseOnHover$=new Fr(!1),this._pauseOnFocus$=new Fr(!1),this._pause$=new Fr(!1),this._wrap$=new Fr(!1),this.slide=new a.vpe,this.slid=new a.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Xp.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Xp.ARROW_RIGHT)}ngAfterContentInit(){Co(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=_w([this.slide.pipe((0,Rt.U)(i=>i.current),$l(this.activeId)),this._wrap$,this.slides.changes.pipe($l(null))]).pipe((0,Rt.U)(([i,r])=>{const o=this.slides.toArray(),u=this._getSlideIdxById(i);return r?o.length>1:u<o.length-1}),ni());_w([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Rt.U)(([i,r,o,u,h,p,y])=>i||r&&o||u&&h||!y?0:p),ni(),Tr(i=>i>0?dO(i,i):jB),Ri(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Xp.TIMER)))}),this.slides.changes.pipe(Ri(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Kw.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(pr(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),fh.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),fh.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,r){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let u=this._getSlideById(t);if(u&&u.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:u.id,direction:i,paused:this._pause$.value,source:r});const h={animation:this.animation,runningTransition:"stop",context:{direction:i}},p=[],y=this._getSlideById(this.activeId);if(y){const U=Lr(this._ngZone,this._getSlideElement(y.id),YW,h);U.subscribe(()=>{y.slid.emit({isShown:!1,direction:i,source:r})}),p.push(U)}const w=this.activeId;this.activeId=u.id;const S=this._getSlideById(this.activeId),P=Lr(this._ngZone,this._getSlideElement(u.id),KW,h);P.subscribe(()=>{S?.slid.emit({isShown:!0,direction:i,source:r})}),p.push(P),MC(...p).pipe(pr(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:w,current:u.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?fh.END:fh.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(JW),a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,XW,4),2&t){let o;a.iGM(o=a.CRH())&&(i.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&a.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(a.uIk("aria-activedescendant","slide-"+i.activeId),a.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[a.jDz],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(a.TgZ(0,"div",0),a.YNc(1,Y7,1,5,"button",1),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,Q7,4,4,"div",3),a.qZA(),a.YNc(4,X7,4,0,"button",4),a.YNc(5,e9,4,0,"button",5)),2&t&&(a.ekj("visually-hidden",!i.showNavigationIndicators),a.xp6(1),a.Q6J("ngForOf",i.slides),a.xp6(2),a.Q6J("ngForOf",i.slides),a.xp6(1),a.Q6J("ngIf",i.showNavigationArrows),a.xp6(1),a.Q6J("ngIf",i.showNavigationArrows))},dependencies:[Vi,Sr,ai],encapsulation:2,changeDetection:0}),n})();var Xp=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(Xp||(Xp={})),Xp))();let IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[eq]}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();class Br{constructor(e,t,i){this.year=Wi(e)?e:null,this.month=Wi(t)?t:null,this.day=Wi(i)?i:null}static from(e){return e instanceof Br?e:e?new Br(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Sy(n,e){return!function tq(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function AV(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function KC(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function QO(n,e){const{minDate:t,maxDate:i,disabled:r,markDisabled:o}=e;return!(null==n||r||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||i&&n.after(i))}function xV(n){return new Br(n.getFullYear(),n.getMonth()+1,n.getDate())}function YC(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let JC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function uq(){return new dq}()},providedIn:"root"}),n})(),dq=(()=>{class n extends JC{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,i="d",r=1){let o=YC(t),u=!0,h=o.getMonth();switch(i){case"y":o.setFullYear(o.getFullYear()+r);break;case"m":h+=r,o.setMonth(h),h%=12,h<0&&(h+=12);break;case"d":o.setDate(o.getDate()+r),u=!1;break;default:return t}return u&&o.getMonth()!==h&&o.setDate(0),xV(o)}getPrev(t,i="d",r=1){return this.getNext(t,i,-r)}getWeekday(t){let r=YC(t).getDay();return 0===r?7:r}getWeekNumber(t,i){7===i&&(i=0);const u=YC(t[(11-i)%7]);u.setDate(u.getDate()+4-(u.getDay()||7));const h=u.getTime();return u.setMonth(0),u.setDate(1),Math.floor(Math.round((h-u.getTime())/864e5)/7)+1}getToday(){return xV(new Date)}isValid(t){if(!(t&&Wi(t.year)&&Wi(t.month)&&Wi(t.day)&&0!==t.year))return!1;const i=YC(t);return!isNaN(i.getTime())&&i.getFullYear()===t.year&&i.getMonth()+1===t.month&&i.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),eg=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function hq(n){return new fq(n)}(a.LFG(a.soG)),i},providedIn:"root"}),n})(),fq=(()=>{class n extends eg{constructor(t){super(),this._locale=t,this._monthsShort=Qe(t,Et.Standalone,nt.Abbreviated),this._monthsFull=Qe(t,Et.Standalone,nt.Wide)}getWeekdayLabel(t,i){const r=Me(this._locale,Et.Standalone,void 0===i?nt.Short:i);return r.map((u,h)=>r[(h+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return Fn(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),XO=(()=>{class n{constructor(t,i){this._calendar=t,this._i18n=i,this._VALIDATORS={dayTemplateData:r=>{if(this._state.dayTemplateData!==r)return{dayTemplateData:r}},displayMonths:r=>{if(Wi(r=co(r))&&r>0&&this._state.displayMonths!==r)return{displayMonths:r}},disabled:r=>{if(this._state.disabled!==r)return{disabled:r}},firstDayOfWeek:r=>{if(Wi(r=co(r))&&r>=0&&this._state.firstDayOfWeek!==r)return{firstDayOfWeek:r}},focusVisible:r=>{if(this._state.focusVisible!==r&&!this._state.disabled)return{focusVisible:r}},markDisabled:r=>{if(this._state.markDisabled!==r)return{markDisabled:r}},maxDate:r=>{const o=this.toValidDate(r,null);if(Sy(this._state.maxDate,o))return{maxDate:o}},minDate:r=>{const o=this.toValidDate(r,null);if(Sy(this._state.minDate,o))return{minDate:o}},navigation:r=>{if(this._state.navigation!==r)return{navigation:r}},outsideDays:r=>{if(this._state.outsideDays!==r)return{outsideDays:r}},weekdays:r=>{const o=!0===r||!1===r?nt.Short:r,u=!0!==r&&!1!==r||r;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==u)return{weekdayWidth:o,weekdaysVisible:u}}},this._model$=new oi.x,this._dateSelect$=new oi.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:nt.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Ai(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Ai(t=>null!==t))}set(t){let i=Object.keys(t).map(r=>this._VALIDATORS[r](t[r])).reduce((r,o)=>({...r,...o}),{});Object.keys(i).length>0&&this._nextState(i)}focus(t){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&Sy(this._state.focusDate,i)&&this._nextState({focusDate:t})}focusSelect(){QO(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const i=this.toValidDate(t,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||AV(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(t,i={}){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&(Sy(this._state.selectedDate,r)&&this._nextState({selectedDate:r}),i.emitEvent&&QO(r,this._state)&&this._dateSelect$.next(r))}toValidDate(t,i){const r=Br.from(t);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(r)?r:i}getMonth(t){for(let i of this._state.months)if(t.month===i.number&&t.year===i.year)return i;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const i=this._updateState(t);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(t){const{months:i,displayMonths:r,selectedDate:o,focusDate:u,focusVisible:h,disabled:p,outsideDays:y}=t;t.months.forEach(w=>{w.weeks.forEach(S=>{S.days.forEach(P=>{u&&(P.context.focused=u.equals(P.date)&&h),P.tabindex=!p&&u&&P.date.equals(u)&&u.month===w.number?0:-1,!0===p&&(P.context.disabled=!0),void 0!==o&&(P.context.selected=null!==o&&o.equals(P.date)),w.number!==P.date.month&&(P.hidden="hidden"===y||"collapsed"===y||r>1&&P.date.after(i[0].firstDate)&&P.date.before(i[r-1].lastDate))})})})}_updateState(t){const i=Object.assign({},this._state,t);let r=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(function nq(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(i.minDate,i.maxDate),i.focusDate=KC(i.focusDate,i.minDate,i.maxDate),i.firstDate=KC(i.firstDate,i.minDate,i.maxDate),r=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(r=i.selectedDate),"focusVisible"in t||"focusDate"in t&&(i.focusDate=KC(i.focusDate,i.minDate,i.maxDate),r=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=KC(i.firstDate,i.minDate,i.maxDate),r=i.firstDate),r){const u=function aq(n,e,t,i,r){const{displayMonths:o,months:u}=t,h=u.splice(0,u.length);return Array.from({length:o},(y,w)=>{const S=Object.assign(n.getNext(e,"m",w),{day:1});if(u[w]=null,!r){const P=h.findIndex(U=>U.firstDate.equals(S));-1!==P&&(u[w]=h.splice(P,1)[0])}return S}).forEach((y,w)=>{null===u[w]&&(u[w]=function lq(n,e,t,i,r={}){const{dayTemplateData:o,minDate:u,maxDate:h,firstDayOfWeek:p,markDisabled:y,outsideDays:w,weekdayWidth:S,weekdaysVisible:P}=t,U=n.getToday();r.firstDate=null,r.lastDate=null,r.number=e.month,r.year=e.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],e=function cq(n,e,t){const i=n.getDaysPerWeek(),r=new Br(e.year,e.month,1),o=n.getWeekday(r)%i;return n.getPrev(r,"d",(i+o-t)%i)}(n,e,p),P||(r.weekdays.length=0);for(let W=0;W<n.getWeeksPerMonth();W++){let q=r.weeks[W];q||(q=r.weeks[W]={number:0,days:[],collapsed:!0});const re=q.days;for(let we=0;we<n.getDaysPerWeek();we++){0===W&&P&&(r.weekdays[we]=i.getWeekdayLabel(n.getWeekday(e),S));const Ae=new Br(e.year,e.month,e.day),Be=n.getNext(Ae),ze=i.getDayAriaLabel(Ae);let ot=!!(u&&Ae.before(u)||h&&Ae.after(h));!ot&&y&&(ot=y(Ae,{month:r.number,year:r.year}));let dt=Ae.equals(U),Bt=o?o(Ae,{month:r.number,year:r.year}):void 0;null===r.firstDate&&Ae.month===r.number&&(r.firstDate=Ae),Ae.month===r.number&&Be.month!==r.number&&(r.lastDate=Ae);let cn=re[we];cn||(cn=re[we]={}),cn.date=Ae,cn.context=Object.assign(cn.context||{},{$implicit:Ae,date:Ae,data:Bt,currentMonth:r.number,currentYear:r.year,disabled:ot,focused:!1,selected:!1,today:dt}),cn.tabindex=-1,cn.ariaLabel=ze,cn.hidden=!1,e=Be}q.number=n.getWeekNumber(re.map(we=>we.date),p),q.collapsed="collapsed"===w&&re[0].date.month!==r.number&&re[re.length-1].date.month!==r.number}return r}(n,y,t,i,h.shift()||{}))}),u}(this._calendar,r,i,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);i.months=u,i.firstDate=u[0].firstDate,i.lastDate=u[u.length-1].lastDate,"selectedDate"in t&&!QO(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=r);const h=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,p=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in t||"maxDate"in t||0===i.selectBoxes.years.length||h)&&(i.selectBoxes.years=function rq(n,e,t){if(!n)return[];const i=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-i+1,u=Array(o);for(let h=0;h<o;h++)u[h]=i+h;return u}(i.firstDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||0===i.selectBoxes.months.length||h)&&(i.selectBoxes.months=function iq(n,e,t,i){if(!e)return[];let r=n.getMonths(e.year);if(t&&e.year===t.year){const o=r.findIndex(u=>u===t.month);r=r.slice(o)}if(i&&e.year===i.year){const o=r.findIndex(u=>u===i.month);r=r.slice(0,o+1)}return r}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(p||h||"minDate"in t||"maxDate"in t||"disabled"in t)&&(i.prevDisabled=i.disabled||function sq(n,e,t){const i=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(i.year===t.year&&i.month<t.month||i.year<t.year&&1===t.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function oq(n,e,t){const i=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&i.after(t)}(this._calendar,i.lastDate,i.maxDate))}return i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(JC),a.LFG(eg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var Ay=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(Ay||(Ay={})),Ay))();let pq=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,i){2&t&&a.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[a.jDz],attrs:t9,decls:1,vars:1,template:function(t,i){1&t&&a._uU(0),2&t&&a.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),gq=(()=>{class n{constructor(t,i){this.i18n=t,this._renderer=i,this.select=new a.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Br(this.date.year,co(t),1))}changeYear(t){this.select.emit(new Br(co(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eg),a.Y36(a.Qsj))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,i){if(1&t&&(a.Gf(n9,7,a.SBq),a.Gf(i9,7,a.SBq)),2&t){let r;a.iGM(r=a.CRH())&&(i.monthSelect=r.first),a.iGM(r=a.CRH())&&(i.yearSelect=r.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[a.jDz],decls:6,vars:4,consts:function(){let e,t,i,r;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,r=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",r,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,i){1&t&&(a.TgZ(0,"select",0,1),a.NdJ("change",function(o){return i.changeMonth(o.target.value)}),a.YNc(2,r9,2,3,"option",2),a.qZA(),a.TgZ(3,"select",3,4),a.NdJ("change",function(o){return i.changeYear(o.target.value)}),a.YNc(5,o9,2,2,"option",2),a.qZA()),2&t&&(a.Q6J("disabled",i.disabled),a.xp6(2),a.Q6J("ngForOf",i.months),a.xp6(1),a.Q6J("disabled",i.disabled),a.xp6(2),a.Q6J("ngForOf",i.years))},dependencies:[Vi],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),mq=(()=>{class n{constructor(t){this.i18n=t,this.navigation=Ay,this.months=[],this.navigate=new a.vpe,this.select=new a.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[a.jDz],decls:8,vars:4,consts:function(){let e,t,i,r;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(o){return i.onClickPrev(o)}),a._UZ(2,"span",2),a.qZA()(),a.YNc(3,s9,1,4,"ngb-datepicker-navigation-select",3),a.YNc(4,u9,1,1,null,4),a.TgZ(5,"div",5)(6,"button",6),a.NdJ("click",function(o){return i.onClickNext(o)}),a._UZ(7,"span",2),a.qZA()()),2&t&&(a.xp6(1),a.Q6J("disabled",i.prevDisabled),a.xp6(2),a.Q6J("ngIf",i.showSelect),a.xp6(1),a.Q6J("ngIf",!i.showSelect),a.xp6(2),a.Q6J("disabled",i.nextDisabled))},dependencies:[ai,Vi,gq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Nn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Nn||(Nn={})),Nn))();let _q=(()=>{class n{processKey(t,i){const{state:r,calendar:o}=i;switch(t.which){case Nn.PageUp:i.focusDate(o.getPrev(r.focusedDate,t.shiftKey?"y":"m",1));break;case Nn.PageDown:i.focusDate(o.getNext(r.focusedDate,t.shiftKey?"y":"m",1));break;case Nn.End:i.focusDate(t.shiftKey?r.maxDate:r.lastDate);break;case Nn.Home:i.focusDate(t.shiftKey?r.minDate:r.firstDate);break;case Nn.ArrowLeft:i.focusDate(o.getPrev(r.focusedDate,"d",1));break;case Nn.ArrowUp:i.focusDate(o.getPrev(r.focusedDate,"d",o.getDaysPerWeek()));break;case Nn.ArrowRight:i.focusDate(o.getNext(r.focusedDate,"d",1));break;case Nn.ArrowDown:i.focusDate(o.getNext(r.focusedDate,"d",o.getDaysPerWeek()));break;case Nn.Enter:case Nn.Space:i.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ek=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=nt.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function yq(){return new vq}()},providedIn:"root"}),n})(),vq=(()=>{class n extends tk{fromModel(t){return t&&Wi(t.year)&&Wi(t.month)&&Wi(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Wi(t.year)&&Wi(t.month)&&Wi(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),MV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),nk=(()=>{class n{constructor(t,i,r,o){this.i18n=t,this.datepicker=i,this._keyboardService=r,this._service=o}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eg),a.Y36((0,a.Gpc)(()=>QC)),a.Y36(_q),a.Y36(XO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,i){1&t&&a.NdJ("keydown",function(o){return i.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[a.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(a.YNc(0,f9,3,2,"div",0),a.YNc(1,v9,1,1,"ng-template",1)),2&t&&(a.Q6J("ngIf",i.viewModel.weekdays.length>0),a.xp6(1),a.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[ai,Vi,Sr],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),QC=(()=>{class n{constructor(t,i,r,o,u,h,p,y){this._service=t,this._calendar=i,this.i18n=r,this._elementRef=h,this._ngbDateAdapter=p,this._ngZone=y,this._controlValue=null,this._destroyed$=new oi.x,this._publicState={},this.navigate=new a.vpe,this.dateSelect=new a.vpe,this.onChange=w=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(w=>this[w]=o[w]),t.dateSelect$.pipe(Ri(this._destroyed$)).subscribe(w=>{this.dateSelect.emit(w)}),t.model$.pipe(Ri(this._destroyed$)).subscribe(w=>{const S=w.firstDate,P=this.model?this.model.firstDate:null;this._publicState={maxDate:w.maxDate,minDate:w.minDate,firstDate:w.firstDate,lastDate:w.lastDate,focusedDate:w.focusDate,months:w.months.map(we=>we.firstDate)};let U=!1;if(!S.equals(P)&&(this.navigate.emit({current:P?{year:P.year,month:P.month}:null,next:{year:S.year,month:S.month},preventDefault:()=>U=!0}),U&&null!==P))return void this._service.open(P);const W=w.selectedDate,q=w.focusDate,re=this.model?this.model.focusDate:null;this.model=w,Sy(W,this._controlValue)&&(this._controlValue=W,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(W))),Sy(q,re)&&re&&w.focusVisible&&this.focus(),u.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Br.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Br.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=ao(this._contentEl.nativeElement,"focusin"),i=ao(this._contentEl.nativeElement,"focusout"),{nativeElement:r}=this._elementRef;(0,aL.T)(t,i).pipe(Ai(({target:o,relatedTarget:u})=>!(hV(o,"ngb-dp-day")&&hV(u,"ngb-dp-day")&&r.contains(o)&&r.contains(u))),Ri(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>t[i]=this[i]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(r=>r in t).forEach(r=>i[r]=this[r]),this._service.set(i),"startDate"in t){const{currentValue:r,previousValue:o}=t.startDate;AV(o,r)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Ay.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Ay.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Br.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(XO),a.Y36(JC),a.Y36(eg),a.Y36(ek),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(tk),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,MV,7),2&t){let o;a.iGM(o=a.CRH())&&(i.contentTemplate=o.first)}},viewQuery:function(t,i){if(1&t&&(a.Gf(b9,7),a.Gf(w9,7)),2&t){let r;a.iGM(r=a.CRH())&&(i._defaultDayTemplate=r.first),a.iGM(r=a.CRH())&&(i._contentEl=r.first)}},hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("disabled",i.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[a._Bn([{provide:ss,useExisting:(0,a.Gpc)(()=>n),multi:!0},XO]),a.TTD,a.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,i){if(1&t&&(a.YNc(0,E9,1,5,"ng-template",null,0,a.W1O),a.YNc(2,C9,1,1,"ng-template",null,1,a.W1O),a.TgZ(4,"div",2),a.YNc(5,I9,1,7,"ngb-datepicker-navigation",3),a.qZA(),a.TgZ(6,"div",4,5),a.YNc(8,S9,0,0,"ng-template",6),a.qZA(),a.YNc(9,A9,0,0,"ng-template",6)),2&t){const r=a.MAs(3);a.xp6(5),a.Q6J("ngIf","none"!==i.navigation),a.xp6(1),a.ekj("ngb-dp-months",!i.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||r),a.xp6(1),a.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:[ai,Vi,Sr,pq,nk,mq],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const kV=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function RV(n){const e=Array.from(n.querySelectorAll(kV)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let qV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[QC,nk]}),n})(),sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();class ig{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let Gq=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{Lr(this._zone,this._el.nativeElement,(t,i)=>{i&&Iy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Lr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(a.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),a.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class JV{close(e){}dismiss(e){}}class zq{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new oi.x,this._dismissed=new oi.x,this._hidden=new oi.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ri(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ri(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function dV(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Nt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),MC(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Xw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Xw||(Xw={})),Xw))();let Wq=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new oi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new oi.x,this.hidden=new oi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ty(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=MC(Lr(this._zone,t,()=>t.classList.remove("show"),i),Lr(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};MC(Lr(this._zone,this._elRef.nativeElement,(o,u)=>{u&&Iy(o),o.classList.add("show")},t),Lr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ao(t,"keydown").pipe(Ri(this._closed$),Ai(r=>r.which===Nn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Xw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ao(this._dialogEl.nativeElement,"mousedown").pipe(Ri(this._closed$),ar(()=>i=!1),Tr(()=>ao(t,"mouseup").pipe(Ri(this._closed$),pr(1))),Ai(({target:r})=>t===r)).subscribe(()=>{i=!0}),ao(t,"click").pipe(Ri(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Xw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=RV(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(me),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&a.Gf(x9,7),2&t){let r;a.iGM(r=a.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),a.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),a.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:WC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&t&&a.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),qq=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:u}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zq=(()=>{class n{constructor(t,i,r,o,u,h,p){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=u,this._rendererFactory=h,this._ngZone=p,this._activeWindowCmptHasChanged=new oi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const r=ao(e,"focusin").pipe(Ri(t),(0,Rt.U)(o=>o.target));ao(e,"keydown").pipe(Ri(t),Ai(o=>o.which===Nn.Tab),hO(r)).subscribe(([o,u])=>{const[h,p]=RV(e);(u===h||u===e)&&o.shiftKey&&(p.focus(),o.preventDefault()),u===p&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&ao(e,"click").pipe(Ri(t),hO(r),(0,Rt.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const o=r.container instanceof HTMLElement?r.container:Yp(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new JV,p=(t=r.injector||t).get(a.lqb,null)||this._environmentInjector,y=this._getContentRef(t,p,i,h,r);let w=!1!==r.backdrop?this._attachBackdrop(o):void 0,S=this._attachWindowComponent(o,y.nodes),P=new zq(S,y,w,r.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(S),P.hidden.pipe(pr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=U=>{P.close(U)},h.dismiss=U=>{P.dismiss(U)},this._applyWindowOptions(S.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,r),w.changeDetectorRef.detectChanges()),S.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,a.LMc)(Gq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,a.LMc)(Wq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Yp(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Yp(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,o,u){return r?r instanceof a.Rgc?this._createFromTemplateRef(r,o):Ty(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,u):new ig([])}_createFromTemplateRef(t,i){const o=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(o),new ig([o.rootNodes],o)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new ig([[i]])}_createFromComponent(t,i,r,o,u){const h=a.zs3.create({providers:[{provide:JV,useValue:o}],parent:t}),p=(0,a.LMc)(r,{environmentInjector:i,elementInjector:h}),y=p.location.nativeElement;return u.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(p.hostView),new ig([[y]],p.hostView,p)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG(me),a.LFG(qq),a.LFG(a.FYo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kq=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yq=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(Zq),a.LFG(Kq))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Yq]}),n})();const nZ=({classList:n})=>(n.remove("show"),()=>n.remove("active")),iZ=(n,e)=>{e&&Iy(n),n.classList.add("show")};let ak=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,i){2&t&&(a.Ikx("id",i.item.panelDomId),a.uIk("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),a.ekj("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),t3=(()=>{class n{constructor(t,i){this._cd=t,this._ngZone=i,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Ri(this.nav.destroy$),$l(this._activePane?.item||null),ni(),fO(1)).subscribe(t=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Lr(this._ngZone,this._activePane.elRef.nativeElement,nZ,i).subscribe(()=>{const r=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Lr(this._ngZone,this._activePane.elRef.nativeElement,iZ,i).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(i=>i.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,i){if(1&t&&a.Gf(ak,5),2&t){let r;a.iGM(r=a.CRH())&&(i._panes=r)}},hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[a.jDz],attrs:M9,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&a.YNc(0,R9,1,1,"ng-template",0),2&t&&a.Q6J("ngForOf",i.nav.items)},dependencies:[ak,Vi,ai,Sr],encapsulation:2,changeDetection:0}),n})(),n3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[t3]}),n})(),rZ=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),o3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),s3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),a3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),l3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),c3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),u3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),d3=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new a.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?i=this.maxSize:this.pageCount-this.page<r?t=this.pageCount-this.maxSize:(t=this.page-r-1,i=this.page+(this.maxSize%2==0?r-1:r)),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(t){const i=this.page;this.page=qC(t,this.pageCount,1),this.page!==i&&ir(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),ir(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,r=this.pageCount;[i,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,r),this._applyEllipses(i,r)}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(rZ))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,r3,5),a.Suo(r,o3,5),a.Suo(r,s3,5),a.Suo(r,a3,5),a.Suo(r,l3,5),a.Suo(r,c3,5),a.Suo(r,u3,5)),2&t){let o;a.iGM(o=a.CRH())&&(i.tplEllipsis=o.first),a.iGM(o=a.CRH())&&(i.tplFirst=o.first),a.iGM(o=a.CRH())&&(i.tplLast=o.first),a.iGM(o=a.CRH())&&(i.tplNext=o.first),a.iGM(o=a.CRH())&&(i.tplNumber=o.first),a.iGM(o=a.CRH())&&(i.tplPrevious=o.first),a.iGM(o=a.CRH())&&(i.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[a.TTD,a.jDz],decls:20,vars:12,consts:function(){let e,t,i,r,o,u,h,p;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,i=$localize`:@@ngb.pagination.next:`,r=$localize`:@@ngb.pagination.last:`,o=$localize`:@@ngb.pagination.first-aria:First`,u=$localize`:@@ngb.pagination.previous-aria:Previous`,h=$localize`:@@ngb.pagination.next-aria:Next`,p=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,i,r,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"]]},template:function(t,i){if(1&t&&(a.YNc(0,P9,2,0,"ng-template",null,0,a.W1O),a.YNc(2,F9,2,0,"ng-template",null,1,a.W1O),a.YNc(4,L9,2,0,"ng-template",null,2,a.W1O),a.YNc(6,B9,2,0,"ng-template",null,3,a.W1O),a.YNc(8,U9,1,0,"ng-template",null,4,a.W1O),a.YNc(10,V9,1,1,"ng-template",null,5,a.W1O),a.YNc(12,Z9,1,1,"ng-template",null,6,a.W1O),a.TgZ(14,"ul"),a.YNc(15,Y9,3,9,"li",7),a.YNc(16,X9,3,8,"li",7),a.YNc(17,eW,0,0,"ng-template",8),a.YNc(18,nW,3,9,"li",7),a.YNc(19,rW,3,9,"li",7),a.qZA()),2&t){const r=a.MAs(13);a.xp6(14),a.Tol("pagination"+(i.size?" pagination-"+i.size:"")),a.xp6(1),a.Q6J("ngIf",i.boundaryLinks),a.xp6(1),a.Q6J("ngIf",i.directionLinks),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||r)("ngTemplateOutletContext",a.kEZ(8,oW,i.page,i.pages,i.disabled)),a.xp6(1),a.Q6J("ngIf",i.directionLinks),a.xp6(1),a.Q6J("ngIf",i.boundaryLinks)}},dependencies:[ai,Vi,Sr],encapsulation:2,changeDetection:0}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[d3]}),n})(),p3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),uZ=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dZ=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!ir(t)||t<=0?100:t}get max(){return this._max}getValue(){return qC(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(uZ))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,i){2&t&&(a.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),a.Udp("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[a.jDz],ngContentSelectors:WC,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div"),a.YNc(1,lW,3,3,"span",0),a.Hsn(2),a.qZA()),2&t&&(a.MT6("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),a.Udp("width",i.getPercentValue(),"%"),a.ekj("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),a.xp6(1),a.Q6J("ngIf",i.showValue))},dependencies:[ai,vh],encapsulation:2,changeDetection:0}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[dZ]}),n})(),hZ=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fZ=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(t,i){return`${t} out of ${i}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Nn.ArrowDown:case Nn.ArrowLeft:this.update(this.rate-1);break;case Nn.ArrowUp:case Nn.ArrowRight:this.update(this.rate+1);break;case Nn.Home:this.update(0);break;case Nn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const r=qC(t,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,r)=>i.fill=Math.round(100*qC(t-r,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(hZ),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,a.Rgc,5),2&t){let o;a.iGM(o=a.CRH())&&(i.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&a.NdJ("blur",function(){return i.handleBlur()})("keydown",function(o){return i.handleKeyDown(o)})("mouseleave",function(){return i.reset()}),2&t&&(a.Ikx("tabindex",i.disabled?-1:i.tabindex),a.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText(i.nextRate,i.max))("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[a._Bn([{provide:ss,useExisting:(0,a.Gpc)(()=>n),multi:!0}]),a.TTD,a.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(a.YNc(0,cW,1,1,"ng-template",null,0,a.W1O),a.YNc(2,dW,4,5,"ng-template",1)),2&t&&(a.xp6(2),a.Q6J("ngForOf",i.contexts))},dependencies:[Vi,Sr],encapsulation:2,changeDetection:0}),n})(),m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fZ]}),n})();class _3{constructor(e,t,i){this.hour=co(e),this.minute=co(t),this.second=co(i)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=ir(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){ir(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){ir(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return ir(this.hour)&&ir(this.minute)&&(!e||ir(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let pZ=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function gZ(){return new mZ}()},providedIn:"root"}),n})(),mZ=(()=>{class n extends y3{fromModel(t){return t&&Wi(t.hour)&&Wi(t.minute)?{hour:t.hour,minute:t.minute,second:Wi(t.second)?t.second:null}:null}toModel(t){return t&&Wi(t.hour)&&Wi(t.minute)?{hour:t.hour,minute:t.minute,second:Wi(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function _Z(n){return new yZ(n)}(a.LFG(a.soG)),i},providedIn:"root"}),n})(),yZ=(()=>{class n extends v3{constructor(t){super(),this._periods=Se(t,Et.Standalone,nt.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const vZ=/[^0-9]/g;let bZ=(()=>{class n{constructor(t,i,r,o){this._config=t,this._ngbTimeAdapter=i,this._cd=r,this.i18n=o,this.onChange=u=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Wi(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Wi(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Wi(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const i=this._ngbTimeAdapter.fromModel(t);this.model=i?new _3(i.hour,i.minute,i.second):new _3,!this.seconds&&(!i||!ir(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const i=!!this.model&&this.model.hour>=12,r=co(t);this.model?.updateHour(this.meridian&&(i&&r<12||!i&&12===r)?r+12:r),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(co(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(co(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(vZ,"")}formatHour(t){return ir(t)?Cy(this.meridian?t%12==0?12:t%12:t%24):Cy(NaN)}formatMinSec(t){return Cy(ir(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!ir(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(pZ),a.Y36(y3),a.Y36(a.sBO),a.Y36(v3))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[a._Bn([{provide:ss,useExisting:(0,a.Gpc)(()=>n),multi:!0}]),a.TTD,a.jDz],decls:16,vars:25,consts:function(){let e,t,i,r,o,u,h,p,y,w,S,P,U,W;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,r=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,u=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,h=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,p=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,y=$localize`:@@ngb.timepicker.SS:SS`,w=$localize`:@@ngb.timepicker.seconds:Seconds`,S=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,P=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,U=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,W=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",r,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],u,h,p,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",y,"aria-label",w,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],S,P,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],U,W]},template:function(t,i){1&t&&(a.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),a.YNc(3,hW,4,7,"button",3),a.TgZ(4,"input",4),a.NdJ("change",function(o){return i.updateHour(o.target.value)})("blur",function(){return i.handleBlur()})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeHour(i.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeHour(-i.hourStep),o.preventDefault()}),a.qZA(),a.YNc(5,fW,4,7,"button",3),a.qZA(),a.TgZ(6,"div",5),a._uU(7,":"),a.qZA(),a.TgZ(8,"div",6),a.YNc(9,pW,4,7,"button",3),a.TgZ(10,"input",7),a.NdJ("change",function(o){return i.updateMinute(o.target.value)})("blur",function(){return i.handleBlur()})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeMinute(i.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeMinute(-i.minuteStep),o.preventDefault()}),a.qZA(),a.YNc(11,gW,4,7,"button",3),a.qZA(),a.YNc(12,mW,2,0,"div",8),a.YNc(13,vW,4,9,"div",9),a.YNc(14,bW,1,0,"div",8),a.YNc(15,DW,5,9,"div",10),a.qZA()()),2&t&&(a.ekj("disabled",i.disabled),a.Q6J("disabled",i.disabled),a.xp6(3),a.Q6J("ngIf",i.spinners),a.xp6(1),a.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),a.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),a.xp6(1),a.Q6J("ngIf",i.spinners),a.xp6(4),a.Q6J("ngIf",i.spinners),a.xp6(1),a.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),a.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),a.xp6(1),a.Q6J("ngIf",i.spinners),a.xp6(1),a.Q6J("ngIf",i.seconds),a.xp6(1),a.Q6J("ngIf",i.seconds),a.xp6(1),a.Q6J("ngIf",i.meridian),a.xp6(1),a.Q6J("ngIf",i.meridian))},dependencies:[ai],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),b3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[bZ]}),n})();const wZ=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Iy(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},EZ=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let DZ=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),CZ=(()=>{class n{constructor(t,i,r,o){this.ariaLive=t,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new a.vpe,this.hidden=new a.vpe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Lr(this._zone,this._element.nativeElement,EZ,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Lr(this._zone,this._element.nativeElement,wZ,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(a.$8M("aria-live"),a.Y36(DZ),a.Y36(a.R0b),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,TZ,7,a.Rgc),2&t){let o;a.iGM(o=a.CRH())&&(i.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,i){2&t&&(a.uIk("aria-live",i.ariaLive),a.ekj("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:WC,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(a.F$t(),a.YNc(0,TW,2,1,"ng-template",null,0,a.W1O),a.YNc(2,IW,3,1,"ng-template",1),a.TgZ(3,"div",2),a.Hsn(4),a.qZA()),2&t&&(a.xp6(2),a.Q6J("ngIf",i.contentHeaderTpl||i.header))},dependencies:[ai,Sr],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),w3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[CZ]}),n})(),E3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),IZ=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=uV(this.result),r=Array.isArray(this.term)?this.term:[this.term],o=y=>this.accentSensitive?y:fV(y),u=r.map(y=>function OW(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(uV(y)))).filter(y=>y),h=this.accentSensitive?i:fV(i),p=u.length?h.split(new RegExp(`(${u.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=p;else{let y=0;this.parts=p.map(w=>i.substring(y,y+=w.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[a.TTD,a.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,i){1&t&&a.YNc(0,xW,3,2,"ng-template",0),2&t&&a.Q6J("ngForOf",i.parts)},dependencies:[ai,Vi],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new a.OlP("live announcer delay",{providedIn:"root",factory:function SZ(){return 100}});let D3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[IZ]}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const AZ=[DV,TV,IV,SV,qV,YV,QV,n3,T3,h3,p3,g3,m3,b3,w3,E3,D3];let xZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[AZ,DV,TV,IV,SV,qV,YV,QV,n3,T3,h3,p3,g3,m3,b3,w3,E3,D3]}),n})();function MZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",19),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.relogin())}),a._uU(1,"Ingresar"),a.qZA()}}function NZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",26),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.reg())}),a._uU(1,"Registrarse"),a.qZA()}}function OZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",26),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.logout())}),a._uU(1,"Salir"),a.qZA()}}let kZ=(()=>{class n{constructor(t,i){this._login=t,this._router=i,this.title=this._login.usuarioActivo,""==localStorage.getItem("nombre")?(console.log(i.url),i.navigate(["login"])):(t.reloadNom(),i.navigate(["home"]))}logout(){try{this._login.logout(),localStorage.setItem("nombre",""),this._router.navigate(["login"])}catch{}}reg(){this._router.navigate(["registro"])}quiensoy(){this._router.navigate(["quienSoy"])}relogin(){this._router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ON),a.Y36(Eo))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:34,vars:4,consts:[[1,"bgimg"],["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","check2","viewBox","0 0 16 16"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],["id","circle-half","viewBox","0 0 16 16"],["d","M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"],["id","moon-stars-fill","viewBox","0 0 16 16"],["d","M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"],["d","M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"],["id","sun-fill","viewBox","0 0 16 16"],["d","M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"],[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item",2,"padding-left","100px"],[1,"btn","btn-secondary","btn-small","navbar-btn",3,"click"],[1,"nav","navbar-nav","navbar-right"],[2,"padding-right","15px"],[1,"btn-nav"],["class","btn btn-secondary btn-small navbar-btn",3,"click",4,"ngIf"],["class","btn btn-primary btn-small navbar-btn",3,"click",4,"ngIf"],[1,"container"],[1,"btn","btn-primary","btn-small","navbar-btn",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"body",0),a.O4$(),a.TgZ(1,"svg",1)(2,"symbol",2),a._UZ(3,"path",3),a.qZA(),a.TgZ(4,"symbol",4),a._UZ(5,"path",5),a.qZA(),a.TgZ(6,"symbol",6),a._UZ(7,"path",7)(8,"path",8),a.qZA(),a.TgZ(9,"symbol",9),a._UZ(10,"path",10),a.qZA()(),a.kcU(),a.TgZ(11,"nav",11)(12,"div",12)(13,"a",13),a._uU(14),a.qZA(),a.TgZ(15,"button",14),a._UZ(16,"span",15),a.qZA(),a.TgZ(17,"div",16)(18,"ul",17)(19,"li",18)(20,"a",19),a.NdJ("click",function(){return i.quiensoy()}),a._uU(21,"Quien Soy"),a.qZA()()(),a.TgZ(22,"ul",20)(23,"li",21)(24,"div",22),a.YNc(25,MZ,2,0,"a",23),a.qZA()(),a.TgZ(26,"li")(27,"div",22),a.YNc(28,NZ,2,0,"a",24),a.qZA(),a.TgZ(29,"div",22),a.YNc(30,OZ,2,0,"a",24),a.qZA()()()()()(),a.TgZ(31,"main",25),a._UZ(32,"router-outlet"),a.qZA()(),a._UZ(33,"br")),2&t&&(a.xp6(14),a.Oqu(i._login.usuarioActivo),a.xp6(11),a.Q6J("ngIf","Sala de Juegos"==i._login.usuarioActivo),a.xp6(3),a.Q6J("ngIf","Sala de Juegos"==i._login.usuarioActivo),a.xp6(2),a.Q6J("ngIf","Sala de Juegos"!=i._login.usuarioActivo))},dependencies:[ai,JN,sk],styles:["body[_ngcontent-%COMP%]{padding-top:3.5rem}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}.bgimg[_ngcontent-%COMP%]{----background:#fff url(mainBG.cd90df0fb64929e8.jpg) 100/100 no-repeat}body[_ngcontent-%COMP%]{background-image:url(mainBG.cd90df0fb64929e8.jpg);background-repeat:no-repeat,repeat;background-color:#edeef0;background-position:center;background-size:cover}"]}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:34,vars:0,consts:[[1,"container"],[1,"card-deck","mb-3","text-center"],[1,"card","mb-4","shadow-sm"],[1,"card-header"],[1,"my-0","font-weight-normal"],[1,"card-body"],["src","assets/gameicons/ahorcado.png",2,"height","200px","padding-right","50px"],["type","button",1,"btn","btn-lg","btn-block","btn-primary"],["src","assets/gameicons/mayormenor.png",2,"height","200px","padding-right","50px"],["src","assets/gameicons/preguntado.png",2,"height","200px","padding-right","50px"],["src","assets/gameicons/punteria.png",2,"height","200px","padding-right","50px"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),a._uU(5,"Ahorcado"),a.qZA()(),a.TgZ(6,"div",5),a._UZ(7,"img",6),a.TgZ(8,"button",7),a._uU(9,"Empezar"),a.qZA()()(),a.TgZ(10,"div",2)(11,"div",3)(12,"h4",4),a._uU(13,"Mayor o Menor"),a.qZA()(),a.TgZ(14,"div",5),a._UZ(15,"img",8),a.TgZ(16,"button",7),a._uU(17,"Empezar"),a.qZA()()(),a.TgZ(18,"div",2)(19,"div",3)(20,"h4",4),a._uU(21,"Preguntado"),a.qZA()(),a.TgZ(22,"div",5),a._UZ(23,"img",9),a.TgZ(24,"button",7),a._uU(25,"Empezar"),a.qZA()()(),a.TgZ(26,"div",2)(27,"div",3)(28,"h4",4),a._uU(29,"Punter\xeda"),a.qZA()(),a.TgZ(30,"div",5),a._UZ(31,"img",10),a.TgZ(32,"button",7),a._uU(33,"Empezar"),a.qZA()()()()())},styles:["html[_ngcontent-%COMP%]{font-size:14px}@media (min-width: 768px){html[_ngcontent-%COMP%]{font-size:16px}}.container[_ngcontent-%COMP%]{max-width:960px}.pricing-header[_ngcontent-%COMP%]{max-width:700px}.card-deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:220px}"]}),n})();var RZ=$(5226),Ny=$.n(RZ);let lk;try{lk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lk=!1}let t1,ck,Oy=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Co(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sI(n){return function PZ(){if(null==t1&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>t1=!0}))}finally{t1=t1||!1}return t1}()?n:!!n.capture}function Ry(n){return n.composedPath?n.composedPath()[0]:n.target}function S3(n){return null!=n&&"false"!=`${n}`}function A3(n){return Array.isArray(n)?n:[n]}function n1(n){return n instanceof a.SBq?n.nativeElement:n}const x3=new Set;let Py,WZ=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZZ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function qZ(n){if(!x3.has(n))try{Py||(Py=document.createElement("style"),Py.setAttribute("type","text/css"),document.head.appendChild(Py)),Py.sheet&&(Py.sheet.insertRule(`@media ${n} {body{ }}`,0),x3.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Oy))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZZ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let KZ=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new oi.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return M3(A3(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=_w(M3(A3(t)).map(u=>this._registerQuery(u).observable));return o=Nd(o.pipe(pr(1)),o.pipe(fO(1),function zZ(n,e=Ff){return(0,tr.e)((t,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function p(){const y=u+n,w=e.now();if(w<y)return r=this.schedule(void 0,y-w),void i.add(r);h()}t.subscribe((0,gi.x)(i,y=>{o=y,u=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe((0,Rt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:p,query:y})=>{h.matches=h.matches||p,h.breakpoints[y]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Wn.y(u=>{const h=p=>this._zone.run(()=>u.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe($l(i),(0,Rt.U)(({matches:u})=>({query:t,matches:u})),Ri(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(WZ),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function R3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function P3(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const iK=new a.OlP("cdk-input-modality-detector-options"),rK={ignoreKeys:[18,17,224,91,16]},Fy=sI({passive:!0,capture:!0});let oK=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Fr(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ry(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(R3(u)?"keyboard":"mouse"),this._mostRecentTarget=Ry(u))},this._onTouchstart=u=>{P3(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ry(u))},this._options={...rK,...o},this.modalityDetected=this._modality.pipe(fO(1)),this.modalityChanged=this.modalityDetected.pipe(ni()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Fy),r.addEventListener("mousedown",this._onMousedown,Fy),r.addEventListener("touchstart",this._onTouchstart,Fy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fy),document.removeEventListener("mousedown",this._onMousedown,Fy),document.removeEventListener("touchstart",this._onTouchstart,Fy))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Oy),a.LFG(a.R0b),a.LFG(me),a.LFG(iK,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aK=new a.OlP("cdk-focus-monitor-default-options"),lI=sI({passive:!0,capture:!0});let lK=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new oi.x,this._rootNodeFocusAndBlurListener=h=>{for(let y=Ry(h);y;y=y.parentElement)"focus"===h.type?this._onFocus(h,y):this._onBlur(h,y)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=n1(t);if(!this._platform.isBrowser||1!==r.nodeType)return Nt(null);const o=function LZ(n){if(function FZ(){if(null==ck){const n=typeof document<"u"?document.head:null;ck=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ck}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new oi.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=n1(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=n1(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Ry(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,lI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,lI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ri(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Oy),a.LFG(oK),a.LFG(me,8),a.LFG(aK,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L3="cdk-high-contrast-black-on-white",B3="cdk-high-contrast-white-on-black",uk="cdk-high-contrast-active";let cK=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,a.f3M)(KZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(uk,L3,B3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(uk,L3):2===i&&t.add(uk,B3)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Oy),a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const fK=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function hK(){return!0}});let cI=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function BZ(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(cK),a.LFG(fK,8),a.LFG(me))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[U3,U3]}),n})();function pK(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=S3(e)}constructor(...e){super(...e),this._disabled=!1}}}function gK(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function mK(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=S3(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class yK{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $3=sI({passive:!0,capture:!0});class vK{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ry(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,$3)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,$3)))}}const H3={enterDuration:225,exitDuration:150},G3=sI({passive:!0,capture:!0}),z3=["mousedown","touchstart"],W3=["mouseup","mouseleave","touchend","touchcancel"];class o1{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=n1(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...H3,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function wK(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,y=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-u+"px",w.style.top=p-u+"px",w.style.height=2*u+"px",w.style.width=2*u+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w);const S=window.getComputedStyle(w),U=S.transitionDuration,W="none"===S.transitionProperty||"0s"===U||"0s, 0s"===U||0===r.width&&0===r.height,q=new yK(this,w,i,W);w.style.transform="scale3d(1, 1, 1)",q.state=0,i.persistent||(this._mostRecentTransientRipple=q);let re=null;return!W&&(y||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const we=()=>this._finishRippleTransition(q),Ae=()=>this._destroyRipple(q);w.addEventListener("transitionend",we),w.addEventListener("transitioncancel",Ae),re={onTransitionEnd:we,onTransitionCancel:Ae}}),this._activeRipples.set(q,re),(W||!y)&&this._finishRippleTransition(q),q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...H3,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=n1(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,z3.forEach(i=>{o1._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{W3.forEach(t=>{this._triggerElement.addEventListener(t,this,G3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=R3(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!P3(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(z3.forEach(t=>o1._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&W3.forEach(t=>e.removeEventListener(t,this,G3)))}}o1._eventManager=new vK;const EK=new a.OlP("mat-ripple-global-options");let q3=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new o1(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Oy),a.Y36(EK,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),DK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cI,cI]}),n})();const TK=["mat-button",""],CK=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],IK=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],SK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],AK=gK(pK(mK(class{constructor(n){this._elementRef=n}})));let xK=(()=>{class n extends AK{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,a.f3M)(lK),this._isFab=!1;const u=t.nativeElement.classList;for(const h of SK)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(p=>{u.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(q3,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},features:[a.qOj]}),n})(),Z3=(()=>{class n extends xK{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Oy),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:TK,ngContentSelectors:IK,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(a.F$t(CK),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[q3],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),OK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cI,DK,cI]}),n})();function kK(n,e){1&n&&(a.TgZ(0,"small",25),a._uU(1," El email es requerido "),a.qZA())}function RK(n,e){1&n&&(a.TgZ(0,"small",25),a._uU(1," El email no es valido "),a.qZA())}function PK(n,e){1&n&&(a.TgZ(0,"small",25),a._uU(1," La contrse\xf1a es requerida "),a.qZA())}function FK(n,e){1&n&&(a.TgZ(0,"small",25),a._uU(1," Contrase\xf1a no valida "),a.qZA())}let LK=(()=>{class n{constructor(t,i,r){this.fb=t,this._router=i,this._login=r,this.mail="",this.pass="",this.forma=this.fb.group({password:["",[Ka.required,Ka.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")]],email:["",[Ka.required,Ka.email]]})}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}login(){var t=this;return(0,X.Z)(function*(){(yield t._login.loginService(t.forma.value.email,t.forma.value.password))?(Ny().fire({title:"\xc9xito!",text:"Ingreso exitoso. Bienvenido "+t.mail,icon:"success",confirmButtonText:"OK!"}),console.log(t._login.loggedUser),t._router.navigate(["home"])):Ny().fire({title:"Error!",text:"Correo o contrase\xf1a incorrectos",icon:"error",confirmButtonText:"Reintentar!"})})()}loadUser(t){switch(t){case 1:this.mail="owain.ozana@gmail.com",this.pass="748159263aaAA";break;case 2:this.mail="nikandros@gmail.com",this.pass="12546789AbcD";break;case 3:this.mail="leonidasduri@outlook.com",this.pass="789456123aaBB"}}reg(){this._router.navigate(["registro"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qU),a.Y36(Eo),a.Y36(ON))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:52,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-5","mx-auto"],["id","first"],[1,"myform","form"],[1,"logo","mb-3"],[1,"col-md-12","text-center"],["src","assets/juegosicon.png","alt","",2,"width","300px"],["action","","method","post","name","login",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","name","email","id","email","aria-describedby","emailHelp","placeholder","Ingrese el correo","formControlName","email",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid",4,"ngIf"],["type","password","name","password","id","password","aria-describedby","emailHelp","placeholder","Ingrese la contrase\xf1a","formControlName","password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-block","mybtn","btn-primary","tx-tfm",3,"disabled"],[1,"col-md-12"],[1,"login-or"],[1,"hr-or"],[1,"col-md-12","mb-3"],[1,"text-center"],["href","javascript:void();",1,"google","btn","mybtn"],[1,"fa","fa-google-plus"],["id","signup",2,"color","blue",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"invalid"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),a._UZ(7,"br")(8,"br")(9,"img",7),a.TgZ(10,"h1"),a._uU(11,"Ingresar"),a.qZA()()(),a.TgZ(12,"form",8),a.NdJ("ngSubmit",function(){return i.login()}),a.TgZ(13,"div",9)(14,"label",10),a._uU(15,"Correo"),a.qZA(),a.TgZ(16,"input",11),a.NdJ("ngModelChange",function(o){return i.mail=o}),a.qZA(),a.YNc(17,kK,2,0,"small",12),a.YNc(18,RK,2,0,"small",12),a.qZA(),a.TgZ(19,"div",9)(20,"label",10),a._uU(21,"Contrase\xf1a"),a.qZA(),a.TgZ(22,"input",13),a.NdJ("ngModelChange",function(o){return i.pass=o}),a.qZA(),a.YNc(23,PK,2,0,"small",12),a.YNc(24,FK,2,0,"small",12),a.qZA(),a.TgZ(25,"div",9),a._UZ(26,"br"),a.qZA(),a.TgZ(27,"div",6)(28,"button",14),a._uU(29,"ingresar"),a.qZA()(),a.TgZ(30,"div",15)(31,"div",16),a._UZ(32,"hr",17),a.qZA()(),a.TgZ(33,"div",18)(34,"p",19)(35,"a",20),a._UZ(36,"i",21),a.qZA()()(),a.TgZ(37,"div",9)(38,"p",19),a._uU(39,"\xbfSin cuenta? "),a.TgZ(40,"a",22),a.NdJ("click",function(){return i.reg()}),a._uU(41,"Registrese aqu\xed"),a.qZA()()()(),a.TgZ(42,"tr")(43,"td")(44,"button",23),a.NdJ("click",function(){return i.loadUser(1)}),a._uU(45,"Usuario valido 1"),a.qZA()(),a.TgZ(46,"td")(47,"button",23),a.NdJ("click",function(){return i.loadUser(3)}),a._uU(48,"Usuario valido 2"),a.qZA()(),a.TgZ(49,"td")(50,"button",24),a.NdJ("click",function(){return i.loadUser(2)}),a._uU(51,"Usuario no registrado"),a.qZA()()()()()()()()),2&t&&(a.xp6(12),a.Q6J("formGroup",i.forma),a.xp6(4),a.Q6J("ngModel",i.mail),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.email.errors?null:i.forma.controls.email.errors.required)&&i.forma.controls.email.touched),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.email.errors?null:i.forma.controls.email.errors.email)&&i.forma.controls.email.touched),a.xp6(4),a.Q6J("ngModel",i.pass),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.password.errors?null:i.forma.controls.password.errors.required)&&i.forma.controls.password.touched),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.password.errors?null:i.forma.controls.password.errors.pattern)&&i.forma.controls.password.touched),a.xp6(4),a.Q6J("disabled",i.forma.invalid))},dependencies:[ai,Z3,xO,Rw,_O,yO,$w,jC],styles:[".invalid[_ngcontent-%COMP%]{color:red}.formulario[_ngcontent-%COMP%]   div[class^=col-md-][_ngcontent-%COMP%]{height:90px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;max-width:600px}"]}),n})();function BK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(3);return a.KtG(r.startGame())}),a._uU(1,"Reiniciar"),a.qZA()}}function UK(n,e){1&n&&(a.TgZ(0,"div",30),a._uU(1," click "),a._UZ(2,"br"),a._uU(3," ac\xe1 "),a.qZA())}const K3=function(n,e){return{left:n,top:e}};function VK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",24)(1,"button",25),a._uU(2),a.qZA(),a.TgZ(3,"button",25),a._uU(4),a.qZA(),a.YNc(5,BK,2,0,"button",26),a.TgZ(6,"div",27)(7,"div",28),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.shoot())}),a.YNc(8,UK,4,0,"div",29),a.qZA()()()}if(2&n){const t=a.oxw(2);a.xp6(2),a.hij("Puntaje: ",t.puntaje,""),a.xp6(2),a.hij("Tiempo: ",t.counter,""),a.xp6(1),a.Q6J("ngIf",!t.gameactive&&0==t.counter),a.xp6(2),a.Q6J("ngStyle",a.WLB(5,K3,t.padrighr+"px",t.padtop+"px")),a.xp6(1),a.Q6J("ngIf",0==t.puntaje)}}function jK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",17)(1,"div",18)(2,"h4",19),a._uU(3,"Juego propio: Punter\xeda"),a.qZA()(),a.TgZ(4,"div",20)(5,"div"),a._UZ(6,"img",21)(7,"br"),a._uU(8," Un juego de reflejos basado en ir haciendo click a un objetivo que se mueve aleatoriamnete en el \xe1rea de juego la mayor cantidad de veces posibles en 30 segundos. Cada click en el objetivo cuenta como un punto "),a.qZA(),a._UZ(9,"br"),a.TgZ(10,"button",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.showGame())}),a._uU(11," Click ac\xe1 para una demo que hice en media hora "),a.qZA(),a._UZ(12,"br")(13,"br"),a.YNc(14,VK,9,8,"div",23),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(14),a.Q6J("ngIf",t.showgame)}}function $K(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",33),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.startGame())}),a._uU(1,"Reiniciar"),a.qZA()}}function HK(n,e){1&n&&(a.TgZ(0,"div",30),a._uU(1," click "),a._UZ(2,"br"),a._uU(3," ac\xe1 "),a.qZA())}function GK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",31)(1,"div",18)(2,"h4",19),a._uU(3,"Juego propio: Punter\xeda"),a.qZA()(),a.TgZ(4,"div",20)(5,"div")(6,"button",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.showGame())}),a._uU(7," Click ac\xe1 para esconder la demo "),a.qZA(),a._UZ(8,"br")(9,"br"),a.TgZ(10,"div",24)(11,"button",25),a._uU(12),a.qZA(),a.TgZ(13,"button",25),a._uU(14),a.qZA(),a.YNc(15,$K,2,0,"button",32),a.TgZ(16,"div",27)(17,"div",28),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.shoot())}),a.YNc(18,HK,4,0,"div",29),a.qZA()()()()()()}if(2&n){const t=a.oxw();a.xp6(12),a.hij("Puntaje: ",t.puntaje,""),a.xp6(2),a.hij("Tiempo: ",t.counter,""),a.xp6(1),a.Q6J("ngIf",!t.gameactive&&t.counter<=0),a.xp6(2),a.Q6J("ngStyle",a.WLB(5,K3,t.padrighr+"px",t.padtop+"px")),a.xp6(1),a.Q6J("ngIf",0==t.puntaje)}}function zK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.mostrarLog())}),a._uU(1," Mostrar log "),a.qZA()}}function WK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.mostrarLog())}),a._uU(1," Ocultar log "),a.qZA()}}function qK(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div",35)(2,"div",36),a._uU(3),a.qZA(),a.TgZ(4,"div",36),a._uU(5),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.nombre),a.xp6(2),a.Oqu(t.hora)}}function ZK(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div",35)(2,"div",36),a._uU(3,"Usuario"),a.qZA(),a.TgZ(4,"div",36),a._uU(5,"Hora"),a.qZA()(),a.YNc(6,qK,6,2,"div",37),a.qZA()),2&n){const t=a.oxw(2);a.xp6(6),a.Q6J("ngForOf",t.fdb.logcol)}}function KK(n,e){if(1&n&&(a.TgZ(0,"div",17)(1,"div",18)(2,"h4",19),a._uU(3,"Log de usuarios"),a.qZA()(),a.TgZ(4,"div",20)(5,"div"),a._uU(6," No ten\xeda donde mostrarlo as\xed que lo puse ac\xe1 "),a.qZA(),a._UZ(7,"br"),a.YNc(8,zK,2,0,"button",26),a.YNc(9,WK,2,0,"button",26),a._UZ(10,"br")(11,"br"),a.YNc(12,ZK,7,1,"div",34),a.qZA()()),2&n){const t=a.oxw();a.xp6(8),a.Q6J("ngIf",!t.showgrid),a.xp6(1),a.Q6J("ngIf",t.showgrid),a.xp6(3),a.Q6J("ngIf",t.showgrid)}}let YK=(()=>{class n{constructor(t){this.fdb=t,this.padrighr=0,this.padtop=0,this.puntaje=0,this.showgame=!1,this.counter=30,this.gameactive=!1,this.showgrid=!1,t.traerLog()}right(){}showGame(){this.showgame?this.showgame=!1:(this.showgame=!0,this.showgrid=!1,this.startGame())}startGame(){this.padrighr=0,this.padtop=0,this.puntaje=0,this.counter=30,this.gameactive=!0;let t=setInterval(()=>{this.counter=this.counter-1,this.counter<=0&&(clearInterval(t),this.gameactive=!1)},1e3)}shoot(){this.gameactive&&(this.puntaje+=1,this.padrighr=540*Math.random()+0,this.padtop=540*Math.random()+0)}mostrarLog(){this.showgrid?this.showgrid=!1:(this.showgrid=!0,this.showgame=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(CL))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-quien-soy"]],decls:22,vars:3,consts:[[1,"bg-white"],[1,"m-0"],[1,"container"],[1,"text-center","py-5"],["src","https://github.com/PerezJoaquin.png","alt","",1,"ui-w-100","rounded-circle"],[1,"col-md-8","col-lg-6","col-xl-5","p-0","mx-auto"],[1,"font-weight-bold","my-4"],[1,"text-muted","mb-4"],[1,"text-center"],["href","#",1,"btn","icon-btn","borderless","btn-outline-twitter","btn-lg","btn-round"],[1,"ion","ion-logo-twitter"],["href","#",1,"btn","icon-btn","borderless","btn-outline-facebook","btn-lg","btn-round"],[1,"ion","ion-logo-facebook"],["href","#",1,"btn","icon-btn","borderless","btn-outline-instagram","btn-lg","btn-round"],[1,"ion","ion-logo-instagram"],["class","card mb-4 shadow-sm",4,"ngIf"],["class","card mb-4 shadow-sm","style","height:850px",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-header"],[1,"my-0","font-weight-normal"],[1,"card-body"],["src","assets/gameicons/punteria.png",2,"height","200px","padding-right","50px"],["type","button",1,"btn","btn-lg","btn-block","btn-primary",3,"click"],["style","padding-bottom: 100px;",4,"ngIf"],[2,"padding-bottom","100px"],["type","button",1,"btn","btn-lg","btn-block","btn-primary"],["type","button","class","btn btn-lg btn-block btn-primary",3,"click",4,"ngIf"],[2,"background-color","lightblue","position","absolute","width","600px","height","600px"],[2,"background-color","grey","position","relative","left","300px","width","60px","height","60px",3,"ngStyle","click"],["style","color:white;padding-left: 15px;",4,"ngIf"],[2,"color","white","padding-left","15px"],[1,"card","mb-4","shadow-sm",2,"height","850px"],["type","button","class","btn btn-lg btn-block btn-warning",3,"click",4,"ngIf"],["type","button",1,"btn","btn-lg","btn-block","btn-warning",3,"click"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-4","themed-grid-col"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"hr",1),a.TgZ(2,"div",2)(3,"div",3),a._UZ(4,"img",4),a.TgZ(5,"div",5)(6,"h4",6),a._uU(7,"Joaqu\xedn Omar P\xe9rez"),a.qZA(),a.TgZ(8,"div",7),a._uU(9," Estudiante de programaci\xf3n "),a.qZA()(),a.TgZ(10,"div",8)(11,"a",9),a._UZ(12,"span",10),a.qZA(),a.TgZ(13,"a",11),a._UZ(14,"span",12),a.qZA(),a.TgZ(15,"a",13),a._UZ(16,"span",14),a.qZA()()()(),a._UZ(17,"hr",1),a.TgZ(18,"div"),a.YNc(19,jK,15,1,"div",15),a.YNc(20,GK,19,8,"div",16),a.YNc(21,KK,13,3,"div",15),a.qZA()()),2&t&&(a.xp6(19),a.Q6J("ngIf",!i.showgame&&!i.showgrid),a.xp6(1),a.Q6J("ngIf",i.showgame&&!i.showgrid),a.xp6(1),a.Q6J("ngIf",!i.showgame))},dependencies:[Vi,ai,Wo],styles:[".text-white[_ngcontent-%COMP%]{color:#fff!important}.ui-bg-overlay-container[_ngcontent-%COMP%], .ui-bg-video-container[_ngcontent-%COMP%]{position:relative}.ui-bg-cover[_ngcontent-%COMP%]{background-color:transparent;background-position:center center;background-size:cover}.ui-bg-overlay-container[_ngcontent-%COMP%]   .ui-bg-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}.opacity-50[_ngcontent-%COMP%]{opacity:.5!important}.bg-dark[_ngcontent-%COMP%]{background-color:#181c21e6!important}.ui-bg-overlay-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .ui-bg-video-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative}@media (min-width: 992px){.container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{padding-right:2rem;padding-left:2rem}}.media[_ngcontent-%COMP%], .media[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.media-body), .jumbotron[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{flex-shrink:1}.d-flex[_ngcontent-%COMP%], .d-inline-flex[_ngcontent-%COMP%], .media[_ngcontent-%COMP%], .media[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.media-body), .jumbotron[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{flex-shrink:1}.ui-w-100[_ngcontent-%COMP%]{width:100px!important;height:auto}.font-weight-bold[_ngcontent-%COMP%]{font-weight:700!important}.opacity-75[_ngcontent-%COMP%]{opacity:.75!important}.tabs-alt.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .tabs-alt.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:hover, .tabs-alt.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:focus, .tabs-alt[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .tabs-alt[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:hover, .tabs-alt[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:focus{box-shadow:0 -2px #26b4ff inset}.nav-tabs[_ngcontent-%COMP%]:not(.nav-fill):not(.nav-justified)   .nav-link[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]:not(.nav-fill):not(.nav-justified)   .nav-link[_ngcontent-%COMP%]{margin-right:.125rem}.nav-tabs.tabs-alt[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .tabs-alt[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-width:0!important;border-radius:0!important;background-color:transparent!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-bottom-color:#fff}.themed-grid-col[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;background-color:#563d7c26;border:1px solid rgba(86,61,124,.2)}.themed-container[_ngcontent-%COMP%]{padding:15px;margin-bottom:30px;background-color:#007bff26;border:1px solid rgba(0,123,255,.2)}"]}),n})();function JK(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," El email es requerido "),a.qZA())}function QK(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," El email no es valido "),a.qZA())}function XK(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," El nombre es requerido "),a.qZA())}function eY(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," El nombre no puede contener espacios "),a.qZA())}function tY(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," La contrse\xf1a es requerida "),a.qZA())}function nY(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," Contrase\xf1a no valida "),a.qZA())}function iY(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," Repita su contrase\xf1a "),a.qZA())}function rY(n,e){1&n&&(a.TgZ(0,"small",27),a._uU(1," Las contrase\xf1as no coinciden "),a.qZA())}const oY=[{path:"home",component:C3},{path:"login",component:LK},{path:"quienSoy",component:YK},{path:"registro",component:(()=>{class n{constructor(t,i,r){this.fb=t,this._router=i,this._login=r,this.mail="",this.pass="",this.nombre="",this.repass="",this.forma=this.fb.group({password:["",[Ka.required,Ka.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")]],repassword:["",[Ka.required,Ka.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")]],email:["",[Ka.required,Ka.email]],nombre:["",[Ka.required,this.spacesValidator]]})}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}registrar(){var t=this;return(0,X.Z)(function*(){(yield t._login.registrarUser(t.forma.value))?(Ny().fire({title:"\xc9xito!",text:"Registro exitoso. Volviendo al ingreso",icon:"success",confirmButtonText:"OK!"}),t.login()):Ny().fire({title:"Error!",text:"El correo ingresado ya est\xe1 en uso. Ingrese un nuevo correo",icon:"error",confirmButtonText:"Reintentar!"})})()}loadUser(t){switch(t){case 1:this.mail="owain.ozana@gmail.com",this.pass="748159263aaAA",this.nombre="Owain";break;case 2:this.mail="Karel@gmail.com",this.pass="12546789AbcD",this.nombre="Nitya";break;case 3:this.mail="Pallabi@yahoo.com",this.pass="12546789AbcD",this.nombre="Bagus";break;case 4:this.mail="SiemJanek@outlook.com",this.pass="12546789AbcD",this.nombre="Janek"}this.repass=this.pass}login(){var t=this;return(0,X.Z)(function*(){(yield t._login.loginService(t.forma.value.email,t.forma.value.password))?(Ny().fire({title:"\xc9xito!",text:"Ingreso exitoso. Bienvenido "+t.nombre,icon:"success",confirmButtonText:"OK!"}),console.log(t._login.loggedUser),t._router.navigate(["home"])):Ny().fire({title:"Error!",text:"Correo o contrase\xf1a incorrectos",icon:"error",confirmButtonText:"Cerrar"})})()}reglogin(){this._router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qU),a.Y36(Eo),a.Y36(ON))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-registro"]],decls:65,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-md-5","mx-auto"],["id","first"],[1,"myform","form"],[1,"logo","mb-3"],[1,"col-md-12","text-center"],["src","assets/juegosicon.png","alt","",2,"width","300px"],["action","","method","post","name","login",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","name","email","id","email","aria-describedby","emailHelp","placeholder","Ingrese el correo","formControlName","email",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid",4,"ngIf"],["type","text","name","nombre","id","nombre","placeholder","Ingrese el nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","id","password","aria-describedby","emailHelp","placeholder","Ingrese la contrase\xf1a","formControlName","password",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","repassword","id","repassword","aria-describedby","repassword","placeholder","Ingrese la contrase\xf1a","formControlName","repassword",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-block","mybtn","btn-primary","tx-tfm",3,"disabled"],[1,"col-md-12"],[1,"login-or"],[1,"hr-or"],[1,"col-md-12","mb-3"],[1,"text-center"],["href","javascript:void();",1,"google","btn","mybtn"],[1,"fa","fa-google-plus"],["id","signup",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"invalid"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),a._UZ(7,"br")(8,"br")(9,"img",7),a.TgZ(10,"h1"),a._uU(11,"Registrarse"),a.qZA()()(),a.TgZ(12,"form",8),a.NdJ("ngSubmit",function(){return i.registrar()}),a.TgZ(13,"div",9)(14,"label",10),a._uU(15,"Correo"),a.qZA(),a.TgZ(16,"input",11),a.NdJ("ngModelChange",function(o){return i.mail=o}),a.qZA(),a.YNc(17,JK,2,0,"small",12),a.YNc(18,QK,2,0,"small",12),a.qZA(),a.TgZ(19,"div",9)(20,"label",10),a._uU(21,"Nombre de usuario"),a.qZA(),a.TgZ(22,"input",13),a.NdJ("ngModelChange",function(o){return i.nombre=o}),a.qZA(),a.YNc(23,XK,2,0,"small",12),a.YNc(24,eY,2,0,"small",12),a.qZA(),a.TgZ(25,"div",9)(26,"label",10),a._uU(27,"Contrase\xf1a"),a.qZA(),a.TgZ(28,"input",14),a.NdJ("ngModelChange",function(o){return i.pass=o}),a.qZA(),a.YNc(29,tY,2,0,"small",12),a.YNc(30,nY,2,0,"small",12),a.qZA(),a.TgZ(31,"div",9)(32,"label",10),a._uU(33,"Repetir contrase\xf1a"),a.qZA(),a.TgZ(34,"input",15),a.NdJ("ngModelChange",function(o){return i.repass=o}),a.qZA(),a.YNc(35,iY,2,0,"small",12),a.YNc(36,rY,2,0,"small",12),a.qZA(),a.TgZ(37,"div",9),a._UZ(38,"br"),a.qZA(),a.TgZ(39,"div",6)(40,"button",16),a._uU(41,"Registrar"),a.qZA()(),a.TgZ(42,"div",17)(43,"div",18),a._UZ(44,"hr",19),a.qZA()(),a.TgZ(45,"div",20)(46,"p",21)(47,"a",22),a._UZ(48,"i",23),a.qZA()()(),a.TgZ(49,"div",9)(50,"p",21)(51,"a",24),a.NdJ("click",function(){return i.reglogin()}),a._uU(52,"Ya tengo una cuenta"),a.qZA()()()(),a.TgZ(53,"div")(54,"button",25),a.NdJ("click",function(){return i.loadUser(1)}),a._uU(55,"Usuario ya registrado"),a.qZA(),a._UZ(56,"br")(57,"br"),a.qZA(),a.TgZ(58,"div")(59,"button",26),a.NdJ("click",function(){return i.loadUser(2)}),a._uU(60,"Usuario no registrado 1"),a.qZA(),a.TgZ(61,"button",26),a.NdJ("click",function(){return i.loadUser(3)}),a._uU(62,"Usuario no registrado 2"),a.qZA(),a.TgZ(63,"button",26),a.NdJ("click",function(){return i.loadUser(4)}),a._uU(64,"Usuario no registrado 3"),a.qZA()()()()()()()),2&t&&(a.xp6(12),a.Q6J("formGroup",i.forma),a.xp6(4),a.Q6J("ngModel",i.mail),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.email.errors?null:i.forma.controls.email.errors.required)&&i.forma.controls.email.touched),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.email.errors?null:i.forma.controls.email.errors.email)&&i.forma.controls.email.touched),a.xp6(4),a.Q6J("ngModel",i.nombre),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.nombre.errors?null:i.forma.controls.nombre.errors.required)&&i.forma.controls.nombre.touched),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.nombre.errors?null:i.forma.controls.nombre.errors.containsSpaces)&&i.forma.controls.nombre.touched),a.xp6(4),a.Q6J("ngModel",i.pass),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.password.errors?null:i.forma.controls.password.errors.required)&&i.forma.controls.password.touched),a.xp6(1),a.Q6J("ngIf",(null==i.forma.controls.password.errors?null:i.forma.controls.password.errors.pattern)&&i.forma.controls.password.touched),a.xp6(4),a.Q6J("ngModel",i.repass),a.xp6(1),a.Q6J("ngIf",i.forma.controls.password.touched),a.xp6(1),a.Q6J("ngIf",i.repass!=i.pass&&i.forma.controls.password.touched),a.xp6(4),a.Q6J("disabled",i.forma.invalid||i.repass!=i.pass))},dependencies:[ai,Z3,xO,Rw,_O,yO,$w,jC],styles:[".invalid[_ngcontent-%COMP%]{color:red}.formulario[_ngcontent-%COMP%]   div[class^=col-md-][_ngcontent-%COMP%]{height:90px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;max-width:600px}"]}),n})()},{path:"**",component:C3}];let sY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[FB.forRoot(oY),Tu,Tu,FB]}),n})();const Y3={firebase:{projectId:"lab42023",appId:"1:34310798645:web:7187542d929aca27da607c",databaseURL:"https://lab42023-default-rtdb.firebaseio.com",storageBucket:"lab42023.appspot.com",locationId:"us-central",apiKey:"AIzaSyCHx-HLgU02Azfj05Zk_cynv3a8nbr_UvQ",authDomain:"lab42023.firebaseapp.com",messagingSenderId:"34310798645",measurementId:"G-949VR2SLEN"}};class dk{constructor(e){return e}}const J3="firestore",hk=new a.OlP("angularfire2.firestore-instances");function cY(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new dk(i)}}const uY={provide:class aY{constructor(){return mm(J3)}},deps:[[new a.FiY,hk]]},dY={provide:dk,useFactory:function lY(n,e){const t=gm(J3,n,e);return t&&new dk(t)},deps:[[new a.FiY,hk],Dd]};let hY=(()=>{class n{constructor(){(0,hn.registerVersion)("angularfire",vd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[dY,uY]}),n})();function fY(n,...e){return{ngModule:hY,providers:[{provide:hk,useFactory:cY(n),multi:!0,deps:[a.R0b,a.zs3,Ll,Yv,[new a.FiY,pb],[new a.FiY,Xf],...e]}]}}const pY=Vf(DH,!0);class Q3{}class gY{}const wu="*";function X3(n,e=null){return{type:2,steps:n,options:e}}function ej(n){return{type:6,styles:n,offset:null}}function tj(n){Promise.resolve().then(n)}class s1{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tj(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class nj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?tj(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const fk="!";function ij(n){return new a.vHH(3e3,!1)}function YY(){return typeof window<"u"&&typeof window.document<"u"}function pk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ph(n){switch(n.length){case 0:return new s1;case 1:return n[0];default:return new nj(n)}}function rj(n,e,t,i,r=new Map,o=new Map){const u=[],h=[];let p=-1,y=null;if(i.forEach(w=>{const S=w.get("offset"),P=S==p,U=P&&y||new Map;w.forEach((W,q)=>{let re=q,we=W;if("offset"!==q)switch(re=e.normalizePropertyName(re,u),we){case fk:we=r.get(q);break;case wu:we=o.get(q);break;default:we=e.normalizeStyleValue(q,re,we,u)}U.set(re,we)}),P||h.push(U),y=U,p=S}),u.length)throw function BY(n){return new a.vHH(3502,!1)}();return h}function gk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&mk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&mk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&mk(t,"destroy",n)))}}function mk(n,e,t){const o=_k(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function _k(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Os(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function oj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let yk=(n,e)=>!1,sj=(n,e,t)=>[],aj=null;function vk(n){const e=n.parentNode||n.host;return e===aj?null:e}(pk()||typeof Element<"u")&&(YY()?(aj=(()=>document.documentElement)(),yk=(n,e)=>{for(;e;){if(e===n)return!0;e=vk(e)}return!1}):yk=(n,e)=>n.contains(e),sj=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let og=null,lj=!1;const cj=yk,uj=sj;let dj=(()=>{class n{validateStyleProperty(t){return function QY(n){og||(og=function XY(){return typeof document<"u"?document.body:null}()||{},lj=!!og.style&&"WebkitAppearance"in og.style);let e=!0;return og.style&&!function JY(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in og.style,!e&&lj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in og.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return cj(t,i)}getParentElement(t){return vk(t)}query(t,i,r){return uj(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,h=[],p){return new s1(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),bk=(()=>{class n{}return n.NOOP=new dj,n})();const eJ=1e3,wk="ng-enter",uI="ng-leave",dI="ng-trigger",hI=".ng-trigger",fj="ng-animating",Ek=".ng-animating";function Eu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Dk(parseFloat(e[1]),e[2])}function Dk(n,e){return"s"===e?n*eJ:n}function fI(n,e,t){return n.hasOwnProperty("duration")?n:function nJ(n,e,t){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(ij()),{duration:0,delay:0,easing:""};r=Dk(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=Dk(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function mY(){return new a.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function _Y(){return new a.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,ij())}return{duration:r,delay:o,easing:u}}(n,e,t)}function a1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function pj(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function gh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function mj(n,e,t){return t?e+":"+t+";":""}function _j(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=mj(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=mj(0,sJ(t),n.style[t]));n.setAttribute("style",e)}function hc(n,e,t){n.style&&(e.forEach((i,r)=>{const o=Ck(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),pk()&&_j(n))}function sg(n,e){n.style&&(e.forEach((t,i)=>{const r=Ck(i);n.style[r]=""}),pk()&&_j(n))}function l1(n){return Array.isArray(n)?1==n.length?n[0]:X3(n):n}const Tk=new RegExp("{{\\s*(.+?)\\s*}}","g");function yj(n){let e=[];if("string"==typeof n){let t;for(;t=Tk.exec(n);)e.push(t[1]);Tk.lastIndex=0}return e}function c1(n,e,t){const i=n.toString(),r=i.replace(Tk,(o,u)=>{let h=e[u];return null==h&&(t.push(function vY(n){return new a.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function pI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const oJ=/-+([a-z0-9])/g;function Ck(n){return n.replace(oJ,(...e)=>e[1].toUpperCase())}function sJ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ks(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function bY(n){return new a.vHH(3004,!1)}()}}function vj(n,e){return window.getComputedStyle(n)[e]}const _I="*";function hJ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fJ(n,e,t){if(":"==n[0]){const p=function pJ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function RY(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function kY(n){return new a.vHH(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(bj(r,u));"<"==o[0]&&!(r==_I&&u==_I)&&e.push(bj(u,r))}(i,t,e)):t.push(n),t}const yI=new Set(["true","1"]),vI=new Set(["false","0"]);function bj(n,e){const t=yI.has(n)||vI.has(n),i=yI.has(e)||vI.has(e);return(r,o)=>{let u=n==_I||n==r,h=e==_I||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?yI.has(n):vI.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?yI.has(e):vI.has(e)),u&&h}}const gJ=new RegExp("s*:selfs*,?","g");function Ik(n,e,t,i){return new mJ(n).build(e,t,i)}class mJ{constructor(e){this._driver=e}build(e,t,i){const r=new vJ(t);return this._resetContextStyleTimingState(r),ks(this,l1(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function EY(){return new a.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,o.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,u.push(p)}else t.errors.push(function DY(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{yj(p).forEach(y=>{u.hasOwnProperty(y)||o.add(y)})})}),o.size&&(pI(o.values()),t.errors.push(function TY(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ks(this,l1(e.animation),t);return{type:1,matchers:hJ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ag(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ks(this,i,t)),options:ag(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const h=ks(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:ag(e.options)}}visitAnimate(e,t){const i=function wJ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Sk(fI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Sk(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=fI(t,e);return Sk(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:ej({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=ej(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===wu?i.push(h):t.errors.push(new a.vHH(3002,!1)):i.push(pj(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let p of h.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,p)=>{const y=t.collectedStyles.get(t.currentQuerySelector),w=y.get(p);let S=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(t.errors.push(function IY(n,e,t,i,r){return new a.vHH(3010,!1)}()),S=!1),o=w.startTime),S&&y.set(p,{startTime:o,endTime:r}),t.options&&function rJ(n,e,t){const i=e.params||{},r=yj(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function yY(n){return new a.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function SY(){return new a.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,p=!1,y=0;const w=e.steps.map(we=>{const Ae=this._makeStyleAst(we,t);let Be=null!=Ae.offset?Ae.offset:function bJ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ae.styles),ze=0;return null!=Be&&(o++,ze=Ae.offset=Be),p=p||ze<0||ze>1,h=h||ze<y,y=ze,u.push(ze),Ae});p&&t.errors.push(function AY(){return new a.vHH(3012,!1)}()),h&&t.errors.push(function xY(){return new a.vHH(3200,!1)}());const S=e.steps.length;let P=0;o>0&&o<S?t.errors.push(function MY(){return new a.vHH(3202,!1)}()):0==o&&(P=1/(S-1));const U=S-1,W=t.currentTime,q=t.currentAnimateTimings,re=q.duration;return w.forEach((we,Ae)=>{const Be=P>0?Ae==U?1:P*Ae:u[Ae],ze=Be*re;t.currentTime=W+q.delay+ze,q.duration=ze,this._validateStyleAst(we,t),we.offset=Be,i.styles.push(we)}),i}visitReference(e,t){return{type:8,animation:ks(this,l1(e.animation),t),options:ag(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ag(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ag(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function _J(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(gJ,"")),n=n.replace(/@\*/g,hI).replace(/@\w+/g,t=>hI+"-"+t.slice(1)).replace(/:animating/g,Ek),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Os(t.collectedStyles,t.currentQuerySelector,new Map);const h=ks(this,l1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:ag(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function NY(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:fI(e.timings,t.errors,!0);return{type:12,animation:ks(this,l1(e.animation),t),timings:i,options:null}}}class vJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ag(n){return n?(n=a1(n)).params&&(n.params=function yJ(n){return n?a1(n):null}(n.params)):n={},n}function Sk(n,e,t){return{duration:n,delay:e,easing:t}}function Ak(n,e,t,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class bI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const TJ=new RegExp(":enter","g"),IJ=new RegExp(":leave","g");function xk(n,e,t,i,r,o=new Map,u=new Map,h,p,y=[]){return(new SJ).buildKeyframes(n,e,t,i,r,o,u,h,p,y)}class SJ{buildKeyframes(e,t,i,r,o,u,h,p,y,w=[]){y=y||new bI;const S=new Mk(e,t,y,r,o,w,[]);S.options=p;const P=p.delay?Eu(p.delay):0;S.currentTimeline.delayNextStep(P),S.currentTimeline.setStyles([u],null,S.errors,p),ks(this,i,S);const U=S.timelines.filter(W=>W.containsAnimation());if(U.length&&h.size){let W;for(let q=U.length-1;q>=0;q--){const re=U[q];if(re.element===t){W=re;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([h],null,S.errors,p)}return U.length?U.map(W=>W.buildKeyframes()):[Ak(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:Eu(c1(o,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?Eu(i.duration):null,h=null!=i.delay?Eu(i.delay):null;return 0!==u&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ks(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wI);const u=Eu(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ks(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Eu(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),ks(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return fI(t.params?c1(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Eu(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wI);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,w)=>{t.currentQueryIndex=w;const S=t.createSubContext(e.options,y);o&&S.delayNextStep(o),y===t.element&&(p=S.currentTimeline),ks(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(t.currentQueryTotal-1);let p=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const w=t.currentTimeline;p&&w.delayNextStep(p);const S=w.currentTime;ks(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const wI={};class Mk{constructor(e,t,i,r,o,u,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new EI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Eu(i.duration)),null!=i.delay&&(r.delay=Eu(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=c1(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Mk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=wI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new AJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(TJ,"."+this._enterClassName)).replace(IJ,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function OY(n){return new a.vHH(3014,!1)}()),h}}class EI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new EI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||wu),this._currentKeyframe.set(t,wu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},u=function xJ(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,wu)}else gh(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of u){const y=c1(p,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??wu),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=gh(h,new Map,this._backFill);y.forEach((w,S)=>{w===fk?e.add(S):w===wu&&t.add(S)}),i||y.set("offset",p/this.duration),r.push(y)});const o=e.size?pI(e.values()):[],u=t.size?pI(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return Ak(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class AJ extends EI{constructor(e,t,i,r,o,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,h=t/u,p=gh(e[0]);p.set("offset",0),o.push(p);const y=gh(e[0]);y.set("offset",Dj(h)),o.push(y);const w=e.length-1;for(let S=1;S<=w;S++){let P=gh(e[S]);const U=P.get("offset");P.set("offset",Dj((t+U*i)/u)),o.push(P)}i=u,t=0,r="",e=o}return Ak(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Dj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Nk{}const MJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class NJ extends Nk{normalizePropertyName(e,t){return Ck(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if(MJ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function wY(n,e){return new a.vHH(3005,!1)}())}return u+o}}function Tj(n,e,t,i,r,o,u,h,p,y,w,S,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:w,totalTime:S,errors:P}}const Ok={};class Cj{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function OJ(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,u,h,p,y,w){const S=[],P=this.ast.options&&this.ast.options.params||Ok,W=this.buildStyles(i,h&&h.params||Ok,S),q=p&&p.params||Ok,re=this.buildStyles(r,q,S),we=new Set,Ae=new Map,Be=new Map,ze="void"===r,ot={params:kJ(q,P),delay:this.ast.options?.delay},dt=w?[]:xk(e,t,this.ast.animation,o,u,W,re,ot,y,S);let Bt=0;if(dt.forEach(Zn=>{Bt=Math.max(Zn.duration+Zn.delay,Bt)}),S.length)return Tj(t,this._triggerName,i,r,ze,W,re,[],[],Ae,Be,Bt,S);dt.forEach(Zn=>{const Kn=Zn.element,Fi=Os(Ae,Kn,new Set);Zn.preStyleProps.forEach(qi=>Fi.add(qi));const uo=Os(Be,Kn,new Set);Zn.postStyleProps.forEach(qi=>uo.add(qi)),Kn!==t&&we.add(Kn)});const cn=pI(we.values());return Tj(t,this._triggerName,i,r,ze,W,re,dt,cn,Ae,Be,Bt)}}function kJ(n,e){const t=a1(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class RJ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=a1(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=c1(u,r,t));const p=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,p,u,t),i.set(h,u)})}),i}}class FJ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new RJ(r.style,r.options&&r.options.params||{},i))}),Ij(this.states,"true","1"),Ij(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Cj(e,r,this.states))}),this.fallbackTransition=function LJ(n,e,t){return new Cj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Ij(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const BJ=new bI;class UJ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],o=Ik(this._driver,t,i,r);if(i.length)throw function UY(n){return new a.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=rj(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let u;const h=new Map;if(o?(u=xk(this._driver,t,o,wk,uI,new Map,new Map,i,BJ,r),u.forEach(w=>{const S=Os(h,w.element,new Map);w.postStyleProps.forEach(P=>S.set(P,null))})):(r.push(function VY(){return new a.vHH(3300,!1)}()),u=[]),r.length)throw function jY(n){return new a.vHH(3504,!1)}();h.forEach((w,S)=>{w.forEach((P,U)=>{w.set(U,this._driver.computeStyle(S,U,wu))})});const y=ph(u.map(w=>{const S=h.get(w.element);return this._buildPlayer(w,new Map,S)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function $Y(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=_k(t,"","","");return gk(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Sj="ng-animate-queued",kk="ng-animate-disabled",GJ=[],Aj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sa="__ng_removed";class Rk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function KJ(n){return n??null}(i?e.value:e),i){const o=a1(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const u1="void",Pk=new Rk(u1);class WJ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,aa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function HY(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function GY(n){return new a.vHH(3303,!1)}();if(!function YJ(n){return"start"==n||"done"==n}(i))throw function zY(n,e){return new a.vHH(3400,!1)}();const o=Os(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const h=Os(this._engine.statesByElement,e,new Map);return h.has(t)||(aa(e,dI),aa(e,dI+"-"+t),h.set(t,Pk)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(u);p>=0&&o.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function WY(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new Fk(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(aa(e,dI),aa(e,dI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const y=new Rk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(t,y),p||(p=Pk),y.value!==u1&&p.value===y.value){if(!function XJ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(p.params,y.params)){const q=[],re=o.matchStyles(p.value,p.params,q),we=o.matchStyles(y.value,y.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{sg(e,re),hc(e,we)})}return}const P=Os(this._engine.playersByElement,e,[]);P.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let U=o.matchTransition(p.value,y.value,e,y.params),W=!1;if(!U){if(!r)return;U=o.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:p,toState:y,player:u,isFallbackTransition:W}),W||(aa(e,Sj),u.onStart(()=>{Ly(e,Sj)})),u.onDone(()=>{let q=this.players.indexOf(u);q>=0&&this.players.splice(q,1);const re=this._engine.playersByElement.get(e);if(re){let we=re.indexOf(u);we>=0&&re.splice(we,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,hI,!0);i.forEach(r=>{if(r[sa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const h=[];if(o.forEach((p,y)=>{if(u.set(y,p.value),this._triggers.has(y)){const w=this.trigger(e,y,u1,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&ph(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const p=this._triggers.get(u).fallbackTransition,y=i.get(u)||Pk,w=new Rk(u1),S=new Fk(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:w,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[sa];(!o||o===Aj)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){aa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=_k(o,i.triggerName,i.fromState.value,i.toState.value);p._data=e,gk(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class qJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new WJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(DI(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!DI(t))return;const o=t[sa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),aa(e,kk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ly(e,kk))}removeNode(e,t,i,r){if(DI(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[sa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return DI(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,hI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ek,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ph(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[sa];if(t&&t.setForRemoval){if(e[sa]=Aj,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(kk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)aa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ph(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function qY(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new bI,r=[],o=new Map,u=[],h=new Map,p=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(ft=>{w.add(ft);const Ct=this.driver.query(ft,".ng-animate-queued",!0);for(let qt=0;qt<Ct.length;qt++)w.add(Ct[qt])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),U=Nj(P,this.collectedEnterElements),W=new Map;let q=0;U.forEach((ft,Ct)=>{const qt=wk+q++;W.set(Ct,qt),ft.forEach(bn=>aa(bn,qt))});const re=[],we=new Set,Ae=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const Ct=this.collectedLeaveElements[ft],qt=Ct[sa];qt&&qt.setForRemoval&&(re.push(Ct),we.add(Ct),qt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(bn=>we.add(bn)):Ae.add(Ct))}const Be=new Map,ze=Nj(P,Array.from(we));ze.forEach((ft,Ct)=>{const qt=uI+q++;Be.set(Ct,qt),ft.forEach(bn=>aa(bn,qt))}),e.push(()=>{U.forEach((ft,Ct)=>{const qt=W.get(Ct);ft.forEach(bn=>Ly(bn,qt))}),ze.forEach((ft,Ct)=>{const qt=Be.get(Ct);ft.forEach(bn=>Ly(bn,qt))}),re.forEach(ft=>{this.processLeaveNode(ft)})});const ot=[],dt=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(t).forEach(qt=>{const bn=qt.player,Zi=qt.element;if(ot.push(bn),this.collectedEnterElements.length){const gr=Zi[sa];if(gr&&gr.setForMove){if(gr.previousTriggersValues&&gr.previousTriggersValues.has(qt.triggerName)){const $o=gr.previousTriggersValues.get(qt.triggerName),Do=this.statesByElement.get(qt.element);if(Do&&Do.has(qt.triggerName)){const By=Do.get(qt.triggerName);By.value=$o,Do.set(qt.triggerName,By)}}return void bn.destroy()}}const as=!S||!this.driver.containsElement(S,Zi),Ur=Be.get(Zi),Rs=W.get(Zi),$n=this._buildInstruction(qt,i,Rs,Ur,as);if($n.errors&&$n.errors.length)return void dt.push($n);if(as)return bn.onStart(()=>sg(Zi,$n.fromStyles)),bn.onDestroy(()=>hc(Zi,$n.toStyles)),void r.push(bn);if(qt.isFallbackTransition)return bn.onStart(()=>sg(Zi,$n.fromStyles)),bn.onDestroy(()=>hc(Zi,$n.toStyles)),void r.push(bn);const Xa=[];$n.timelines.forEach(gr=>{gr.stretchStartingKeyframe=!0,this.disabledNodes.has(gr.element)||Xa.push(gr)}),$n.timelines=Xa,i.append(Zi,$n.timelines),u.push({instruction:$n,player:bn,element:Zi}),$n.queriedElements.forEach(gr=>Os(h,gr,[]).push(bn)),$n.preStyleProps.forEach((gr,$o)=>{if(gr.size){let Do=p.get($o);Do||p.set($o,Do=new Set),gr.forEach((By,cg)=>Do.add(cg))}}),$n.postStyleProps.forEach((gr,$o)=>{let Do=y.get($o);Do||y.set($o,Do=new Set),gr.forEach((By,cg)=>Do.add(cg))})});if(dt.length){const ft=[];dt.forEach(Ct=>{ft.push(function ZY(n,e){return new a.vHH(3505,!1)}())}),ot.forEach(Ct=>Ct.destroy()),this.reportError(ft)}const Bt=new Map,cn=new Map;u.forEach(ft=>{const Ct=ft.element;i.has(Ct)&&(cn.set(Ct,Ct),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,Bt))}),r.forEach(ft=>{const Ct=ft.element;this._getPreviousPlayers(Ct,!1,ft.namespaceId,ft.triggerName,null).forEach(bn=>{Os(Bt,Ct,[]).push(bn),bn.destroy()})});const Zn=re.filter(ft=>kj(ft,p,y)),Kn=new Map;Mj(Kn,this.driver,Ae,y,wu).forEach(ft=>{kj(ft,p,y)&&Zn.push(ft)});const uo=new Map;U.forEach((ft,Ct)=>{Mj(uo,this.driver,new Set(ft),p,fk)}),Zn.forEach(ft=>{const Ct=Kn.get(ft),qt=uo.get(ft);Kn.set(ft,new Map([...Array.from(Ct?.entries()??[]),...Array.from(qt?.entries()??[])]))});const qi=[],fc=[],pc={};u.forEach(ft=>{const{element:Ct,player:qt,instruction:bn}=ft;if(i.has(Ct)){if(w.has(Ct))return qt.onDestroy(()=>hc(Ct,bn.toStyles)),qt.disabled=!0,qt.overrideTotalTime(bn.totalTime),void r.push(qt);let Zi=pc;if(cn.size>1){let Ur=Ct;const Rs=[];for(;Ur=Ur.parentNode;){const $n=cn.get(Ur);if($n){Zi=$n;break}Rs.push(Ur)}Rs.forEach($n=>cn.set($n,Zi))}const as=this._buildAnimation(qt.namespaceId,bn,Bt,o,uo,Kn);if(qt.setRealPlayer(as),Zi===pc)qi.push(qt);else{const Ur=this.playersByElement.get(Zi);Ur&&Ur.length&&(qt.parentPlayer=ph(Ur)),r.push(qt)}}else sg(Ct,bn.fromStyles),qt.onDestroy(()=>hc(Ct,bn.toStyles)),fc.push(qt),w.has(Ct)&&r.push(qt)}),fc.forEach(ft=>{const Ct=o.get(ft.element);if(Ct&&Ct.length){const qt=ph(Ct);ft.setRealPlayer(qt)}}),r.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<re.length;ft++){const Ct=re[ft],qt=Ct[sa];if(Ly(Ct,uI),qt&&qt.hasAnimation)continue;let bn=[];if(h.size){let as=h.get(Ct);as&&as.length&&bn.push(...as);let Ur=this.driver.query(Ct,Ek,!0);for(let Rs=0;Rs<Ur.length;Rs++){let $n=h.get(Ur[Rs]);$n&&$n.length&&bn.push(...$n)}}const Zi=bn.filter(as=>!as.destroyed);Zi.length?JJ(this,Ct,Zi):this.processLeaveNode(Ct)}return re.length=0,qi.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const Ct=this.players.indexOf(ft);this.players.splice(Ct,1)}),ft.play()}),qi}elementContainsData(e,t){let i=!1;const r=t[sa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!o||o==u1;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,w=y!==o,S=Os(i,y,[]);this._getPreviousPlayers(y,w,u,h,t.toState).forEach(U=>{const W=U.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),U.destroy(),S.push(U)})}sg(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const h=t.triggerName,p=t.element,y=[],w=new Set,S=new Set,P=t.timelines.map(W=>{const q=W.element;w.add(q);const re=q[sa];if(re&&re.removedBeforeQueried)return new s1(W.duration,W.delay);const we=q!==p,Ae=function QJ(n){const e=[];return Oj(n,e),e}((i.get(q)||GJ).map(Bt=>Bt.getRealPlayer())).filter(Bt=>!!Bt.element&&Bt.element===q),Be=o.get(q),ze=u.get(q),ot=rj(0,this._normalizer,0,W.keyframes,Be,ze),dt=this._buildPlayer(W,ot,Ae);if(W.subTimeline&&r&&S.add(q),we){const Bt=new Fk(e,h,q);Bt.setRealPlayer(dt),y.push(Bt)}return dt});y.forEach(W=>{Os(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function ZJ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,W.element,W))}),w.forEach(W=>aa(W,fj));const U=ph(P);return U.onDestroy(()=>{w.forEach(W=>Ly(W,fj)),hc(p,t.toStyles)}),S.forEach(W=>{Os(r,W,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new s1(e.duration,e.delay)}}class Fk{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new s1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>gk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Os(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function DI(n){return n&&1===n.nodeType}function xj(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Mj(n,e,t,i,r){const o=[];t.forEach(p=>o.push(xj(p)));const u=[];i.forEach((p,y)=>{const w=new Map;p.forEach(S=>{const P=e.computeStyle(y,S,r);w.set(S,P),(!P||0==P.length)&&(y[sa]=zJ,u.push(y))}),n.set(y,w)});let h=0;return t.forEach(p=>xj(p,o[h++])),u}function Nj(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=1,r=new Set(e),o=new Map;function u(h){if(!h)return i;let p=o.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:r.has(y)?i:u(y),o.set(h,p),p}return e.forEach(h=>{const p=u(h);p!==i&&t.get(p).push(h)}),t}function aa(n,e){n.classList?.add(e)}function Ly(n,e){n.classList?.remove(e)}function JJ(n,e,t){ph(t).onDone(()=>n.processLeaveNode(e))}function Oj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof nj?Oj(i.players,e):e.push(i)}}function kj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class TI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new qJ(e,t,i),this._timelineEngine=new UJ(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],y=[],w=Ik(this._driver,o,p,y);if(p.length)throw function LY(n,e){return new a.vHH(3404,!1)}();h=function PJ(n,e,t){return new FJ(n,e,t)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=oj(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,h]=oj(i);return this._timelineEngine.listen(u,t,h,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tQ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&hc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hc(this._element,this._initialStyles),this._endStyles&&(hc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(sg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sg(this._element,this._endStyles),this._endStyles=null),hc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lk(n){let e=null;return n.forEach((t,i)=>{(function nQ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Rj{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:vj(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class iQ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return cj(e,t)}getParentElement(e){return vk(e)}query(e,t,i){return uj(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y=new Map,w=u.filter(U=>U instanceof Rj);(function aJ(n,e){return 0===n||0===e})(i,r)&&w.forEach(U=>{U.currentSnapshot.forEach((W,q)=>y.set(q,W))});let S=function iJ(n){return n.length?n[0]instanceof Map?n:n.map(e=>pj(e)):[]}(t).map(U=>gh(U));S=function lJ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(h=>u.set(h,vj(n,h)))}}return e}(e,S,y);const P=function eQ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Lk(e[0]),e.length>1&&(i=Lk(e[e.length-1]))):e instanceof Map&&(t=Lk(e)),t||i?new tQ(n,t,i):null}(e,S);return new Rj(e,S,p,P)}}let rQ=(()=>{class n extends Q3{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?X3(t):t;return Pj(this._renderer,null,i,"register",[r]),new oQ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class oQ extends gY{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new sQ(this._id,e,t||{},this._renderer)}}class sQ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Pj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Pj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Fj="@.disabled";let aQ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new Lj("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,w)),w}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(u,h,t,w.name,w)};return i.data.animation.forEach(p),new lQ(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(TI),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Lj{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Fj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lQ extends Lj{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Fj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function cQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function uQ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let dQ=(()=>{class n extends TI{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me),a.LFG(bk),a.LFG(Nk),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Bj=[{provide:Q3,useClass:rQ},{provide:Nk,useFactory:function hQ(){return new NJ}},{provide:TI,useClass:dQ},{provide:a.FYo,useFactory:function fQ(n,e,t){return new aQ(n,e,t)},deps:[xr,TI,a.R0b]}],Bk=[{provide:bk,useFactory:()=>new iQ},{provide:a.QbO,useValue:"BrowserAnimations"},...Bj],Uj=[{provide:bk,useClass:dj},{provide:a.QbO,useValue:"NoopAnimations"},...Bj];let pQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Uj:Bk}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Bk,imports:[Ia]}),n})(),gQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[kZ]}),n.\u0275inj=a.cJS({providers:[{provide:ts.Dh,useValue:Y3.firebase}],imports:[Ia,sY,xZ,OK,zS(()=>WS(Y3.firebase)),jE(()=>$E()),fY(()=>pY()),pQ,P8,F8]}),n})();$y().bootstrapModule(gQ).catch(n=>console.error(n))},9751:(At,fe,$)=>{"use strict";$.d(fe,{y:()=>Ne});var a=$(930),O=$(727),V=$(8822),ge=$(9635),xe=$(2416),me=$(576),Le=$(2806);let Ne=(()=>{class ne{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const ct=new ne;return ct.source=this,ct.operator=Ue,ct}subscribe(Ue,ct,rt){const de=function K(ne){return ne&&ne instanceof a.Lv||function Y(ne){return ne&&(0,me.m)(ne.next)&&(0,me.m)(ne.error)&&(0,me.m)(ne.complete)}(ne)&&(0,O.Nn)(ne)}(Ue)?Ue:new a.Hp(Ue,ct,rt);return(0,Le.x)(()=>{const{operator:Oe,source:ve}=this;de.add(Oe?Oe.call(de,ve):ve?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(ct){Ue.error(ct)}}forEach(Ue,ct){return new(ct=We(ct))((rt,de)=>{const Oe=new a.Hp({next:ve=>{try{Ue(ve)}catch(qe){de(qe),Oe.unsubscribe()}},error:de,complete:rt});this.subscribe(Oe)})}_subscribe(Ue){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Ue)}[V.L](){return this}pipe(...Ue){return(0,ge.U)(Ue)(this)}toPromise(Ue){return new(Ue=We(Ue))((ct,rt)=>{let de;this.subscribe(Oe=>de=Oe,Oe=>rt(Oe),()=>ct(de))})}}return ne.create=Ye=>new ne(Ye),ne})();function We(ne){var Ye;return null!==(Ye=ne??xe.v.Promise)&&void 0!==Ye?Ye:Promise}},7579:(At,fe,$)=>{"use strict";$.d(fe,{x:()=>Le});var a=$(9751),O=$(727);const ge=(0,$(3888).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=$(8737),me=$(2806);let Le=(()=>{class We extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const ne=new Ne(this,this);return ne.operator=K,ne}_throwIfClosed(){if(this.closed)throw new ge}next(K){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(K)}})}error(K){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:ne}=this;for(;ne.length;)ne.shift().error(K)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:ne,isStopped:Ye,observers:Ue}=this;return ne||Ye?O.Lc:(this.currentObservers=null,Ue.push(K),new O.w0(()=>{this.currentObservers=null,(0,xe.P)(Ue,K)}))}_checkFinalizedStatuses(K){const{hasError:ne,thrownError:Ye,isStopped:Ue}=this;ne?K.error(Ye):Ue&&K.complete()}asObservable(){const K=new a.y;return K.source=this,K}}return We.create=(Y,K)=>new Ne(Y,K),We})();class Ne extends Le{constructor(Y,K){super(),this.destination=Y,this.source=K}next(Y){var K,ne;null===(ne=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===ne||ne.call(K,Y)}error(Y){var K,ne;null===(ne=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===ne||ne.call(K,Y)}complete(){var Y,K;null===(K=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===K||K.call(Y)}_subscribe(Y){var K,ne;return null!==(ne=null===(K=this.source)||void 0===K?void 0:K.subscribe(Y))&&void 0!==ne?ne:O.Lc}}},930:(At,fe,$)=>{"use strict";$.d(fe,{Hp:()=>rt,Lv:()=>ne});var a=$(576),O=$(727),V=$(2416),ge=$(7849),xe=$(5032);const me=We("C",void 0,void 0);function We(Pe,Te,ke){return{kind:Pe,value:Te,error:ke}}var Y=$(3410),K=$(2806);class ne extends O.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,O.Nn)(Te)&&Te.add(this)):this.destination=qe}static create(Te,ke,Je){return new rt(Te,ke,Je)}next(Te){this.isStopped?ve(function Ne(Pe){return We("N",Pe,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?ve(function Le(Pe){return We("E",void 0,Pe)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?ve(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Ue(Pe,Te){return Ye.call(Pe,Te)}class ct{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Te)}catch(Je){de(Je)}}error(Te){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Te)}catch(Je){de(Je)}else de(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ke){de(ke)}}}class rt extends ne{constructor(Te,ke,Je){let He;if(super(),(0,a.m)(Te)||!Te)He={next:Te??void 0,error:ke??void 0,complete:Je??void 0};else{let ce;this&&V.v.useDeprecatedNextContext?(ce=Object.create(Te),ce.unsubscribe=()=>this.unsubscribe(),He={next:Te.next&&Ue(Te.next,ce),error:Te.error&&Ue(Te.error,ce),complete:Te.complete&&Ue(Te.complete,ce)}):He=Te}this.destination=new ct(He)}}function de(Pe){V.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(Pe):(0,ge.h)(Pe)}function ve(Pe,Te){const{onStoppedNotification:ke}=V.v;ke&&Y.z.setTimeout(()=>ke(Pe,Te))}const qe={closed:!0,next:xe.Z,error:function Oe(Pe){throw Pe},complete:xe.Z}},727:(At,fe,$)=>{"use strict";$.d(fe,{Lc:()=>me,w0:()=>xe,Nn:()=>Le});var a=$(576);const V=(0,$(3888).d)(We=>function(K){We(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((ne,Ye)=>`${Ye+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var ge=$(8737);class xe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Ue of K)Ue.remove(this);else K.remove(this);const{initialTeardown:ne}=this;if((0,a.m)(ne))try{ne()}catch(Ue){Y=Ue instanceof V?Ue.errors:[Ue]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Ue of Ye)try{Ne(Ue)}catch(ct){Y=Y??[],ct instanceof V?Y=[...Y,...ct.errors]:Y.push(ct)}}if(Y)throw new V(Y)}}add(Y){var K;if(Y&&Y!==this)if(this.closed)Ne(Y);else{if(Y instanceof xe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(Y)}}_hasParent(Y){const{_parentage:K}=this;return K===Y||Array.isArray(K)&&K.includes(Y)}_addParent(Y){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(Y),K):K?[K,Y]:Y}_removeParent(Y){const{_parentage:K}=this;K===Y?this._parentage=null:Array.isArray(K)&&(0,ge.P)(K,Y)}remove(Y){const{_finalizers:K}=this;K&&(0,ge.P)(K,Y),Y instanceof xe&&Y._removeParent(this)}}xe.EMPTY=(()=>{const We=new xe;return We.closed=!0,We})();const me=xe.EMPTY;function Le(We){return We instanceof xe||We&&"closed"in We&&(0,a.m)(We.remove)&&(0,a.m)(We.add)&&(0,a.m)(We.unsubscribe)}function Ne(We){(0,a.m)(We)?We():We.unsubscribe()}},2416:(At,fe,$)=>{"use strict";$.d(fe,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(At,fe,$)=>{"use strict";$.d(fe,{E:()=>O});const O=new($(9751).y)(xe=>xe.complete())},8996:(At,fe,$)=>{"use strict";$.d(fe,{D:()=>Te});var a=$(8421),O=$(5363),V=$(9468),me=$(9751),Ne=$(2202),We=$(576),Y=$(9672);function ne(ke,Je){if(!ke)throw new Error("Iterable cannot be null");return new me.y(He=>{(0,Y.f)(He,Je,()=>{const ce=ke[Symbol.asyncIterator]();(0,Y.f)(He,Je,()=>{ce.next().then(st=>{st.done?He.complete():He.next(st.value)})},0,!0)})})}var Ye=$(3670),Ue=$(8239),ct=$(1144),rt=$(6495),de=$(2206),Oe=$(4532),ve=$(3260);function Te(ke,Je){return Je?function Pe(ke,Je){if(null!=ke){if((0,Ye.c)(ke))return function ge(ke,Je){return(0,a.Xf)(ke).pipe((0,V.R)(Je),(0,O.Q)(Je))}(ke,Je);if((0,ct.z)(ke))return function Le(ke,Je){return new me.y(He=>{let ce=0;return Je.schedule(function(){ce===ke.length?He.complete():(He.next(ke[ce++]),He.closed||this.schedule())})})}(ke,Je);if((0,Ue.t)(ke))return function xe(ke,Je){return(0,a.Xf)(ke).pipe((0,V.R)(Je),(0,O.Q)(Je))}(ke,Je);if((0,de.D)(ke))return ne(ke,Je);if((0,rt.T)(ke))return function K(ke,Je){return new me.y(He=>{let ce;return(0,Y.f)(He,Je,()=>{ce=ke[Ne.h](),(0,Y.f)(He,Je,()=>{let st,Et;try{({value:st,done:Et}=ce.next())}catch(nt){return void He.error(nt)}Et?He.complete():He.next(st)},0,!0)}),()=>(0,We.m)(ce?.return)&&ce.return()})}(ke,Je);if((0,ve.L)(ke))return function qe(ke,Je){return ne((0,ve.Q)(ke),Je)}(ke,Je)}throw(0,Oe.z)(ke)}(ke,Je):(0,a.Xf)(ke)}},8421:(At,fe,$)=>{"use strict";$.d(fe,{Xf:()=>Ye});var a=$(655),O=$(1144),V=$(8239),ge=$(9751),xe=$(3670),me=$(2206),Le=$(4532),Ne=$(6495),We=$(3260),Y=$(576),K=$(7849),ne=$(8822);function Ye(Pe){if(Pe instanceof ge.y)return Pe;if(null!=Pe){if((0,xe.c)(Pe))return function Ue(Pe){return new ge.y(Te=>{const ke=Pe[ne.L]();if((0,Y.m)(ke.subscribe))return ke.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,O.z)(Pe))return function ct(Pe){return new ge.y(Te=>{for(let ke=0;ke<Pe.length&&!Te.closed;ke++)Te.next(Pe[ke]);Te.complete()})}(Pe);if((0,V.t)(Pe))return function rt(Pe){return new ge.y(Te=>{Pe.then(ke=>{Te.closed||(Te.next(ke),Te.complete())},ke=>Te.error(ke)).then(null,K.h)})}(Pe);if((0,me.D)(Pe))return Oe(Pe);if((0,Ne.T)(Pe))return function de(Pe){return new ge.y(Te=>{for(const ke of Pe)if(Te.next(ke),Te.closed)return;Te.complete()})}(Pe);if((0,We.L)(Pe))return function ve(Pe){return Oe((0,We.Q)(Pe))}(Pe)}throw(0,Le.z)(Pe)}function Oe(Pe){return new ge.y(Te=>{(function qe(Pe,Te){var ke,Je,He,ce;return(0,a.mG)(this,void 0,void 0,function*(){try{for(ke=(0,a.KL)(Pe);!(Je=yield ke.next()).done;)if(Te.next(Je.value),Te.closed)return}catch(st){He={error:st}}finally{try{Je&&!Je.done&&(ce=ke.return)&&(yield ce.call(ke))}finally{if(He)throw He.error}}Te.complete()})})(Pe,Te).catch(ke=>Te.error(ke))})}},6451:(At,fe,$)=>{"use strict";$.d(fe,{T:()=>me});var a=$(8189),O=$(8421),V=$(515),ge=$(3269),xe=$(8996);function me(...Le){const Ne=(0,ge.yG)(Le),We=(0,ge._6)(Le,1/0),Y=Le;return Y.length?1===Y.length?(0,O.Xf)(Y[0]):(0,a.J)(We)((0,xe.D)(Y,Ne)):V.E}},5403:(At,fe,$)=>{"use strict";$.d(fe,{x:()=>O});var a=$(930);function O(ge,xe,me,Le,Ne){return new V(ge,xe,me,Le,Ne)}class V extends a.Lv{constructor(xe,me,Le,Ne,We,Y){super(xe),this.onFinalize=We,this.shouldUnsubscribe=Y,this._next=me?function(K){try{me(K)}catch(ne){xe.error(ne)}}:super._next,this._error=Ne?function(K){try{Ne(K)}catch(ne){xe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(K){xe.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},4004:(At,fe,$)=>{"use strict";$.d(fe,{U:()=>V});var a=$(4482),O=$(5403);function V(ge,xe){return(0,a.e)((me,Le)=>{let Ne=0;me.subscribe((0,O.x)(Le,We=>{Le.next(ge.call(xe,We,Ne++))}))})}},8189:(At,fe,$)=>{"use strict";$.d(fe,{J:()=>V});var a=$(5577),O=$(4671);function V(ge=1/0){return(0,a.z)(O.y,ge)}},5577:(At,fe,$)=>{"use strict";$.d(fe,{z:()=>Ne});var a=$(4004),O=$(8421),V=$(4482),ge=$(9672),xe=$(5403),Le=$(576);function Ne(We,Y,K=1/0){return(0,Le.m)(Y)?Ne((ne,Ye)=>(0,a.U)((Ue,ct)=>Y(ne,Ue,Ye,ct))((0,O.Xf)(We(ne,Ye))),K):("number"==typeof Y&&(K=Y),(0,V.e)((ne,Ye)=>function me(We,Y,K,ne,Ye,Ue,ct,rt){const de=[];let Oe=0,ve=0,qe=!1;const Pe=()=>{qe&&!de.length&&!Oe&&Y.complete()},Te=Je=>Oe<ne?ke(Je):de.push(Je),ke=Je=>{Ue&&Y.next(Je),Oe++;let He=!1;(0,O.Xf)(K(Je,ve++)).subscribe((0,xe.x)(Y,ce=>{Ye?.(ce),Ue?Te(ce):Y.next(ce)},()=>{He=!0},void 0,()=>{if(He)try{for(Oe--;de.length&&Oe<ne;){const ce=de.shift();ct?(0,ge.f)(Y,ct,()=>ke(ce)):ke(ce)}Pe()}catch(ce){Y.error(ce)}}))};return We.subscribe((0,xe.x)(Y,Te,()=>{qe=!0,Pe()})),()=>{rt?.()}}(ne,Ye,We,K)))}},5363:(At,fe,$)=>{"use strict";$.d(fe,{Q:()=>ge});var a=$(9672),O=$(4482),V=$(5403);function ge(xe,me=0){return(0,O.e)((Le,Ne)=>{Le.subscribe((0,V.x)(Ne,We=>(0,a.f)(Ne,xe,()=>Ne.next(We),me),()=>(0,a.f)(Ne,xe,()=>Ne.complete(),me),We=>(0,a.f)(Ne,xe,()=>Ne.error(We),me)))})}},3099:(At,fe,$)=>{"use strict";$.d(fe,{B:()=>xe});var a=$(8421),O=$(7579),V=$(930),ge=$(4482);function xe(Le={}){const{connector:Ne=(()=>new O.x),resetOnError:We=!0,resetOnComplete:Y=!0,resetOnRefCountZero:K=!0}=Le;return ne=>{let Ye,Ue,ct,rt=0,de=!1,Oe=!1;const ve=()=>{Ue?.unsubscribe(),Ue=void 0},qe=()=>{ve(),Ye=ct=void 0,de=Oe=!1},Pe=()=>{const Te=Ye;qe(),Te?.unsubscribe()};return(0,ge.e)((Te,ke)=>{rt++,!Oe&&!de&&ve();const Je=ct=ct??Ne();ke.add(()=>{rt--,0===rt&&!Oe&&!de&&(Ue=me(Pe,K))}),Je.subscribe(ke),!Ye&&rt>0&&(Ye=new V.Hp({next:He=>Je.next(He),error:He=>{Oe=!0,ve(),Ue=me(qe,We,He),Je.error(He)},complete:()=>{de=!0,ve(),Ue=me(qe,Y),Je.complete()}}),(0,a.Xf)(Te).subscribe(Ye))})(ne)}}function me(Le,Ne,...We){if(!0===Ne)return void Le();if(!1===Ne)return;const Y=new V.Hp({next:()=>{Y.unsubscribe(),Le()}});return(0,a.Xf)(Ne(...We)).subscribe(Y)}},9468:(At,fe,$)=>{"use strict";$.d(fe,{R:()=>O});var a=$(4482);function O(V,ge=0){return(0,a.e)((xe,me)=>{me.add(V.schedule(()=>xe.subscribe(me),ge))})}},3410:(At,fe,$)=>{"use strict";$.d(fe,{z:()=>a});const a={setTimeout(O,V,...ge){const{delegate:xe}=a;return xe?.setTimeout?xe.setTimeout(O,V,...ge):setTimeout(O,V,...ge)},clearTimeout(O){const{delegate:V}=a;return(V?.clearTimeout||clearTimeout)(O)},delegate:void 0}},2202:(At,fe,$)=>{"use strict";$.d(fe,{h:()=>O});const O=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,fe,$)=>{"use strict";$.d(fe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,fe,$)=>{"use strict";$.d(fe,{_6:()=>me,jO:()=>ge,yG:()=>xe});var a=$(576),O=$(3532);function V(Le){return Le[Le.length-1]}function ge(Le){return(0,a.m)(V(Le))?Le.pop():void 0}function xe(Le){return(0,O.K)(V(Le))?Le.pop():void 0}function me(Le,Ne){return"number"==typeof V(Le)?Le.pop():Ne}},8737:(At,fe,$)=>{"use strict";function a(O,V){if(O){const ge=O.indexOf(V);0<=ge&&O.splice(ge,1)}}$.d(fe,{P:()=>a})},3888:(At,fe,$)=>{"use strict";function a(O){const ge=O(xe=>{Error.call(xe),xe.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}$.d(fe,{d:()=>a})},2806:(At,fe,$)=>{"use strict";$.d(fe,{O:()=>ge,x:()=>V});var a=$(2416);let O=null;function V(xe){if(a.v.useDeprecatedSynchronousErrorHandling){const me=!O;if(me&&(O={errorThrown:!1,error:null}),xe(),me){const{errorThrown:Le,error:Ne}=O;if(O=null,Le)throw Ne}}else xe()}function ge(xe){a.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=xe)}},9672:(At,fe,$)=>{"use strict";function a(O,V,ge,xe=0,me=!1){const Le=V.schedule(function(){ge(),me?O.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(O.add(Le),!me)return Le}$.d(fe,{f:()=>a})},4671:(At,fe,$)=>{"use strict";function a(O){return O}$.d(fe,{y:()=>a})},1144:(At,fe,$)=>{"use strict";$.d(fe,{z:()=>a});const a=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(At,fe,$)=>{"use strict";$.d(fe,{D:()=>O});var a=$(576);function O(V){return Symbol.asyncIterator&&(0,a.m)(V?.[Symbol.asyncIterator])}},576:(At,fe,$)=>{"use strict";function a(O){return"function"==typeof O}$.d(fe,{m:()=>a})},3670:(At,fe,$)=>{"use strict";$.d(fe,{c:()=>V});var a=$(8822),O=$(576);function V(ge){return(0,O.m)(ge[a.L])}},6495:(At,fe,$)=>{"use strict";$.d(fe,{T:()=>V});var a=$(2202),O=$(576);function V(ge){return(0,O.m)(ge?.[a.h])}},8239:(At,fe,$)=>{"use strict";$.d(fe,{t:()=>O});var a=$(576);function O(V){return(0,a.m)(V?.then)}},3260:(At,fe,$)=>{"use strict";$.d(fe,{L:()=>ge,Q:()=>V});var a=$(655),O=$(576);function V(xe){return(0,a.FC)(this,arguments,function*(){const Le=xe.getReader();try{for(;;){const{value:Ne,done:We}=yield(0,a.qq)(Le.read());if(We)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ne)}}finally{Le.releaseLock()}})}function ge(xe){return(0,O.m)(xe?.getReader)}},3532:(At,fe,$)=>{"use strict";$.d(fe,{K:()=>O});var a=$(576);function O(V){return V&&(0,a.m)(V.schedule)}},4482:(At,fe,$)=>{"use strict";$.d(fe,{A:()=>O,e:()=>V});var a=$(576);function O(ge){return(0,a.m)(ge?.lift)}function V(ge){return xe=>{if(O(xe))return xe.lift(function(me){try{return ge(me,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(At,fe,$)=>{"use strict";function a(){}$.d(fe,{Z:()=>a})},9635:(At,fe,$)=>{"use strict";$.d(fe,{U:()=>V,z:()=>O});var a=$(4671);function O(...ge){return V(ge)}function V(ge){return 0===ge.length?a.y:1===ge.length?ge[0]:function(me){return ge.reduce((Le,Ne)=>Ne(Le),me)}}},7849:(At,fe,$)=>{"use strict";$.d(fe,{h:()=>V});var a=$(2416),O=$(3410);function V(ge){O.z.setTimeout(()=>{const{onUnhandledError:xe}=a.v;if(!xe)throw ge;xe(ge)})}},4532:(At,fe,$)=>{"use strict";function a(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(fe,{z:()=>a})},5226:function(At){At.exports=function(){"use strict";var fe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const a=T=>{const C={};for(const N in T)C[T[N]]="swal2-"+T[N];return C},O=a(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),V=a(["success","warning","info","question","error"]),ge="SweetAlert2:",me=T=>T.charAt(0).toUpperCase()+T.slice(1),Le=T=>{console.warn(`${ge} ${"object"==typeof T?T.join(" "):T}`)},Ne=T=>{console.error(`${ge} ${T}`)},We=[],K=(T,C)=>{(T=>{We.includes(T)||(We.push(T),Le(T))})(`"${T}" is deprecated and will be removed in the next major release. Please use "${C}" instead.`)},ne=T=>"function"==typeof T?T():T,Ye=T=>T&&"function"==typeof T.toPromise,Ue=T=>Ye(T)?T.toPromise():Promise.resolve(T),ct=T=>T&&Promise.resolve(T)===T,rt=()=>document.body.querySelector(`.${O.container}`),de=T=>{const C=rt();return C?C.querySelector(T):null},Oe=T=>de(`.${T}`),ve=()=>Oe(O.popup),qe=()=>Oe(O.icon),Te=()=>Oe(O.title),ke=()=>Oe(O["html-container"]),Je=()=>Oe(O.image),He=()=>Oe(O["progress-steps"]),ce=()=>Oe(O["validation-message"]),st=()=>de(`.${O.actions} .${O.confirm}`),Et=()=>de(`.${O.actions} .${O.cancel}`),nt=()=>de(`.${O.actions} .${O.deny}`),_t=()=>de(`.${O.loader}`),ye=()=>Oe(O.actions),be=()=>Oe(O.footer),Se=()=>Oe(O["timer-progress-bar"]),Me=()=>Oe(O.close),Ge=()=>{const T=Array.from(ve().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((N,H)=>{const Ee=parseInt(N.getAttribute("tabindex")),Mt=parseInt(H.getAttribute("tabindex"));return Ee>Mt?1:Ee<Mt?-1:0}),C=Array.from(ve().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(N=>"-1"!==N.getAttribute("tabindex"));return(T=>{const C=[];for(let N=0;N<T.length;N++)-1===C.indexOf(T[N])&&C.push(T[N]);return C})(T.concat(C)).filter(N=>et(N))},yt=()=>wt(document.body,O.shown)&&!wt(document.body,O["toast-shown"])&&!wt(document.body,O["no-backdrop"]),Ze=()=>ve()&&wt(ve(),O.toast),Dt={previousBodyPadding:null},Ht=(T,C)=>{if(T.textContent="",C){const H=(new DOMParser).parseFromString(C,"text/html");Array.from(H.querySelector("head").childNodes).forEach(Ee=>{T.appendChild(Ee)}),Array.from(H.querySelector("body").childNodes).forEach(Ee=>{Ee instanceof HTMLVideoElement||Ee instanceof HTMLAudioElement?T.appendChild(Ee.cloneNode(!0)):T.appendChild(Ee)})}},wt=(T,C)=>{if(!C)return!1;const N=C.split(/\s+/);for(let H=0;H<N.length;H++)if(!T.classList.contains(N[H]))return!1;return!0},wn=(T,C,N)=>{if(((T,C)=>{Array.from(T.classList).forEach(N=>{!Object.values(O).includes(N)&&!Object.values(V).includes(N)&&!Object.values(C.showClass).includes(N)&&T.classList.remove(N)})})(T,C),C.customClass&&C.customClass[N]){if("string"!=typeof C.customClass[N]&&!C.customClass[N].forEach)return void Le(`Invalid type of customClass.${N}! Expected string or iterable object, got "${typeof C.customClass[N]}"`);Vt(T,C.customClass[N])}},Ln=(T,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return T.querySelector(`.${O.popup} > .${O[C]}`);case"checkbox":return T.querySelector(`.${O.popup} > .${O.checkbox} input`);case"radio":return T.querySelector(`.${O.popup} > .${O.radio} input:checked`)||T.querySelector(`.${O.popup} > .${O.radio} input:first-child`);case"range":return T.querySelector(`.${O.popup} > .${O.range} input`);default:return T.querySelector(`.${O.popup} > .${O.input}`)}},Li=T=>{if(T.focus(),"file"!==T.type){const C=T.value;T.value="",T.value=C}},Yn=(T,C,N)=>{!T||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(H=>{Array.isArray(T)?T.forEach(Ee=>{N?Ee.classList.add(H):Ee.classList.remove(H)}):N?T.classList.add(H):T.classList.remove(H)}))},Vt=(T,C)=>{Yn(T,C,!0)},Hn=(T,C)=>{Yn(T,C,!1)},Jn=(T,C)=>{const N=Array.from(T.children);for(let H=0;H<N.length;H++){const Ee=N[H];if(Ee instanceof HTMLElement&&wt(Ee,C))return Ee}},oe=(T,C,N)=>{N===`${parseInt(N)}`&&(N=parseInt(N)),N||0===parseInt(N)?T.style[C]="number"==typeof N?`${N}px`:N:T.style.removeProperty(C)},ee=function(T){T.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ae=T=>{T.style.display="none"},se=(T,C,N,H)=>{const Ee=T.querySelector(C);Ee&&(Ee.style[N]=H)},Ve=function(T,C){C?ee(T,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ae(T)},et=T=>!(!T||!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)),Xt=T=>T.scrollHeight>T.clientHeight,Yt=T=>{const C=window.getComputedStyle(T),N=parseFloat(C.getPropertyValue("animation-duration")||"0"),H=parseFloat(C.getPropertyValue("transition-duration")||"0");return N>0||H>0},Pt=function(T){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const N=Se();et(N)&&(C&&(N.style.transition="none",N.style.width="100%"),setTimeout(()=>{N.style.transition=`width ${T/1e3}s linear`,N.style.width="0%"},10))},tt={},xn=T=>new Promise(C=>{if(!T)return C();const N=window.scrollX,H=window.scrollY;tt.restoreFocusTimeout=setTimeout(()=>{tt.previousActiveElement instanceof HTMLElement?(tt.previousActiveElement.focus(),tt.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(N,H)}),Rn=()=>typeof window>"u"||typeof document>"u",En=`\n <div aria-labelledby="${O.title}" aria-describedby="${O["html-container"]}" class="${O.popup}" tabindex="-1">\n   <button type="button" class="${O.close}"></button>\n   <ul class="${O["progress-steps"]}"></ul>\n   <div class="${O.icon}"></div>\n   <img class="${O.image}" />\n   <h2 class="${O.title}" id="${O.title}"></h2>\n   <div class="${O["html-container"]}" id="${O["html-container"]}"></div>\n   <input class="${O.input}" />\n   <input type="file" class="${O.file}" />\n   <div class="${O.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${O.select}"></select>\n   <div class="${O.radio}"></div>\n   <label for="${O.checkbox}" class="${O.checkbox}">\n     <input type="checkbox" />\n     <span class="${O.label}"></span>\n   </label>\n   <textarea class="${O.textarea}"></textarea>\n   <div class="${O["validation-message"]}" id="${O["validation-message"]}"></div>\n   <div class="${O.actions}">\n     <div class="${O.loader}"></div>\n     <button type="button" class="${O.confirm}"></button>\n     <button type="button" class="${O.deny}"></button>\n     <button type="button" class="${O.cancel}"></button>\n   </div>\n   <div class="${O.footer}"></div>\n   <div class="${O["timer-progress-bar-container"]}">\n     <div class="${O["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Bn=()=>{tt.currentInstance.resetValidationMessage()},nn=T=>{const C=(()=>{const T=rt();return!!T&&(T.remove(),Hn([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0)})();if(Rn())return void Ne("SweetAlert2 requires document to initialize");const N=document.createElement("div");N.className=O.container,C&&Vt(N,O["no-transition"]),Ht(N,En);const H=(T=>"string"==typeof T?document.querySelector(T):T)(T.target);H.appendChild(N),(T=>{const C=ve();C.setAttribute("role",T.toast?"alert":"dialog"),C.setAttribute("aria-live",T.toast?"polite":"assertive"),T.toast||C.setAttribute("aria-modal","true")})(T),(T=>{"rtl"===window.getComputedStyle(T).direction&&Vt(rt(),O.rtl)})(H),(()=>{const T=ve(),C=Jn(T,O.input),N=Jn(T,O.file),H=T.querySelector(`.${O.range} input`),Ee=T.querySelector(`.${O.range} output`),Mt=Jn(T,O.select),On=T.querySelector(`.${O.checkbox} input`),Xi=Jn(T,O.textarea);C.oninput=Bn,N.onchange=Bn,Mt.onchange=Bn,On.onchange=Bn,Xi.oninput=Bn,H.oninput=()=>{Bn(),Ee.value=H.value},H.onchange=()=>{Bn(),Ee.value=H.value}})()},si=(T,C)=>{T instanceof HTMLElement?C.appendChild(T):"object"==typeof T?di(T,C):T&&Ht(C,T)},di=(T,C)=>{T.jquery?rr(C,T):Ht(C,T.toString())},rr=(T,C)=>{if(T.textContent="",0 in C)for(let N=0;N in C;N++)T.appendChild(C[N].cloneNode(!0));else T.appendChild(C.cloneNode(!0))},Gn=(()=>{if(Rn())return!1;const T=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const N in C)if(Object.prototype.hasOwnProperty.call(C,N)&&typeof T.style[N]<"u")return C[N];return!1})(),Vr=(T,C)=>{const N=ye(),H=_t();C.showConfirmButton||C.showDenyButton||C.showCancelButton?ee(N):ae(N),wn(N,C,"actions"),function Ir(T,C,N){const H=st(),Ee=nt(),Mt=Et();G(H,"confirm",N),G(Ee,"deny",N),G(Mt,"cancel",N),function z(T,C,N,H){H.buttonsStyling?(Vt([T,C,N],O.styled),H.confirmButtonColor&&(T.style.backgroundColor=H.confirmButtonColor,Vt(T,O["default-outline"])),H.denyButtonColor&&(C.style.backgroundColor=H.denyButtonColor,Vt(C,O["default-outline"])),H.cancelButtonColor&&(N.style.backgroundColor=H.cancelButtonColor,Vt(N,O["default-outline"]))):Hn([T,C,N],O.styled)}(H,Ee,Mt,N),N.reverseButtons&&(N.toast?(T.insertBefore(Mt,H),T.insertBefore(Ee,H)):(T.insertBefore(Mt,C),T.insertBefore(Ee,C),T.insertBefore(H,C)))}(N,H,C),Ht(H,C.loaderHtml),wn(H,C,"loader")};function G(T,C,N){Ve(T,N[`show${me(C)}Button`],"inline-block"),Ht(T,N[`${C}ButtonText`]),T.setAttribute("aria-label",N[`${C}ButtonAriaLabel`]),T.className=O[C],wn(T,N,`${C}Button`),Vt(T,N[`${C}ButtonClass`])}const B=(T,C)=>{const N=rt();N&&(function R(T,C){"string"==typeof C?T.style.background=C:C||Vt([document.documentElement,document.body],O["no-backdrop"])}(N,C.backdrop),function J(T,C){C in O?Vt(T,O[C]):(Le('The "position" parameter is not valid, defaulting to "center"'),Vt(T,O.center))}(N,C.position),function Ie(T,C){if(C&&"string"==typeof C){const N=`grow-${C}`;N in O&&Vt(T,O[N])}}(N,C.grow),wn(N,C,"container"))};const pt=["input","file","range","select","radio","checkbox","textarea"],Ft=T=>{if(!ie[T.input])return void Ne(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${T.input}"`);const C=Go(T.input),N=ie[T.input](C,T);ee(C),T.inputAutoFocus&&setTimeout(()=>{Li(N)})},Gt=(T,C)=>{const N=Ln(ve(),T);if(N){(T=>{for(let C=0;C<T.attributes.length;C++){const N=T.attributes[C].name;["type","value","style"].includes(N)||T.removeAttribute(N)}})(N);for(const H in C)N.setAttribute(H,C[H])}},Un=T=>{const C=Go(T.input);"object"==typeof T.customClass&&Vt(C,T.customClass.input)},Kt=(T,C)=>{(!T.placeholder||C.inputPlaceholder)&&(T.placeholder=C.inputPlaceholder)},hi=(T,C,N)=>{if(N.inputLabel){T.id=O.input;const H=document.createElement("label"),Ee=O["input-label"];H.setAttribute("for",T.id),H.className=Ee,"object"==typeof N.customClass&&Vt(H,N.customClass.inputLabel),H.innerText=N.inputLabel,C.insertAdjacentElement("beforebegin",H)}},Go=T=>Jn(ve(),O[T]||O.input),_e=(T,C)=>{["string","number"].includes(typeof C)?T.value=`${C}`:ct(C)||Le(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},ie={};ie.text=ie.email=ie.password=ie.number=ie.tel=ie.url=(T,C)=>(_e(T,C.inputValue),hi(T,T,C),Kt(T,C),T.type=C.input,T),ie.file=(T,C)=>(hi(T,T,C),Kt(T,C),T),ie.range=(T,C)=>{const N=T.querySelector("input"),H=T.querySelector("output");return _e(N,C.inputValue),N.type=C.input,_e(H,C.inputValue),hi(N,T,C),T},ie.select=(T,C)=>{if(T.textContent="",C.inputPlaceholder){const N=document.createElement("option");Ht(N,C.inputPlaceholder),N.value="",N.disabled=!0,N.selected=!0,T.appendChild(N)}return hi(T,T,C),T},ie.radio=T=>(T.textContent="",T),ie.checkbox=(T,C)=>{const N=Ln(ve(),"checkbox");N.value="1",N.id=O.checkbox,N.checked=Boolean(C.inputValue);const H=T.querySelector("span");return Ht(H,C.inputPlaceholder),N},ie.textarea=(T,C)=>{_e(T,C.inputValue),Kt(T,C),hi(T,T,C);return setTimeout(()=>{if("MutationObserver"in window){const H=parseInt(window.getComputedStyle(ve()).width);new MutationObserver(()=>{const Mt=T.offsetWidth+(H=>parseInt(window.getComputedStyle(H).marginLeft)+parseInt(window.getComputedStyle(H).marginRight))(T);ve().style.width=Mt>H?`${Mt}px`:null}).observe(T,{attributes:!0,attributeFilter:["style"]})}}),T};const $e=(T,C)=>{const N=ke();wn(N,C,"htmlContainer"),C.html?(si(C.html,N),ee(N,"block")):C.text?(N.textContent=C.text,ee(N,"block")):ae(N),((T,C)=>{const N=ve(),H=fe.innerParams.get(T),Ee=!H||C.input!==H.input;pt.forEach(Mt=>{const On=Jn(N,O[Mt]);Gt(Mt,C.inputAttributes),On.className=O[Mt],Ee&&ae(On)}),C.input&&(Ee&&Ft(C),Un(C))})(T,C)},dn=(T,C)=>{for(const N in V)C.icon!==N&&Hn(T,V[N]);Vt(T,V[C.icon]),Ti(T,C),It(),wn(T,C,"icon")},It=()=>{const T=ve(),C=window.getComputedStyle(T).getPropertyValue("background-color"),N=T.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let H=0;H<N.length;H++)N[H].style.backgroundColor=C},Bi=(T,C)=>{let H,N=T.innerHTML;C.iconHtml?H=gc(C.iconHtml):"success"===C.icon?(H='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',N=N.replace(/ style=".*?"/g,"")):H="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':gc({question:"?",warning:"!",info:"i"}[C.icon]),N.trim()!==H.trim()&&Ht(T,H)},Ti=(T,C)=>{if(C.iconColor){T.style.color=C.iconColor,T.style.borderColor=C.iconColor;for(const N of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])se(T,N,"backgroundColor",C.iconColor);se(T,".swal2-success-ring","borderColor",C.iconColor)}},gc=T=>`<div class="${O["icon-content"]}">${T}</div>`,Ci=(T,C)=>{T.className=`${O.popup} ${et(T)?C.showClass.popup:""}`,C.toast?(Vt([document.documentElement,document.body],O["toast-shown"]),Vt(T,O.toast)):Vt(T,O.modal),wn(T,C,"popup"),"string"==typeof C.customClass&&Vt(T,C.customClass),C.icon&&Vt(T,O[`icon-${C.icon}`])},on=T=>{const C=document.createElement("li");return Vt(C,O["progress-step"]),Ht(C,T),C},Xn=T=>{const C=document.createElement("li");return Vt(C,O["progress-step-line"]),T.progressStepsDistance&&oe(C,"width",T.progressStepsDistance),C},ho=(T,C)=>{((T,C)=>{const N=rt(),H=ve();C.toast?(oe(N,"width",C.width),H.style.width="100%",H.insertBefore(_t(),qe())):oe(H,"width",C.width),oe(H,"padding",C.padding),C.color&&(H.style.color=C.color),C.background&&(H.style.background=C.background),ae(ce()),Ci(H,C)})(0,C),B(0,C),((T,C)=>{const N=He();C.progressSteps&&0!==C.progressSteps.length?(ee(N),N.textContent="",C.currentProgressStep>=C.progressSteps.length&&Le("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((H,Ee)=>{const Mt=on(H);if(N.appendChild(Mt),Ee===C.currentProgressStep&&Vt(Mt,O["active-progress-step"]),Ee!==C.progressSteps.length-1){const On=Xn(C);N.appendChild(On)}})):ae(N)})(0,C),((T,C)=>{const N=fe.innerParams.get(T),H=qe();N&&C.icon===N.icon?(Bi(H,C),dn(H,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(V).indexOf(C.icon)?(Ne(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),ae(H)):(ee(H),Bi(H,C),dn(H,C),Vt(H,C.showClass.icon)):ae(H)})(T,C),((T,C)=>{const N=Je();C.imageUrl?(ee(N,""),N.setAttribute("src",C.imageUrl),N.setAttribute("alt",C.imageAlt),oe(N,"width",C.imageWidth),oe(N,"height",C.imageHeight),N.className=O.image,wn(N,C,"image")):ae(N)})(0,C),((T,C)=>{const N=Te();Ve(N,C.title||C.titleText,"block"),C.title&&si(C.title,N),C.titleText&&(N.innerText=C.titleText),wn(N,C,"title")})(0,C),((T,C)=>{const N=Me();Ht(N,C.closeButtonHtml),wn(N,C,"closeButton"),Ve(N,C.showCloseButton),N.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),$e(T,C),Vr(0,C),((T,C)=>{const N=be();Ve(N,C.footer),C.footer&&si(C.footer,N),wn(N,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(ve())};function Ui(){const T=fe.innerParams.get(this);if(!T)return;const C=fe.domCache.get(this);ae(C.loader),Ze()?T.icon&&ee(qe()):Vi(C),Hn([C.popup,C.actions],O.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const Vi=T=>{const C=T.popup.getElementsByClassName(T.loader.getAttribute("data-button-to-replace"));C.length?ee(C[0],"inline-block"):!et(st())&&!et(nt())&&!et(Et())&&ae(T.actions)};const ai=()=>st()&&st().click(),ji=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ps=T=>{T.keydownTarget&&T.keydownHandlerAdded&&(T.keydownTarget.removeEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!1)},yi=(T,C)=>{const N=Ge();if(N.length)return(T+=C)===N.length?T=0:-1===T&&(T=N.length-1),void N[T].focus();ve().focus()},ls=["ArrowRight","ArrowDown"],cs=["ArrowLeft","ArrowUp"],jr=(T,C,N)=>{const H=fe.innerParams.get(T);H&&(C.isComposing||229===C.keyCode||(H.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?Wo(T,C,H):"Tab"===C.key?Sr(C):[...ls,...cs].includes(C.key)?Pn(C.key):"Escape"===C.key&&$r(C,H,N)))},Wo=(T,C,N)=>{if(ne(N.allowEnterKey)&&C.target&&T.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===T.getInput().outerHTML){if(["textarea","file"].includes(N.input))return;ai(),C.preventDefault()}},Sr=T=>{const C=T.target,N=Ge();let H=-1;for(let Ee=0;Ee<N.length;Ee++)if(C===N[Ee]){H=Ee;break}yi(H,T.shiftKey?-1:1),T.stopPropagation(),T.preventDefault()},Pn=T=>{const C=st(),N=nt(),H=Et();if(document.activeElement instanceof HTMLElement&&![C,N,H].includes(document.activeElement))return;const Mt=ls.includes(T)?"nextElementSibling":"previousElementSibling";let On=document.activeElement;for(let Xi=0;Xi<ye().children.length;Xi++){if(On=On[Mt],!On)return;if(On instanceof HTMLButtonElement&&et(On))break}On instanceof HTMLButtonElement&&On.focus()},$r=(T,C,N)=>{ne(C.allowEscapeKey)&&(T.preventDefault(),N(ji.esc))};var us={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ds=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},qo=()=>{const T=navigator.userAgent,C=!!T.match(/iPad/i)||!!T.match(/iPhone/i),N=!!T.match(/WebKit/i);C&&N&&!T.match(/CriOS/i)&&ve().scrollHeight>window.innerHeight-44&&(rt().style.paddingBottom="44px")},$i=()=>{const T=rt();let C;T.ontouchstart=N=>{C=dg(N)},T.ontouchmove=N=>{C&&(N.preventDefault(),N.stopPropagation())}},dg=T=>{const C=T.target,N=rt();return!or(T)&&!Yr(T)&&(C===N||!Xt(N)&&C instanceof HTMLElement&&"INPUT"!==C.tagName&&"TEXTAREA"!==C.tagName&&!(Xt(ke())&&ke().contains(C)))},or=T=>T.touches&&T.touches.length&&"stylus"===T.touches[0].touchType,Yr=T=>T.touches&&T.touches.length>1,ua=()=>{if(wt(document.body,O.iosfix)){const T=parseInt(document.body.style.top,10);Hn(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*T}},da=()=>{null===Dt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Dt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Dt.previousBodyPadding+(()=>{const T=document.createElement("div");T.className=O["scrollbar-measure"],document.body.appendChild(T);const C=T.getBoundingClientRect().width-T.clientWidth;return document.body.removeChild(T),C})()}px`)},Ls=()=>{null!==Dt.previousBodyPadding&&(document.body.style.paddingRight=`${Dt.previousBodyPadding}px`,Dt.previousBodyPadding=null)};function Ki(T,C,N,H){Ze()?mc(T,H):(xn(N).then(()=>mc(T,H)),Ps(tt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),yt()&&(Ls(),ua(),ds()),function To(){Hn([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}()}function ha(T){T=yh(T);const C=us.swalPromiseResolve.get(this),N=fo(this);this.isAwaitingPromise()?T.isDismissed||(Bs(this),C(T)):N&&C(T)}const fo=T=>{const C=ve();if(!C)return!1;const N=fe.innerParams.get(T);if(!N||wt(C,N.hideClass.popup))return!1;Hn(C,N.showClass.popup),Vt(C,N.hideClass.popup);const H=rt();return Hn(H,N.showClass.backdrop),Vt(H,N.hideClass.backdrop),Du(T,C,N),!0};const Bs=T=>{T.isAwaitingPromise()&&(fe.awaitingPromise.delete(T),fe.innerParams.get(T)||T._destroy())},yh=T=>typeof T>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},T),Du=(T,C,N)=>{const H=rt(),Ee=Gn&&Yt(C);"function"==typeof N.willClose&&N.willClose(C),Ee?vh(T,C,H,N.returnFocus,N.didClose):Ki(T,H,N.returnFocus,N.didClose)},vh=(T,C,N,H,Ee)=>{tt.swalCloseEventFinishedCallback=Ki.bind(null,T,N,H,Ee),C.addEventListener(Gn,function(Mt){Mt.target===C&&(tt.swalCloseEventFinishedCallback(),delete tt.swalCloseEventFinishedCallback)})},mc=(T,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(T.params)(),T._destroy()})};function _c(T,C,N){const H=fe.domCache.get(T);C.forEach(Ee=>{H[Ee].disabled=N})}function yc(T,C){if(T)if("radio"===T.type){const H=T.parentNode.parentNode.querySelectorAll("input");for(let Ee=0;Ee<H.length;Ee++)H[Ee].disabled=C}else T.disabled=C}const hs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Co=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Vs={},po=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Dh=T=>Object.prototype.hasOwnProperty.call(hs,T),vc=T=>-1!==Co.indexOf(T),nl=T=>Vs[T],Th=T=>{Dh(T)||Le(`Unknown parameter "${T}"`)},fs=T=>{po.includes(T)&&Le(`The parameter "${T}" is incompatible with toasts`)},Cu=T=>{nl(T)&&K(T,nl(T))};const pa=T=>{const C={};return Object.keys(T).forEach(N=>{vc(N)?C[N]=T[N]:Le(`Invalid parameter to update: ${N}`)}),C};const ei=T=>{rl(T),delete T.params,delete tt.keydownHandler,delete tt.keydownTarget,delete tt.currentInstance},rl=T=>{T.isAwaitingPromise()?(ol(fe,T),fe.awaitingPromise.set(T,!0)):(ol(us,T),ol(fe,T))},ol=(T,C)=>{for(const N in T)T[N].delete(C)};var fi=Object.freeze({__proto__:null,_destroy:function ga(){const T=fe.domCache.get(this),C=fe.innerParams.get(this);C?(T.popup&&tt.swalCloseEventFinishedCallback&&(tt.swalCloseEventFinishedCallback(),delete tt.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),ei(this)):rl(this)},close:ha,closeModal:ha,closePopup:ha,closeToast:ha,disableButtons:function fa(){_c(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function wh(){yc(this.getInput(),!0)},disableLoading:Ui,enableButtons:function bh(){_c(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Tu(){yc(this.getInput(),!1)},getInput:function zn(T){const C=fe.innerParams.get(T||this),N=fe.domCache.get(T||this);return N?Ln(N.popup,C.input):null},handleAwaitingPromise:Bs,hideLoading:Ui,isAwaitingPromise:function _h(){return!!fe.awaitingPromise.get(this)},rejectPromise:function hg(T){const C=us.swalPromiseReject.get(this);Bs(this),C&&C(T)},resetValidationMessage:function Eh(){const T=fe.domCache.get(this);T.validationMessage&&ae(T.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Hn(C,O.inputerror))},showValidationMessage:function Us(T){const C=fe.domCache.get(this),N=fe.innerParams.get(this);Ht(C.validationMessage,T),C.validationMessage.className=O["validation-message"],N.customClass&&N.customClass.validationMessage&&Vt(C.validationMessage,N.customClass.validationMessage),ee(C.validationMessage);const H=this.getInput();H&&(H.setAttribute("aria-invalid",!0),H.setAttribute("aria-describedby",O["validation-message"]),Li(H),Vt(H,O.inputerror))},update:function Ch(T){const C=ve(),N=fe.innerParams.get(this);if(!C||wt(C,N.hideClass.popup))return void Le("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const H=pa(T),Ee=Object.assign({},N,H);ho(this,Ee),fe.innerParams.set(this,Ee),Object.defineProperties(this,{params:{value:Object.assign({},this.params,T),writable:!1,enumerable:!0}})}});const Hr=T=>{let C=ve();C||new Sc,C=ve();const N=_t();Ze()?ae(qe()):ma(C,T),ee(N),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},ma=(T,C)=>{const N=ye(),H=_t();!C&&et(st())&&(C=st()),ee(N),C&&(ae(C),H.setAttribute("data-button-to-replace",C.className)),H.parentNode.insertBefore(H,C),Vt([T,N],O.loading)},sl=T=>T.checked?1:0,ps=T=>T.checked?T.value:null,Yi=T=>T.files.length?null!==T.getAttribute("multiple")?T.files:T.files[0]:null,al=(T,C)=>{const N=ve(),H=Ee=>{Iu[C.input](N,Jr(Ee),C)};Ye(C.inputOptions)||ct(C.inputOptions)?(Hr(st()),Ue(C.inputOptions).then(Ee=>{T.hideLoading(),H(Ee)})):"object"==typeof C.inputOptions?H(C.inputOptions):Ne("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof C.inputOptions)},js=(T,C)=>{const N=T.getInput();ae(N),Ue(C.inputValue).then(H=>{N.value="number"===C.input?`${parseFloat(H)||0}`:`${H}`,ee(N),N.focus(),T.hideLoading()}).catch(H=>{Ne(`Error in inputValue promise: ${H}`),N.value="",ee(N),N.focus(),T.hideLoading()})},Iu={select:(T,C,N)=>{const H=Jn(T,O.select),Ee=(Mt,On,Xi)=>{const er=document.createElement("option");er.value=Xi,Ht(er,On),er.selected=ll(Xi,N.inputValue),Mt.appendChild(er)};C.forEach(Mt=>{const On=Mt[0],Xi=Mt[1];if(Array.isArray(Xi)){const er=document.createElement("optgroup");er.label=On,er.disabled=!1,H.appendChild(er),Xi.forEach(Xr=>Ee(er,Xr[1],Xr[0]))}else Ee(H,Xi,On)}),H.focus()},radio:(T,C,N)=>{const H=Jn(T,O.radio);C.forEach(Mt=>{const On=Mt[0],Xi=Mt[1],er=document.createElement("input"),Xr=document.createElement("label");er.type="radio",er.name=O.radio,er.value=On,ll(On,N.inputValue)&&(er.checked=!0);const Ao=document.createElement("span");Ht(Ao,Xi),Ao.className=O.label,Xr.appendChild(er),Xr.appendChild(Ao),H.appendChild(Xr)});const Ee=H.querySelectorAll("input");Ee.length&&Ee[0].focus()}},Jr=T=>{const C=[];return typeof Map<"u"&&T instanceof Map?T.forEach((N,H)=>{let Ee=N;"object"==typeof Ee&&(Ee=Jr(Ee)),C.push([H,Ee])}):Object.keys(T).forEach(N=>{let H=T[N];"object"==typeof H&&(H=Jr(H)),C.push([N,H])}),C},ll=(T,C)=>C&&C.toString()===T.toString(),Sh=(T,C)=>{const N=fe.innerParams.get(T);if(!N.input)return void Ne(`The "input" parameter is needed to be set when using returnInputValueOn${me(C)}`);const H=((T,C)=>{const N=T.getInput();if(!N)return null;switch(C.input){case"checkbox":return sl(N);case"radio":return ps(N);case"file":return Yi(N);default:return C.inputAutoTrim?N.value.trim():N.value}})(T,N);N.inputValidator?bc(T,H,C):T.getInput().checkValidity()?"deny"===C?ul(T,H):hl(T,H):(T.enableButtons(),T.showValidationMessage(N.validationMessage))},bc=(T,C,N)=>{const H=fe.innerParams.get(T);T.disableInput(),Promise.resolve().then(()=>Ue(H.inputValidator(C,H.validationMessage))).then(Mt=>{T.enableButtons(),T.enableInput(),Mt?T.showValidationMessage(Mt):"deny"===N?ul(T,C):hl(T,C)})},ul=(T,C)=>{const N=fe.innerParams.get(T||void 0);N.showLoaderOnDeny&&Hr(nt()),N.preDeny?(fe.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>Ue(N.preDeny(C,N.validationMessage))).then(Ee=>{!1===Ee?(T.hideLoading(),Bs(T)):T.close({isDenied:!0,value:typeof Ee>"u"?C:Ee})}).catch(Ee=>wc(T||void 0,Ee))):T.close({isDenied:!0,value:C})},dl=(T,C)=>{T.close({isConfirmed:!0,value:C})},wc=(T,C)=>{T.rejectPromise(C)},hl=(T,C)=>{const N=fe.innerParams.get(T||void 0);N.showLoaderOnConfirm&&Hr(),N.preConfirm?(T.resetValidationMessage(),fe.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>Ue(N.preConfirm(C,N.validationMessage))).then(Ee=>{et(ce())||!1===Ee?(T.hideLoading(),Bs(T)):dl(T,typeof Ee>"u"?C:Ee)}).catch(Ee=>wc(T||void 0,Ee))):dl(T,C)},De=(T,C,N)=>{C.popup.onclick=()=>{const H=fe.innerParams.get(T);H&&(mn(H)||H.timer||H.input)||N(ji.close)}},mn=T=>T.showConfirmButton||T.showDenyButton||T.showCancelButton||T.showCloseButton;let $s=!1;const Ec=T=>{T.popup.onmousedown=()=>{T.container.onmouseup=function(C){T.container.onmouseup=void 0,C.target===T.container&&($s=!0)}}},li=T=>{T.container.onmousedown=()=>{T.popup.onmouseup=function(C){T.popup.onmouseup=void 0,(C.target===T.popup||T.popup.contains(C.target))&&($s=!0)}}},xh=(T,C,N)=>{C.container.onclick=H=>{const Ee=fe.innerParams.get(T);$s?$s=!1:H.target===C.container&&ne(Ee.allowOutsideClick)&&N(ji.backdrop)}},Qr=T=>T instanceof Element||(T=>"object"==typeof T&&T.jquery)(T);const ya=()=>{if(tt.timeout)return(()=>{const T=Se(),C=parseInt(window.getComputedStyle(T).width);T.style.removeProperty("transition"),T.style.width="100%";const N=parseInt(window.getComputedStyle(T).width);T.style.width=C/N*100+"%"})(),tt.timeout.stop()},Ji=()=>{if(tt.timeout){const T=tt.timeout.start();return Pt(T),T}};let Io=!1;const pl={};const fg=T=>{for(let C=T.target;C&&C!==document;C=C.parentNode)for(const N in pl){const H=C.getAttribute(N);if(H)return void pl[N].fire({template:H})}};var pg=Object.freeze({__proto__:null,argsToParams:T=>{const C={};return"object"!=typeof T[0]||Qr(T[0])?["title","html","icon"].forEach((N,H)=>{const Ee=T[H];"string"==typeof Ee||Qr(Ee)?C[N]=Ee:void 0!==Ee&&Ne(`Unexpected type of ${N}! Expected "string" or "Element", got ${typeof Ee}`)}):Object.assign(C,T[0]),C},bindClickHandler:function va(){pl[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Io||(document.body.addEventListener("click",fg),Io=!0)},clickCancel:()=>Et()&&Et().click(),clickConfirm:ai,clickDeny:()=>nt()&&nt().click(),enableLoading:Hr,fire:function Su(){for(var C=arguments.length,N=new Array(C),H=0;H<C;H++)N[H]=arguments[H];return new this(...N)},getActions:ye,getCancelButton:Et,getCloseButton:Me,getConfirmButton:st,getContainer:rt,getDenyButton:nt,getFocusableElements:Ge,getFooter:be,getHtmlContainer:ke,getIcon:qe,getIconContent:()=>Oe(O["icon-content"]),getImage:Je,getInputLabel:()=>Oe(O["input-label"]),getLoader:_t,getPopup:ve,getProgressSteps:He,getTimerLeft:()=>tt.timeout&&tt.timeout.getTimerLeft(),getTimerProgressBar:Se,getTitle:Te,getValidationMessage:ce,increaseTimer:T=>{if(tt.timeout){const C=tt.timeout.increase(T);return Pt(C,!0),C}},isDeprecatedParameter:nl,isLoading:()=>ve().hasAttribute("data-loading"),isTimerRunning:()=>tt.timeout&&tt.timeout.isRunning(),isUpdatableParameter:vc,isValidParameter:Dh,isVisible:()=>et(ve()),mixin:function Au(T){return class C extends(this){_main(H,Ee){return super._main(H,Object.assign({},T,Ee))}}},resumeTimer:Ji,showLoading:Hr,stopTimer:ya,toggleTimer:()=>{const T=tt.timeout;return T&&(T.running?ya():Ji())}});class ba{constructor(C,N){this.callback=C,this.remaining=N,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const N=this.running;return N&&this.stop(),this.remaining+=C,N&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const wa=["swal-title","swal-html","swal-footer"],Mu=T=>{const C={};return Array.from(T.querySelectorAll("swal-param")).forEach(H=>{Zo(H,["name","value"]);const Ee=H.getAttribute("name"),Mt=H.getAttribute("value");C[Ee]="boolean"==typeof hs[Ee]?"false"!==Mt:"object"==typeof hs[Ee]?JSON.parse(Mt):Mt}),C},Nu=T=>{const C={};return Array.from(T.querySelectorAll("swal-function-param")).forEach(H=>{const Ee=H.getAttribute("name"),Mt=H.getAttribute("value");C[Ee]=new Function(`return ${Mt}`)()}),C},Mh=T=>{const C={};return Array.from(T.querySelectorAll("swal-button")).forEach(H=>{Zo(H,["type","color","aria-label"]);const Ee=H.getAttribute("type");C[`${Ee}ButtonText`]=H.innerHTML,C[`show${me(Ee)}Button`]=!0,H.hasAttribute("color")&&(C[`${Ee}ButtonColor`]=H.getAttribute("color")),H.hasAttribute("aria-label")&&(C[`${Ee}ButtonAriaLabel`]=H.getAttribute("aria-label"))}),C},gl=T=>{const C={},N=T.querySelector("swal-image");return N&&(Zo(N,["src","width","height","alt"]),N.hasAttribute("src")&&(C.imageUrl=N.getAttribute("src")),N.hasAttribute("width")&&(C.imageWidth=N.getAttribute("width")),N.hasAttribute("height")&&(C.imageHeight=N.getAttribute("height")),N.hasAttribute("alt")&&(C.imageAlt=N.getAttribute("alt"))),C},Nh=T=>{const C={},N=T.querySelector("swal-icon");return N&&(Zo(N,["type","color"]),N.hasAttribute("type")&&(C.icon=N.getAttribute("type")),N.hasAttribute("color")&&(C.iconColor=N.getAttribute("color")),C.iconHtml=N.innerHTML),C},Tc=T=>{const C={},N=T.querySelector("swal-input");N&&(Zo(N,["type","label","placeholder","value"]),C.input=N.getAttribute("type")||"text",N.hasAttribute("label")&&(C.inputLabel=N.getAttribute("label")),N.hasAttribute("placeholder")&&(C.inputPlaceholder=N.getAttribute("placeholder")),N.hasAttribute("value")&&(C.inputValue=N.getAttribute("value")));const H=Array.from(T.querySelectorAll("swal-input-option"));return H.length&&(C.inputOptions={},H.forEach(Ee=>{Zo(Ee,["value"]);const Mt=Ee.getAttribute("value");C.inputOptions[Mt]=Ee.innerHTML})),C},Oh=(T,C)=>{const N={};for(const H in C){const Ee=C[H],Mt=T.querySelector(Ee);Mt&&(Zo(Mt,[]),N[Ee.replace(/^swal-/,"")]=Mt.innerHTML.trim())}return N},Cc=T=>{const C=wa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(T.children).forEach(N=>{const H=N.tagName.toLowerCase();C.includes(H)||Le(`Unrecognized element <${H}>`)})},Zo=(T,C)=>{Array.from(T.attributes).forEach(N=>{-1===C.indexOf(N.name)&&Le([`Unrecognized attribute "${N.name}" on <${T.tagName.toLowerCase()}>.`,C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."])})},gg=T=>{const C=rt(),N=ve();"function"==typeof T.willOpen&&T.willOpen(N);const Ee=window.getComputedStyle(document.body).overflowY;kh(C,N,T),setTimeout(()=>{Ko(C,N)},10),yt()&&(Vn(C,T.scrollbarPadding,Ee),Array.from(document.body.children).forEach(C=>{C===rt()||C.contains(rt())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!Ze()&&!tt.previousActiveElement&&(tt.previousActiveElement=document.activeElement),"function"==typeof T.didOpen&&setTimeout(()=>T.didOpen(N)),Hn(C,O["no-transition"])},Qi=T=>{const C=ve();if(T.target!==C)return;const N=rt();C.removeEventListener(Gn,Qi),N.style.overflowY="auto"},Ko=(T,C)=>{Gn&&Yt(C)?(T.style.overflowY="hidden",C.addEventListener(Gn,Qi)):T.style.overflowY="auto"},Vn=(T,C,N)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!wt(document.body,O.iosfix)){const C=document.body.scrollTop;document.body.style.top=-1*C+"px",Vt(document.body,O.iosfix),$i(),qo()}})(),C&&"hidden"!==N&&da(),setTimeout(()=>{T.scrollTop=0})},kh=(T,C,N)=>{Vt(T,N.showClass.backdrop),C.style.setProperty("opacity","0","important"),ee(C,"grid"),setTimeout(()=>{Vt(C,N.showClass.popup),C.style.removeProperty("opacity")},10),Vt([document.documentElement,document.body],O.shown),N.heightAuto&&N.backdrop&&!N.toast&&Vt([document.documentElement,document.body],O["height-auto"])};var zs={email:(T,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(T)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(T,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(T)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function _g(T){(function Ou(T){T.inputValidator||Object.keys(zs).forEach(C=>{T.input===C&&(T.inputValidator=zs[C])})})(T),T.showLoaderOnConfirm&&!T.preConfirm&&Le("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function mg(T){(!T.target||"string"==typeof T.target&&!document.querySelector(T.target)||"string"!=typeof T.target&&!T.target.appendChild)&&(Le('Target parameter is not valid, defaulting to "body"'),T.target="body")}(T),"string"==typeof T.title&&(T.title=T.title.split("\n").join("<br />")),nn(T)}let So;class Yo{constructor(){if(typeof window>"u")return;So=this;for(var C=arguments.length,N=new Array(C),H=0;H<C;H++)N[H]=arguments[H];const Ee=Object.freeze(this.constructor.argsToParams(N));Object.defineProperties(this,{params:{value:Ee,writable:!1,enumerable:!0,configurable:!0}});const Mt=So._main(So.params);fe.promise.set(this,Mt)}_main(C){let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(T=>{!1===T.backdrop&&T.allowOutsideClick&&Le('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in T)Th(C),T.toast&&fs(C),Cu(C)})(Object.assign({},N,C)),tt.currentInstance&&(tt.currentInstance._destroy(),yt()&&ds()),tt.currentInstance=So;const H=ku(C,N);_g(H),Object.freeze(H),tt.timeout&&(tt.timeout.stop(),delete tt.timeout),clearTimeout(tt.restoreFocusTimeout);const Ee=Ru(So);return ho(So,H),fe.innerParams.set(So,H),Ic(So,Ee,H)}then(C){return fe.promise.get(this).then(C)}finally(C){return fe.promise.get(this).finally(C)}}const Ic=(T,C,N)=>new Promise((H,Ee)=>{const Mt=On=>{T.close({isDismissed:!0,dismiss:On})};us.swalPromiseResolve.set(T,H),us.swalPromiseReject.set(T,Ee),C.confirmButton.onclick=()=>{(T=>{const C=fe.innerParams.get(T);T.disableButtons(),C.input?Sh(T,"confirm"):hl(T,!0)})(T)},C.denyButton.onclick=()=>{(T=>{const C=fe.innerParams.get(T);T.disableButtons(),C.returnInputValueOnDeny?Sh(T,"deny"):ul(T,!1)})(T)},C.cancelButton.onclick=()=>{((T,C)=>{T.disableButtons(),C(ji.cancel)})(T,Mt)},C.closeButton.onclick=()=>{Mt(ji.close)},((T,C,N)=>{fe.innerParams.get(T).toast?De(T,C,N):(Ec(C),li(C),xh(T,C,N))})(T,C,Mt),((T,C,N,H)=>{Ps(C),N.toast||(C.keydownHandler=Ee=>jr(T,Ee,H),C.keydownTarget=N.keydownListenerCapture?window:ve(),C.keydownListenerCapture=N.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(T,tt,N,Mt),((T,C)=>{"select"===C.input||"radio"===C.input?al(T,C):["text","email","number","tel","textarea"].includes(C.input)&&(Ye(C.inputValue)||ct(C.inputValue))&&(Hr(st()),js(T,C))})(T,N),gg(N),_l(tt,N,Mt),Ea(C,N),setTimeout(()=>{C.container.scrollTop=0})}),ku=(T,C)=>{const N=(T=>{const C="string"==typeof T.template?document.querySelector(T.template):T.template;if(!C)return{};const N=C.content;return Cc(N),Object.assign(Mu(N),Nu(N),Mh(N),gl(N),Nh(N),Tc(N),Oh(N,wa))})(T),H=Object.assign({},hs,C,N,T);return H.showClass=Object.assign({},hs.showClass,H.showClass),H.hideClass=Object.assign({},hs.hideClass,H.hideClass),H},Ru=T=>{const C={popup:ve(),container:rt(),actions:ye(),confirmButton:st(),denyButton:nt(),cancelButton:Et(),loader:_t(),closeButton:Me(),validationMessage:ce(),progressSteps:He()};return fe.domCache.set(T,C),C},_l=(T,C,N)=>{const H=Se();ae(H),C.timer&&(T.timeout=new ba(()=>{N("timer"),delete T.timeout},C.timer),C.timerProgressBar&&(ee(H),wn(H,C,"timerProgressBar"),setTimeout(()=>{T.timeout&&T.timeout.running&&Pt(C.timer)})))},Ea=(T,C)=>{if(!C.toast){if(!ne(C.allowEnterKey))return void ms();Da(T,C)||yi(-1,1)}},Da=(T,C)=>C.focusDeny&&et(T.denyButton)?(T.denyButton.focus(),!0):C.focusCancel&&et(T.cancelButton)?(T.cancelButton.focus(),!0):!(!C.focusConfirm||!et(T.confirmButton)||(T.confirmButton.focus(),0)),ms=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const T=new Date,C=localStorage.getItem("swal-initiation");C?(T.getTime()-Date.parse(C))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const N=document.createElement("audio");N.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",N.loop=!0,document.body.appendChild(N),setTimeout(()=>{N.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${T}`)}Object.assign(Yo.prototype,fi),Object.assign(Yo,pg),Object.keys(fi).forEach(T=>{Yo[T]=function(){if(So)return So[T](...arguments)}}),Yo.DismissReason=ji,Yo.version="11.7.5";const Sc=Yo;return Sc.default=Sc,Sc}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(fe,$){var a=fe.createElement("style");if(fe.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=$);else try{a.innerHTML=$}catch{a.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},655:(At,fe,$)=>{"use strict";function ge(ye,be){var Se={};for(var Me in ye)Object.prototype.hasOwnProperty.call(ye,Me)&&be.indexOf(Me)<0&&(Se[Me]=ye[Me]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(Me=Object.getOwnPropertySymbols(ye);Qe<Me.length;Qe++)be.indexOf(Me[Qe])<0&&Object.prototype.propertyIsEnumerable.call(ye,Me[Qe])&&(Se[Me[Qe]]=ye[Me[Qe]])}return Se}function ne(ye,be,Se,Me){return new(Se||(Se=Promise))(function(Ge,yt){function Ze(Ht){try{Dt(Me.next(Ht))}catch(wt){yt(wt)}}function zt(Ht){try{Dt(Me.throw(Ht))}catch(wt){yt(wt)}}function Dt(Ht){Ht.done?Ge(Ht.value):function Qe(Ge){return Ge instanceof Se?Ge:new Se(function(yt){yt(Ge)})}(Ht.value).then(Ze,zt)}Dt((Me=Me.apply(ye,be||[])).next())})}function Pe(ye){return this instanceof Pe?(this.v=ye,this):new Pe(ye)}function Te(ye,be,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Me=Se.apply(ye,be||[]),Ge=[];return Qe={},yt("next"),yt("throw"),yt("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function yt(en){Me[en]&&(Qe[en]=function(wn){return new Promise(function(Ln,Li){Ge.push([en,wn,Ln,Li])>1||Ze(en,wn)})})}function Ze(en,wn){try{!function zt(en){en.value instanceof Pe?Promise.resolve(en.value.v).then(Dt,Ht):wt(Ge[0][2],en)}(Me[en](wn))}catch(Ln){wt(Ge[0][3],Ln)}}function Dt(en){Ze("next",en)}function Ht(en){Ze("throw",en)}function wt(en,wn){en(wn),Ge.shift(),Ge.length&&Ze(Ge[0][0],Ge[0][1])}}function Je(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,be=ye[Symbol.asyncIterator];return be?be.call(ye):(ye=function rt(ye){var be="function"==typeof Symbol&&Symbol.iterator,Se=be&&ye[be],Me=0;if(Se)return Se.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Me>=ye.length&&(ye=void 0),{value:ye&&ye[Me++],done:!ye}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),Se={},Me("next"),Me("throw"),Me("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Me(Ge){Se[Ge]=ye[Ge]&&function(yt){return new Promise(function(Ze,zt){!function Qe(Ge,yt,Ze,zt){Promise.resolve(zt).then(function(Dt){Ge({value:Dt,done:Ze})},yt)}(Ze,zt,(yt=ye[Ge](yt)).done,yt.value)})}}}$.d(fe,{FC:()=>Te,KL:()=>Je,_T:()=>ge,mG:()=>ne,qq:()=>Pe})},4650:(At,fe,$)=>{"use strict";$.d(fe,{$8M:()=>Pc,$WT:()=>Bi,$Z:()=>um,AFp:()=>Hd,ALo:()=>Yb,AaK:()=>Ne,BQk:()=>Dm,CHM:()=>$s,CRH:()=>n0,CZH:()=>su,CqO:()=>Tm,D6c:()=>qd,EJc:()=>E_,EpF:()=>Kf,F$t:()=>xE,F4k:()=>IE,FYo:()=>j1,FiY:()=>ys,Gf:()=>p_,GfV:()=>Tv,Gpc:()=>K,Hsn:()=>ME,Ikx:()=>zE,JOm:()=>Qo,KtG:()=>Ec,LFG:()=>nn,LMc:()=>F_,Lbi:()=>rx,Lck:()=>UA,MAs:()=>TE,MGl:()=>Im,MMx:()=>Rd,MT6:()=>bA,NdJ:()=>Jf,O4$:()=>kh,OlP:()=>In,Oqu:()=>yb,P3R:()=>M1,PXZ:()=>Ni,Q6J:()=>Wf,QGY:()=>Yf,QbO:()=>ox,Qsj:()=>oS,QtT:()=>dD,R0b:()=>it,RDi:()=>jk,Rgc:()=>Ud,SBq:()=>Sf,SDv:()=>ap,Sil:()=>wr,Suo:()=>t0,TTD:()=>vc,TgZ:()=>Ad,Tol:()=>oA,Udp:()=>fb,VKq:()=>e_,W1O:()=>jd,WLB:()=>t_,X6Q:()=>Is,XFs:()=>se,Xpm:()=>Kt,Xts:()=>fv,Y36:()=>_d,YKP:()=>Hb,YNc:()=>rb,Yjl:()=>dn,Yz7:()=>wt,Z0I:()=>Li,ZZ4:()=>Ep,_Bn:()=>Km,_UZ:()=>Zf,_Vd:()=>qc,_c5:()=>ui,_uU:()=>hA,aQg:()=>na,c2e:()=>sx,cJS:()=>wn,cg1:()=>WE,dDg:()=>lx,dqk:()=>Pt,eFA:()=>nT,eJc:()=>m_,ekj:()=>VE,eoX:()=>cx,f3M:()=>di,g9A:()=>qD,h0i:()=>Wl,hGG:()=>gT,hij:()=>vb,iGM:()=>f_,ifc:()=>B,ip1:()=>_p,jDz:()=>gD,kEZ:()=>n_,kL8:()=>ti,kcU:()=>Ou,lG2:()=>Wt,lcZ:()=>Kl,lqb:()=>Fa,lri:()=>tT,n5z:()=>Bh,oAB:()=>ie,oxw:()=>ab,pQV:()=>Bb,q4F:()=>$1,qLn:()=>Mf,qOj:()=>Qv,qZA:()=>xd,rWj:()=>E0,s9C:()=>lb,sBO:()=>cu,s_b:()=>c_,soG:()=>w_,tb:()=>kt,tp0:()=>vs,uIk:()=>Hf,vHH:()=>de,vpe:()=>vr,wAp:()=>Lt,xp6:()=>Gr,ynx:()=>Em,z2F:()=>Cs,zSh:()=>Cf,zW0:()=>ym,zs3:()=>Zc});var a=$(7579),O=$(727),V=$(9751),ge=$(6451),xe=$(3099);function me(s){for(let l in s)if(s[l]===me)return l;throw Error("Could not find renamed property on target object.")}function Le(s,l){for(const c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=l[c])}function Ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const l=s.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function We(s,l){return null==s||""===s?null===l?"":l:null==l||""===l?s:s+" "+l}const Y=me({__forward_ref__:me});function K(s){return s.__forward_ref__=K,s.toString=function(){return Ne(this())},s}function ne(s){return Ye(s)?s():s}function Ye(s){return"function"==typeof s&&s.hasOwnProperty(Y)&&s.__forward_ref__===K}function Ue(s){return s&&!!s.\u0275providers}const rt="https://g.co/ng/security#xss";class de extends Error{constructor(l,c){super(Oe(l,c)),this.code=l}}function Oe(s,l){return`NG0${Math.abs(s)}${l?": "+l.trim():""}`}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Je(s,l){throw new de(-201,!1)}function Ze(s,l,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function wn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ln(s){return Yn(s,Jn)||Yn(s,ee)}function Li(s){return null!==Ln(s)}function Yn(s,l){return s.hasOwnProperty(l)?s[l]:null}function Hn(s){return s&&(s.hasOwnProperty(oe)||s.hasOwnProperty(ae))?s[oe]:null}const Jn=me({\u0275prov:me}),oe=me({\u0275inj:me}),ee=me({ngInjectableDef:me}),ae=me({ngInjectorDef:me});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let Ve;function pn(s){const l=Ve;return Ve=s,l}function Xt(s,l,c){const d=Ln(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&se.Optional?null:void 0!==l?l:void Je(Ne(s))}const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fn={},xn="__NG_DI_FLAG__",Rn="ngTempTokenPath",En="ngTokenPath",Qn=/\n/gm,Bn="\u0275",tn="__source";let mr;function gn(s){const l=mr;return mr=s,l}function Ho(s,l=se.Default){if(void 0===mr)throw new de(-203,!1);return null===mr?Xt(s,void 0,l):mr.get(s,l&se.Optional?null:void 0,l)}function nn(s,l=se.Default){return(function et(){return Ve}()||Ho)(ne(s),l)}function di(s,l=se.Default){return nn(s,rr(l))}function rr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Gn(s){const l=[];for(let c=0;c<s.length;c++){const d=ne(s[c]);if(Array.isArray(d)){if(0===d.length)throw new de(900,!1);let f,m=se.Default;for(let v=0;v<d.length;v++){const D=d[v],I=Vr(D);"number"==typeof I?-1===I?f=D.token:m|=I:f=D}l.push(nn(f,m))}else l.push(nn(d))}return l}function Cr(s,l){return s[xn]=l,s.prototype[xn]=l,s}function Vr(s){return s[xn]}function G(s){return{toString:s}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),B=(()=>{return(s=B||(B={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",B;var s})();const R={},J=[],Ie=me({\u0275cmp:me}),pt=me({\u0275dir:me}),jt=me({\u0275pipe:me}),Ft=me({\u0275mod:me}),rn=me({\u0275fac:me}),Gt=me({__NG_ELEMENT_ID__:me});let Un=0;function Kt(s){return G(()=>{const l=gc(s),c={...l,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||B.Emulated,id:"c"+Un++,styles:s.styles||J,_:null,schemas:s.schemas||null,tView:null};mh(c);const d=s.dependencies;return c.directiveDefs=la(d,!1),c.pipeDefs=la(d,!0),c})}function Go(s){return It(s)||Tn(s)}function _e(s){return null!==s}function ie(s){return G(()=>({type:s.type,bootstrap:s.bootstrap||J,declarations:s.declarations||J,imports:s.imports||J,exports:s.exports||J,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Tt(s,l){if(null==s)return R;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}function Wt(s){return G(()=>{const l=gc(s);return mh(l),l})}function dn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function It(s){return s[Ie]||null}function Tn(s){return s[pt]||null}function yn(s){return s[jt]||null}function Bi(s){const l=It(s)||Tn(s)||yn(s);return null!==l&&l.standalone}function Ti(s,l){const c=s[Ft]||null;if(!c&&!0===l)throw new Error(`Type ${Ne(s)} does not have '\u0275mod' property.`);return c}function gc(s){const l={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||J,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tt(s.inputs,l),outputs:Tt(s.outputs)}}function mh(s){s.features?.forEach(l=>l(s))}function la(s,l){if(!s)return null;const c=l?yn:Go;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(_e)}const Ci=0,ht=1,on=2,Xn=3,Cn=4,ho=5,Ui=6,Vi=7,zn=8,ca=9,ai=10,sn=11,el=12,ji=13,Ps=14,zo=15,yi=16,ls=17,cs=18,jr=19,Wo=20,Sr=21,Pn=22,us=1,tl=2,ds=7,Fs=8,qo=9,$i=10;function or(s){return Array.isArray(s)&&"object"==typeof s[us]}function Yr(s){return Array.isArray(s)&&!0===s[us]}function ua(s){return 0!=(4&s.flags)}function da(s){return s.componentOffset>-1}function Ls(s){return 1==(1&s.flags)}function Ki(s){return!!s.template}function To(s){return 0!=(256&s[on])}function po(s,l){return s.hasOwnProperty(rn)?s[rn]:null}class Dh{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function vc(){return nl}function nl(s){return s.type.prototype.ngOnChanges&&(s.setInput=fs),Th}function Th(){const s=il(this),l=s?.current;if(l){const c=s.previous;if(c===R)s.previous=l;else for(let d in l)c[d]=l[d];s.current=null,this.ngOnChanges(l)}}function fs(s,l,c,d){const f=this.declaredInputs[c],m=il(s)||function Ch(s,l){return s[Cu]=l}(s,{previous:R,current:null}),v=m.current||(m.current={}),D=m.previous,I=D[f];v[f]=new Dh(I&&I.currentValue,l,D===R),s[d]=l}vc.ngInherit=!0;const Cu="__ngSimpleChanges__";function il(s){return s[Cu]||null}const ei=function(s,l,c){},rl="svg";function fi(s){for(;Array.isArray(s);)s=s[Ci];return s}function ma(s,l){return fi(l[s])}function Hi(s,l){return fi(l[s.index])}function sl(s,l){return s.data[l]}function ps(s,l){return s[l]}function Yi(s,l){const c=l[s];return or(c)?c:c[Ci]}function js(s){return 64==(64&s[on])}function Jr(s,l){return null==l?null:s[l]}function ll(s){s[cs]=0}function _a(s,l){s[ho]+=l;let c=s,d=s[Xn];for(;null!==d&&(1===l&&1===c[ho]||-1===l&&0===c[ho]);)d[ho]+=l,c=d,d=d[Xn]}const Zt={lFrame:Tc(null),bindingsEnabled:!0};function wc(){return Zt.bindingsEnabled}function De(){return Zt.lFrame.lView}function mn(){return Zt.lFrame.tView}function $s(s){return Zt.lFrame.contextLView=s,s[zn]}function Ec(s){return Zt.lFrame.contextLView=null,s}function li(){let s=xh();for(;null!==s&&64===s.type;)s=s.parent;return s}function xh(){return Zt.lFrame.currentTNode}function Hs(){const s=Zt.lFrame,l=s.currentTNode;return s.isParent?l:l.parent}function Qr(s,l){const c=Zt.lFrame;c.currentTNode=s,c.isParent=l}function fl(){return Zt.lFrame.isParent}function Su(){Zt.lFrame.isParent=!1}function Ji(){const s=Zt.lFrame;let l=s.bindingRootIndex;return-1===l&&(l=s.bindingRootIndex=s.tView.bindingStartIndex),l}function Ar(){return Zt.lFrame.bindingIndex}function gs(){return Zt.lFrame.bindingIndex++}function Io(s){const l=Zt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+s,c}function va(s){Zt.lFrame.inI18n=s}function fg(s,l){const c=Zt.lFrame;c.bindingIndex=c.bindingRootIndex=s,ba(l)}function ba(s){Zt.lFrame.currentDirectiveIndex=s}function Dc(){return Zt.lFrame.currentQueryIndex}function Mu(s){Zt.lFrame.currentQueryIndex=s}function Nu(s){const l=s[ht];return 2===l.type?l.declTNode:1===l.type?s[Ui]:null}function Mh(s,l,c){if(c&se.SkipSelf){let f=l,m=s;for(;!(f=f.parent,null!==f||c&se.Host||(f=Nu(m),null===f||(m=m[zo],10&f.type))););if(null===f)return!1;l=f,s=m}const d=Zt.lFrame=Nh();return d.currentTNode=l,d.lView=s,!0}function gl(s){const l=Nh(),c=s[ht];Zt.lFrame=l,l.currentTNode=c.firstChild,l.lView=s,l.tView=c,l.contextLView=s,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Nh(){const s=Zt.lFrame,l=null===s?null:s.child;return null===l?Tc(s):l}function Tc(s){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=l),l}function Oh(){const s=Zt.lFrame;return Zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Cc=Oh;function Zo(){const s=Oh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qi(){return Zt.lFrame.selectedIndex}function Ko(s){Zt.lFrame.selectedIndex=s}function Vn(){const s=Zt.lFrame;return sl(s.tView,s.selectedIndex)}function kh(){Zt.lFrame.currentNamespace=rl}function Ou(){!function mg(){Zt.lFrame.currentNamespace=null}()}function Yo(s,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:k}=m;v&&(s.contentHooks??(s.contentHooks=[])).push(-c,v),D&&((s.contentHooks??(s.contentHooks=[])).push(c,D),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(c,D)),I&&(s.viewHooks??(s.viewHooks=[])).push(-c,I),x&&((s.viewHooks??(s.viewHooks=[])).push(c,x),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(c,x)),null!=k&&(s.destroyHooks??(s.destroyHooks=[])).push(c,k)}}function Ic(s,l,c){_l(s,l,3,c)}function ku(s,l,c,d){(3&s[on])===c&&_l(s,l,c,d)}function Ru(s,l){let c=s[on];(3&c)===l&&(c&=2047,c+=1,s[on]=c)}function _l(s,l,c,d){const m=d??-1,v=l.length-1;let D=0;for(let I=void 0!==d?65535&s[cs]:0;I<v;I++)if("number"==typeof l[I+1]){if(D=l[I],null!=d&&D>=d)break}else l[I]<0&&(s[cs]+=65536),(D<m||-1==m)&&(Ea(s,c,l,I),s[cs]=(4294901760&s[cs])+I+2),I++}function Ea(s,l,c,d){const f=c[d]<0,m=c[d+1],D=s[f?-c[d]:c[d]];if(f){if(s[on]>>11<s[cs]>>16&&(3&s[on])===l){s[on]+=2048,ei(4,D,m);try{m.call(D)}finally{ei(5,D,m)}}}else{ei(4,D,m);try{m.call(D)}finally{ei(5,D,m)}}}const Da=-1;class ms{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Xi(s,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],D=c[d++];s.setAttribute(l,v,D,m)}else{const m=f,v=c[++d];Xr(m)?s.setProperty(l,m,v):s.setAttribute(l,m,v),d++}}return d}function er(s){return 3===s||4===s||6===s}function Xr(s){return 64===s.charCodeAt(0)}function Ao(s,l){if(null!==l&&0!==l.length)if(null===s||0===s.length)s=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||yl(s,c,f,null,-1===c||2===c?l[++d]:null)}}return s}function yl(s,l,c,d,f){let m=0,v=s.length;if(-1===l)v=-1;else for(;m<s.length;){const D=s[m++];if("number"==typeof D){if(D===l){v=-1;break}if(D>l){v=m-1;break}}}for(;m<s.length;){const D=s[m];if("number"==typeof D)break;if(D===c){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(s.splice(v,0,l),m=v+1),s.splice(m++,0,c),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}function Ac(s){return s!==Da}function xc(s){return 32767&s}function Mc(s,l){let c=function Pu(s){return s>>16}(s),d=l;for(;c>0;)d=d[zo],c--;return d}let Rh=!0;function Nc(s){const l=Rh;return Rh=s,l}const Uy=255,Fu=5;let Vy=0;const xr={};function Lu(s,l){const c=Fh(s,l);if(-1!==c)return c;const d=l[ht];d.firstCreatePass&&(s.injectorIndex=l.length,Ws(d.data,s),Ws(l,null),Ws(d.blueprint,null));const f=pi(s,l),m=s.injectorIndex;if(Ac(f)){const v=xc(f),D=Mc(f,l),I=D[ht].data;for(let x=0;x<8;x++)l[m+x]=D[v+x]|I[v+x]}return l[m+8]=f,m}function Ws(s,l){s.push(0,0,0,0,0,0,0,0,l)}function Fh(s,l){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===l[s.injectorIndex+8]?-1:s.injectorIndex}function pi(s,l){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=Rc(f),null===d)return Da;if(c++,f=f[zo],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Da}function Oc(s,l,c){!function Ph(s,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Gt)&&(d=c[Gt]),null==d&&(d=c[Gt]=Vy++);const f=d&Uy;l.data[s+(f>>Fu)]|=1<<f}(s,l,c)}function yg(s,l,c){if(c&se.Optional||void 0!==s)return s;Je()}function kc(s,l,c,d){if(c&se.Optional&&void 0===d&&(d=null),!(c&(se.Self|se.Host))){const f=s[ca],m=pn(void 0);try{return f?f.get(l,d,c&se.Optional):Xt(l,d,c&se.Optional)}finally{pn(m)}}return yg(d,0,c)}function vg(s,l,c,d=se.Default,f){if(null!==s){if(1024&l[on]){const v=function $y(s,l,c,d,f){let m=s,v=l;for(;null!==m&&null!==v&&1024&v[on]&&!(256&v[on]);){const D=bg(m,v,c,d|se.Self,xr);if(D!==xr)return D;let I=m.parent;if(!I){const x=v[Sr];if(x){const k=x.get(c,xr,d);if(k!==xr)return k}I=Rc(v),v=v[zo]}m=I}return f}(s,l,c,d,xr);if(v!==xr)return v}const m=bg(s,l,c,d,xr);if(m!==xr)return m}return kc(l,c,d,f)}function bg(s,l,c,d,f){const m=function jy(s){if("string"==typeof s)return s.charCodeAt(0)||0;const l=s.hasOwnProperty(Gt)?s[Gt]:void 0;return"number"==typeof l?l>=0?l&Uy:Lh:l}(c);if("function"==typeof m){if(!Mh(l,s,d))return d&se.Host?yg(f,0,d):kc(l,c,d,f);try{const v=m(d);if(null!=v||d&se.Optional)return v;Je()}finally{Cc()}}else if("number"==typeof m){let v=null,D=Fh(s,l),I=Da,x=d&se.Host?l[yi][Ui]:null;for((-1===D||d&se.SkipSelf)&&(I=-1===D?pi(s,l):l[D+8],I!==Da&&Uu(d,!1)?(v=l[ht],D=xc(I),l=Mc(I,l)):D=-1);-1!==D;){const k=l[ht];if(Ta(m,D,k.data)){const j=wg(D,l,c,v,d,x);if(j!==xr)return j}I=l[D+8],I!==Da&&Uu(d,l[ht].data[D+8]===x)&&Ta(m,D,l)?(v=k,D=xc(I),l=Mc(I,l)):D=-1}}return f}function wg(s,l,c,d,f,m){const v=l[ht],D=v.data[s+8],k=vl(D,v,c,null==d?da(D)&&Rh:d!=v&&0!=(3&D.type),f&se.Host&&m===D);return null!==k?_s(l,v,k,D):xr}function vl(s,l,c,d,f){const m=s.providerIndexes,v=l.data,D=1048575&m,I=s.directiveStart,k=m>>20,Q=f?D+k:s.directiveEnd;for(let le=d?D:D+k;le<Q;le++){const Ce=v[le];if(le<I&&c===Ce||le>=I&&Ce.type===c)return le}if(f){const le=v[I];if(le&&Ki(le)&&le.type===c)return I}return null}function _s(s,l,c,d){let f=s[c];const m=l.data;if(function Sc(s){return s instanceof ms}(f)){const v=f;v.resolving&&function Pe(s,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${s}`:"";throw new de(-200,`Circular dependency in DI detected for ${s}${c}`)}(function qe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(m[c]));const D=Nc(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?pn(v.injectImpl):null;Mh(s,d,se.Default);try{f=s[c]=v.factory(void 0,m,s,d),l.firstCreatePass&&c>=d.directiveStart&&function So(s,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=nl(l);(c.preOrderHooks??(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,v)}f&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-s,f),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],l)}finally{null!==I&&pn(I),Nc(D),v.resolving=!1,Cc()}}return f}function Ta(s,l,c){return!!(c[l+(s>>Fu)]&1<<s)}function Uu(s,l){return!(s&se.Self||s&se.Host&&l)}class bl{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return vg(this._tNode,this._lView,l,rr(d),c)}}function Lh(){return new bl(li(),De())}function Bh(s){return G(()=>{const l=s.prototype.constructor,c=l[rn]||wl(l),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[rn]||wl(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function wl(s){return Ye(s)?()=>{const l=wl(ne(s));return l&&l()}:po(s)}function Rc(s){const l=s[ht],c=l.type;return 2===c?l.declTNode:1===c?s[Ui]:null}function Pc(s){return function Bu(s,l){if("class"===l)return s.classes;if("style"===l)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(er(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(li(),s)}const Ia="__parameters__";function El(s,l,c){return G(()=>{const d=function Eg(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return D.annotation=v,D;function D(I,x,k){const j=I.hasOwnProperty(Ia)?I[Ia]:Object.defineProperty(I,Ia,{value:[]})[Ia];for(;j.length<=k;)j.push(null);return(j[k]=j[k]||[]).push(v),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class In{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Dl(s,l){s.forEach(c=>Array.isArray(c)?Dl(c,l):l(c))}function jh(s,l,c){l>=s.length?s.push(c):s.splice(l,0,c)}function $h(s,l){return l>=s.length-1?s.pop():s.splice(l,1)[0]}function Tl(s,l){const c=[];for(let d=0;d<s;d++)c.push(l);return c}function go(s,l,c){let d=hn(s,l);return d>=0?s[1|d]=c:(d=~d,function Hh(s,l,c,d){let f=s.length;if(f==l)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>l;)s[f]=s[f-2],f--;s[l]=c,s[l+1]=d}}(s,d,l,c)),d}function X(s,l){const c=hn(s,l);if(c>=0)return s[1|c]}function hn(s,l){return function $u(s,l,c){let d=0,f=s.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=s[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(s,l,1)}const ys=Cr(El("Optional"),8),vs=Cr(El("SkipSelf"),4);var Qo=(()=>((Qo=Qo||{})[Qo.Important=1]="Important",Qo[Qo.DashCase=2]="DashCase",Qo))();const Ml=/^>|^->|<!--|-->|--!>|<!-$/g,Jy=/(<|>)/,Qy="\u200b$1\u200b";const qs=new Map;let Vg=0;const af="__ngContext__";function ci(s,l){or(l)?(s[af]=l[Wo],function ev(s){qs.set(s[Wo],s)}(l)):s[af]=l}let df;function jc(s,l){return df(s,l)}function Qu(s){const l=s[Xn];return Yr(l)?l[Xn]:l}function Oa(s){return pf(s[ji])}function Xu(s){return pf(s[Cn])}function pf(s){for(;null!==s&&!Yr(s);)s=s[Cn];return s}function Ks(s,l,c,d,f){if(null!=d){let m,v=!1;Yr(d)?m=d:or(d)&&(v=!0,d=d[Ci]);const D=fi(d);0===s&&null!==c?null==f?Or(l,c,D):Qt(l,c,D,f||null,!0):1===s&&null!==c?Qt(l,c,D,f||null,!0):2===s?zg(l,D,v):3===s&&l.destroyNode(D),null!=m&&function OI(s,l,c,d,f){const m=c[ds];m!==fi(c)&&Ks(l,s,d,m,f);for(let D=$i;D<c.length;D++){const I=c[D];ad(I[ht],I,s,l,d,m)}}(l,s,m,c,f)}}function gf(s,l){return s.createText(l)}function ed(s,l,c){s.setValue(l,c)}function mf(s,l){return s.createComment(function xa(s){return s.replace(Ml,l=>l.replace(Jy,Qy))}(l))}function _f(s,l,c){return s.createElement(l,c)}function E(s,l){const c=s[qo],d=c.indexOf(l),f=l[Xn];512&l[on]&&(l[on]&=-513,_a(f,-1)),c.splice(d,1)}function M(s,l){if(s.length<=$i)return;const c=$i+l,d=s[c];if(d){const f=d[ls];null!==f&&f!==s&&E(f,d),l>0&&(s[c-1][Cn]=d[Cn]);const m=$h(s,$i+l);!function td(s,l){ad(s,l,l[sn],2,null,null),l[Ci]=null,l[Ui]=null}(d[ht],d);const v=m[jr];null!==v&&v.detachView(m[ht]),d[Xn]=null,d[Cn]=null,d[on]&=-65}return d}function F(s,l){if(!(128&l[on])){const c=l[sn];c.destroyNode&&ad(s,l,c,3,null,null),function b(s){let l=s[ji];if(!l)return te(s[ht],s);for(;l;){let c=null;if(or(l))c=l[ji];else{const d=l[$i];d&&(c=d)}if(!c){for(;l&&!l[Cn]&&l!==s;)or(l)&&te(l[ht],l),l=l[Xn];null===l&&(l=s),or(l)&&te(l[ht],l),c=l&&l[Cn]}l=c}}(l)}}function te(s,l){if(!(128&l[on])){l[on]&=-65,l[on]|=128,function Xe(s,l){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof ms)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const D=f[m[v]],I=m[v+1];ei(4,D,I);try{I.call(D)}finally{ei(5,D,I)}}else{ei(4,f,m);try{m.call(f)}finally{ei(5,f,m)}}}}}(s,l),function he(s,l){const c=s.cleanup,d=l[Vi];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+3];v>=0?d[f=v]():d[f=-v].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[Vi]=null}}(s,l),1===l[ht].type&&l[sn].destroy();const c=l[ls];if(null!==c&&Yr(l[Xn])){c!==l[Xn]&&E(c,l);const d=l[jr];null!==d&&d.detachView(s)}!function sf(s){qs.delete(s[Wo])}(l)}}function at(s,l,c){return St(s,l.parent,c)}function St(s,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[Ci];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=s.data[d.directiveStart+f];if(m===B.None||m===B.Emulated)return null}return Hi(d,c)}}function Qt(s,l,c,d,f){s.insertBefore(l,c,d,f)}function Or(s,l,c){s.appendChild(l,c)}function No(s,l,c,d,f){null!==d?Qt(s,l,c,d,f):Or(s,l,c)}function Ys(s,l){return s.parentNode(l)}function Gg(s,l,c){return Hc(s,l,c)}function id(s,l,c){return 40&s.type?Hi(s,c):null}let Gc,ld,v1,av,Hc=id;function rd(s,l){Hc=s,Gc=l}function zc(s,l,c,d){const f=at(s,d,l),m=l[sn],D=Gg(d.parent||l[Ui],d,l);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)No(m,f,c[I],D,!1);else No(m,f,c,D,!1);void 0!==Gc&&Gc(m,d,l,c,f)}function od(s,l){if(null!==l){const c=l.type;if(3&c)return Hi(l,s);if(4&c)return Wc(-1,s[l.index]);if(8&c){const d=l.child;if(null!==d)return od(s,d);{const f=s[l.index];return Yr(f)?Wc(-1,f):fi(f)}}if(32&c)return jc(l,s)()||fi(s[l.index]);{const d=sd(s,l);return null!==d?Array.isArray(d)?d[0]:od(Qu(s[yi]),d):od(s,l.next)}}return null}function sd(s,l){return null!==l?s[yi][Ui].projection[l.projection]:null}function Wc(s,l){const c=$i+s+1;if(c<l.length){const d=l[c],f=d[ht].firstChild;if(null!==f)return od(d,f)}return l[ds]}function zg(s,l,c){const d=Ys(s,l);d&&function nd(s,l,c,d){s.removeChild(l,c,d)}(s,d,l,c)}function iv(s,l,c,d,f,m,v){for(;null!=c;){const D=d[c.index],I=c.type;if(v&&0===l&&(D&&ci(fi(D),d),c.flags|=2),32!=(32&c.flags))if(8&I)iv(s,l,c.child,d,f,m,!1),Ks(l,s,f,D,m);else if(32&I){const x=jc(c,d);let k;for(;k=x();)Ks(l,s,f,k,m);Ks(l,s,f,D,m)}else 16&I?to(s,l,d,c,f,m):Ks(l,s,f,D,m);c=v?c.projectionNext:c.next}}function ad(s,l,c,d,f,m){iv(c,d,s.firstChild,l,f,m,!1)}function to(s,l,c,d,f,m){const v=c[yi],I=v[Ui].projection[d.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Ks(l,s,f,I[x],m);else iv(s,l,I,v[Xn],f,m,!0)}function rv(s,l,c){""===c?s.removeAttribute(l,"class"):s.setAttribute(l,"class",c)}function _1(s,l,c){const{mergedAttrs:d,classes:f,styles:m}=c;null!==d&&Xi(s,l,d),null!==f&&rv(s,l,f),null!==m&&function RI(s,l,c){s.setAttribute(l,"style",c)}(s,l,m)}function cd(s){return function y1(){if(void 0===ld&&(ld=null,Pt.trustedTypes))try{ld=Pt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ld}()?.createHTML(s)||s}function jk(s){v1=s}function w1(s){return function ud(){if(void 0===av&&(av=null,Pt.trustedTypes))try{av=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return av}()?.createScriptURL(s)||s}class E1{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}function Ol(s){return s instanceof E1?s.changingThisBreaksApplicationSecurity:s}function yf(s,l){const c=function Wg(s){return s instanceof E1&&s.getTypeName()||null}(s);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see ${rt})`)}return c===l}class HI{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(cd(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class Wk{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const c=this.inertDocument.createElement("template");return c.innerHTML=cd(l),c}}const GI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vf(s){return(s=String(s)).match(GI)?s:"unsafe:"+s}function ka(s){const l={};for(const c of s.split(","))l[c]=!0;return l}function hd(...s){const l={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const cv=ka("area,br,col,hr,img,wbr"),T1=ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C1=ka("rp,rt"),bf=hd(cv,hd(T1,ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hd(C1,ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hd(C1,T1)),wf=ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qg=hd(wf,ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Ii=(()=>((Ii=Ii||{})[Ii.NONE=0]="NONE",Ii[Ii.HTML=1]="HTML",Ii[Ii.STYLE=2]="STYLE",Ii[Ii.SCRIPT=3]="SCRIPT",Ii[Ii.URL=4]="URL",Ii[Ii.RESOURCE_URL=5]="RESOURCE_URL",Ii))();function A1(s){const l=Oo();return l?l.sanitize(Ii.URL,s)||"":yf(s,"URL")?Ol(s):vf(ve(s))}function hv(s){const l=Oo();if(l)return w1(l.sanitize(Ii.RESOURCE_URL,s)||"");if(yf(s,"ResourceURL"))return w1(Ol(s));throw new de(904,!1)}function M1(s,l,c){return function eS(s,l){return"src"===l&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===l&&("base"===s||"link"===s)?hv:A1}(l,c)(s)}function Oo(){const s=De();return s&&s[el]}const fv=new In("ENVIRONMENT_INITIALIZER"),Kg=new In("INJECTOR",-1),N1=new In("INJECTOR_DEF_TYPES");class pv{get(l,c=Fn){if(c===Fn){const d=new Error(`NullInjectorError: No provider for ${Ne(l)}!`);throw d.name="NullInjectorError",d}return c}}function gv(...s){return{\u0275providers:O1(0,s),\u0275fromNgModule:!0}}function O1(s,...l){const c=[],d=new Set;let f;return Dl(l,m=>{const v=m;mv(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&k1(f,c),c}function k1(s,l){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Tf(f,m=>{l.push(m)})}}function mv(s,l,c,d){if(!(s=ne(s)))return!1;let f=null,m=Hn(s);const v=!m&&It(s);if(m||v){if(v&&!v.standalone)return!1;f=s}else{const I=s.ngModule;if(m=Hn(I),!m)return!1;f=I}const D=d.has(f);if(v){if(D)return!1;if(d.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of I)mv(x,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let x;d.add(f);try{Dl(m.imports,k=>{mv(k,l,c,d)&&(x||(x=[]),x.push(k))})}finally{}void 0!==x&&k1(x,l)}if(!D){const x=po(f)||(()=>new f);l.push({provide:f,useFactory:x,deps:J},{provide:N1,useValue:f,multi:!0},{provide:fv,useValue:()=>nn(f),multi:!0})}const I=m.providers;null==I||D||Tf(I,k=>{l.push(k)})}}return f!==s&&void 0!==s.providers}function Tf(s,l){for(let c of s)Ue(c)&&(c=c.\u0275providers),Array.isArray(c)?Tf(c,l):l(c)}const _v=me({provide:String,useValue:me});function Yg(s){return null!==s&&"object"==typeof s&&_v in s}function Pa(s){return"function"==typeof s}const Cf=new In("Set Injector scope."),pd={},nS={};let sr;function Xg(){return void 0===sr&&(sr=new pv),sr}class Fa{}class R1 extends Fa{get destroyed(){return this._destroyed}constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bv(l,v=>this.processProvider(v)),this.records.set(Kg,kl(void 0,this)),f.has("environment")&&this.records.set(Fa,kl(void 0,this));const m=this.records.get(Cf);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(N1.multi,J,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=gn(this),d=pn(void 0);try{return l()}finally{gn(c),pn(d)}}get(l,c=Fn,d=se.Default){this.assertNotDestroyed(),d=rr(d);const f=gn(this),m=pn(void 0);try{if(!(d&se.SkipSelf)){let D=this.records.get(l);if(void 0===D){const I=function iS(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(l)&&Ln(l);D=I&&this.injectableDefInScope(I)?kl(If(l),pd):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(d&se.Self?Xg():this.parent).get(l,c=d&se.Optional&&c===Fn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Rn]=v[Rn]||[]).unshift(Ne(l)),f)throw v;return function Ir(s,l,c,d){const f=s[Rn];throw l[tn]&&f.unshift(l[tn]),s.message=function z(s,l,c,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Bn?s.slice(2):s;let f=Ne(l);if(Array.isArray(l))f=l.map(Ne).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let D=l[v];m.push(v+":"+("string"==typeof D?JSON.stringify(D):Ne(D)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(Qn,"\n  ")}`}("\n"+s.message,f,c,d),s[En]=f,s[Rn]=null,s}(v,l,"R3InjectorError",this.source)}throw v}finally{pn(m),gn(f)}}resolveInjectorInitializers(){const l=gn(this),c=pn(void 0);try{const d=this.get(fv.multi,J,se.Self);for(const f of d)f()}finally{gn(l),pn(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(Ne(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(l){let c=Pa(l=ne(l))?l:ne(l&&l.provide);const d=function yv(s){return Yg(s)?kl(void 0,s.useValue):kl(em(s),pd)}(l);if(Pa(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=kl(void 0,pd,!0),f.factory=()=>Gn(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===pd&&(c.value=nS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function F1(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ne(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function If(s){const l=Ln(s),c=null!==l?l.factory:po(s);if(null!==c)return c;if(s instanceof In)throw new de(204,!1);if(s instanceof Function)return function P1(s){const l=s.length;if(l>0)throw Tl(l,"?"),new de(204,!1);const c=function Vt(s){return s&&(s[Jn]||s[ee])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new de(204,!1)}function em(s,l,c){let d;if(Pa(s)){const f=ne(s);return po(f)||If(f)}if(Yg(s))d=()=>ne(s.useValue);else if(function Qg(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Gn(s.deps||[]));else if(function Jg(s){return!(!s||!s.useExisting)}(s))d=()=>nn(ne(s.useExisting));else{const f=ne(s&&(s.useClass||s.provide));if(!function vv(s){return!!s.deps}(s))return po(f)||If(f);d=()=>new f(...Gn(s.deps))}return d}function kl(s,l,c=!1){return{factory:s,value:l,multi:c?[]:void 0}}function bv(s,l){for(const c of s)Array.isArray(c)?bv(c,l):c&&Ue(c)?bv(c.\u0275providers,l):l(c)}class wv{}class Ev{}class U1{resolveComponentFactory(l){throw function Dv(s){const l=Error(`No component factory found for ${Ne(s)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=s,l}(l)}}let qc=(()=>{class s{}return s.NULL=new U1,s})();function rS(){return Rl(li(),De())}function Rl(s,l){return new Sf(Hi(s,l))}let Sf=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=rS,s})();function V1(s){return s instanceof Sf?s.nativeElement:s}class j1{}let oS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function sS(){const s=De(),c=Yi(li().index,s);return(or(c)?c:s)[sn]}(),s})(),aS=(()=>{class s{}return s.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null}),s})();class Tv{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const $1=new Tv("15.2.9"),Af={},Cv="ngOriginalError";function xf(s){return s[Cv]}class Mf{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&xf(l);for(;c&&xf(c);)c=xf(c);return c||null}}function La(s){return s instanceof Function?s():s}function Nv(s,l,c){let d=s.length;for(;;){const f=s.indexOf(l,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}c=f+1}}const tm="ng-template";function dS(s,l,c){let d=0,f=!0;for(;d<s.length;){let m=s[d++];if("string"==typeof m&&f){const v=s[d++];if(c&&"class"===m&&-1!==Nv(v.toLowerCase(),l,0))return!0}else{if(1===m){for(;d<s.length&&"string"==typeof(m=s[d++]);)if(m.toLowerCase()===l)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function nm(s){return 4===s.type&&s.value!==tm}function hS(s,l,c){return l===(4!==s.type||c?s.value:tm)}function Qk(s,l,c){let d=4;const f=s.attrs||[],m=function im(s){for(let l=0;l<s.length;l++)if(er(s[l]))return l;return s.length}(f);let v=!1;for(let D=0;D<l.length;D++){const I=l[D];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!hS(s,I,c)||""===I&&1===l.length){if(Js(d))return!1;v=!0}}else{const x=8&d?I:l[++D];if(8&d&&null!==s.attrs){if(!dS(s.attrs,x,c)){if(Js(d))return!1;v=!0}continue}const j=Ov(8&d?"class":I,f,nm(s),c);if(-1===j){if(Js(d))return!1;v=!0;continue}if(""!==x){let Q;Q=j>m?"":f[j+1].toLowerCase();const le=8&d?Q:null;if(le&&-1!==Nv(le,x,0)||2&d&&x!==Q){if(Js(d))return!1;v=!0}}}}else{if(!v&&!Js(d)&&!Js(I))return!1;if(v&&Js(I))continue;v=!1,d=I|1&d}}return Js(d)||v}function Js(s){return 0==(1&s)}function Ov(s,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===s)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let D=l[++f];for(;"string"==typeof D;)D=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function pS(s,l){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,s)}function fS(s,l,c=!1){for(let d=0;d<l.length;d++)if(Qk(s,l[d],c))return!0;return!1}function gS(s,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function q1(s,l){return s?":not("+l.trim()+")":l}function mS(s){let l=s[0],c=1,d=2,f="",m=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const D=s[++c];f+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Js(v)&&(l+=q1(m,f),f=""),d=v,m=m||!Js(d);c++}return""!==f&&(l+=q1(m,f)),l}const fn={};function Gr(s){Z1(mn(),De(),Qi()+s,!1)}function Z1(s,l,c,d){if(!d)if(3==(3&l[on])){const m=s.preOrderCheckHooks;null!==m&&Ic(l,m,c)}else{const m=s.preOrderHooks;null!==m&&ku(l,m,0,c)}Ko(c)}function Y1(s,l=null,c=null,d){const f=J1(s,l,c,d);return f.resolveInjectorInitializers(),f}function J1(s,l=null,c=null,d,f=new Set){const m=[c||J,gv(s)];return d=d||("object"==typeof s?void 0:Ne(s)),new R1(m,l||Xg(),d||null,f)}let Zc=(()=>{class s{static create(c,d){if(Array.isArray(c))return Y1({name:""},d,c,"");{const f=c.name??"";return Y1({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=Fn,s.NULL=new pv,s.\u0275prov=wt({token:s,providedIn:"any",factory:()=>nn(Kg)}),s.__NG_ELEMENT_ID__=-1,s})();function _d(s,l=se.Default){const c=De();return null===c?nn(s,l):vg(li(),c,ne(s),l)}function um(){throw new Error("invalid")}function ws(s,l){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d+1];if(-1!==m){const v=s.data[m];Mu(c[d]),v.contentQueries(2,l[m],m)}}}function Kc(s,l,c,d,f,m,v,D,I,x,k){const j=l.blueprint.slice();return j[Ci]=f,j[on]=76|d,(null!==k||s&&1024&s[on])&&(j[on]|=1024),ll(j),j[Xn]=j[zo]=s,j[zn]=c,j[ai]=v||s&&s[ai],j[sn]=D||s&&s[sn],j[el]=I||s&&s[el]||null,j[ca]=x||s&&s[ca]||null,j[Ui]=m,j[Wo]=function Xy(){return Vg++}(),j[Sr]=k,j[yi]=2==l.type?s[yi]:j,j}function Yc(s,l,c,d,f){let m=s.data[l];if(null===m)m=dm(s,l,c,d,f),function pl(){return Zt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=Hs();m.injectorIndex=null===v?-1:v.injectorIndex}return Qr(m,!0),m}function dm(s,l,c,d,f){const m=xh(),v=fl(),I=s.data[l]=function oR(s,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===s.firstChild&&(s.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I,I.prev=m)),I}function mo(s,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),s.blueprint.push(d),s.data.push(null);return f}function Of(s,l,c){gl(l);try{const d=s.viewQuery;null!==d&&Bf(1,d,c);const f=s.template;null!==f&&sE(s,l,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ws(s,l),s.staticViewQueries&&Bf(2,s.viewQuery,c);const m=s.components;null!==m&&function oE(s,l){for(let c=0;c<l.length;c++)Zv(s,l[c])}(l,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{l[on]&=-5,Zo()}}function Gv(s,l,c,d){const f=l[on];if(128!=(128&f)){gl(l);try{ll(l),function Gs(s){return Zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&sE(s,l,c,2,d);const v=3==(3&f);if(v){const x=s.preOrderCheckHooks;null!==x&&Ic(l,x,null)}else{const x=s.preOrderHooks;null!==x&&ku(l,x,0,null),Ru(l,0)}if(function Lf(s){for(let l=Oa(s);null!==l;l=Xu(l)){if(!l[tl])continue;const c=l[qo];for(let d=0;d<c.length;d++){const f=c[d];512&f[on]||_a(f[Xn],1),f[on]|=512}}}(l),function ar(s){for(let l=Oa(s);null!==l;l=Xu(l))for(let c=$i;c<l.length;c++){const d=l[c],f=d[ht];js(d)&&Gv(f,d,f.template,d[zn])}}(l),null!==s.contentQueries&&ws(s,l),v){const x=s.contentCheckHooks;null!==x&&Ic(l,x)}else{const x=s.contentHooks;null!==x&&ku(l,x,1),Ru(l,1)}!function xS(s,l){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Ko(~f);else{const m=f,v=c[++d],D=c[++d];fg(v,m),D(2,l[m])}}}finally{Ko(-1)}}(s,l);const D=s.components;null!==D&&function rE(s,l){for(let c=0;c<l.length;c++)yd(s,l[c])}(l,D);const I=s.viewQuery;if(null!==I&&Bf(2,I,d),v){const x=s.viewCheckHooks;null!==x&&Ic(l,x)}else{const x=s.viewHooks;null!==x&&ku(l,x,2),Ru(l,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),l[on]&=-41,512&l[on]&&(l[on]&=-513,_a(l[Xn],-1))}finally{Zo()}}}function sE(s,l,c,d,f){const m=Qi(),v=2&d;try{Ko(-1),v&&l.length>Pn&&Z1(s,l,Pn,!1),ei(v?2:0,f),c(d,f)}finally{Ko(m),ei(v?3:1,f)}}function zv(s,l,c){if(ua(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function aE(s,l,c){wc()&&(function hE(s,l,c,d){const f=c.directiveStart,m=c.directiveEnd;da(c)&&function FS(s,l,c){const d=Hi(l,s),f=lE(c),m=s[ai],v=bd(s,Kc(s,f,null,c.onPush?32:16,d,l,m,m.createRenderer(d,c),null,null,null));s[l.index]=v}(l,c,s.data[f+c.componentOffset]),s.firstCreatePass||Lu(c,l),ci(d,l);const v=c.initialInputs;for(let D=f;D<m;D++){const I=s.data[D],x=_s(l,s,D,c);ci(x,l),null!==v&&tr(0,D-f,x,I,0,v),Ki(I)&&(Yi(c.index,l)[zn]=_s(l,s,D,c))}}(s,l,c,Hi(c,l)),64==(64&c.flags)&&fE(s,l,c))}function Wv(s,l,c=Hi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],D=-1===v?c(l,s):s[v];s[f++]=D}}}function lE(s){const l=s.tView;return null===l||l.incompleteFirstPass?s.tView=kf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):l}function kf(s,l,c,d,f,m,v,D,I,x){const k=Pn+d,j=k+f,Q=function iR(s,l){const c=[];for(let d=0;d<l;d++)c.push(d<s?null:fn);return c}(k,j),le="function"==typeof x?x():x;return Q[ht]={type:s,blueprint:Q,template:c,queries:null,viewQuery:D,declTNode:l,data:Q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:le,incompleteFirstPass:!1}}function hm(s,l,c,d){const f=LS(l);null===c?f.push(d):(f.push(c),s.firstCreatePass&&BS(s).push(d,f.length-1))}function MS(s,l,c,d){for(let f in s)if(s.hasOwnProperty(f)){c=null===c?{}:c;const m=s[f];null===d?NS(c,l,f,m):d.hasOwnProperty(f)&&NS(c,l,d[f],m)}return c}function NS(s,l,c,d){s.hasOwnProperty(c)?s[c].push(l,d):s[c]=[l,d]}function Xo(s,l,c,d,f,m,v,D){const I=Hi(l,c);let k,x=l.inputs;!D&&null!=x&&(k=x[d])?(Fl(s,c,k,d,f),da(l)&&function cE(s,l){const c=Yi(l,s);16&c[on]||(c[on]|=32)}(c,l.index)):3&l.type&&(d=function OS(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(I,d,f))}function Rf(s,l,c,d){if(wc()){const f=null===d?null:{"":-1},m=function Pf(s,l){const c=s.directiveRegistry;let d=null,f=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];if(fS(l,v.selectors,!1))if(d||(d=[]),Ki(v))if(null!==v.findHostDirectiveDefs){const D=[];f=f||new Map,v.findHostDirectiveDefs(v,D,f),d.unshift(...D,v),pm(s,l,D.length)}else d.unshift(v),pm(s,l,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(s,c);let v,D;null===m?v=D=null:[v,D]=m,null!==v&&dE(s,l,c,v,f,D),f&&function RS(s,l,c){if(l){const d=s.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new de(-301,!1);d.push(l[f],m)}}}(c,d,f)}c.mergedAttrs=Ao(c.mergedAttrs,c.attrs)}function dE(s,l,c,d,f,m){for(let x=0;x<d.length;x++)Oc(Lu(c,l),s,d[x].type);!function lR(s,l,c){s.flags|=1,s.directiveStart=l,s.directiveEnd=l+c,s.providerIndexes=l}(c,s.data.length,d.length);for(let x=0;x<d.length;x++){const k=d[x];k.providersResolver&&k.providersResolver(k)}let v=!1,D=!1,I=mo(s,l,d.length,null);for(let x=0;x<d.length;x++){const k=d[x];c.mergedAttrs=Ao(c.mergedAttrs,k.hostAttrs),Ff(s,c,l,I,k),PS(I,k,f),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const j=k.type.prototype;!v&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(c.index),v=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(c.index),D=!0),I++}!function sR(s,l,c){const f=l.directiveEnd,m=s.data,v=l.attrs,D=[];let I=null,x=null;for(let k=l.directiveStart;k<f;k++){const j=m[k],Q=c?c.get(j):null,Ce=Q?Q.outputs:null;I=MS(j.inputs,k,I,Q?Q.inputs:null),x=MS(j.outputs,k,x,Ce);const Ke=null===I||null===v||nm(l)?null:gi(I,k,v);D.push(Ke)}null!==I&&(I.hasOwnProperty("class")&&(l.flags|=8),I.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=D,l.inputs=I,l.outputs=x}(s,c,m)}function fE(s,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function pg(){return Zt.lFrame.currentDirectiveIndex}();try{Ko(m);for(let D=d;D<f;D++){const I=s.data[D],x=l[D];ba(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&qv(I,x)}}finally{Ko(-1),ba(v)}}function qv(s,l){null!==s.hostBindings&&s.hostBindings(1,l)}function pm(s,l,c){l.componentOffset=c,(s.components??(s.components=[])).push(l.index)}function PS(s,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=s;Ki(l)&&(c[""]=s)}}function Ff(s,l,c,d,f){s.data[d]=f;const m=f.factory||(f.factory=po(f.type)),v=new ms(m,Ki(f),_d);s.blueprint[d]=v,c[d]=v,function fm(s,l,c,d,f){const m=f.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const D=~l.index;(function kS(s){let l=s.length;for(;l>0;){const c=s[--l];if("number"==typeof c&&c<0)return c}return 0})(v)!=D&&v.push(D),v.push(c,d,m)}}(s,l,d,mo(s,c,f.hostVars,fn),f)}function ko(s,l,c,d,f,m,v){if(null==m)s.removeAttribute(l,f,c);else{const D=null==v?ve(m):v(m,d||"",f);s.setAttribute(l,f,D,c)}}function tr(s,l,c,d,f,m){const v=m[l];if(null!==v){const D=d.setInput;for(let I=0;I<v.length;){const x=v[I++],k=v[I++],j=v[I++];null!==D?d.setInput(c,j,x,k):c[k]=j}}}function gi(s,l,c){let d=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===d&&(d=[]);const v=s[m];for(let D=0;D<v.length;D+=2)if(v[D]===l){d.push(m,v[D+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Pl(s,l,c,d){return[s,!0,!1,l,null,0,d,c,null,null]}function yd(s,l){const c=Yi(l,s);if(js(c)){const d=c[ht];48&c[on]?Gv(d,c,d.template,c[zn]):c[ho]>0&&vd(c)}}function vd(s){for(let d=Oa(s);null!==d;d=Xu(d))for(let f=$i;f<d.length;f++){const m=d[f];if(js(m))if(512&m[on]){const v=m[ht];Gv(v,m,v.template,m[zn])}else m[ho]>0&&vd(m)}const c=s[ht].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Yi(c[d],s);js(f)&&f[ho]>0&&vd(f)}}function Zv(s,l){const c=Yi(l,s),d=c[ht];(function Kv(s,l){for(let c=l.length;c<s.blueprint.length;c++)l.push(s.blueprint[c])})(d,c),Of(d,c,c[zn])}function bd(s,l){return s[ji]?s[Ps][Cn]=l:s[ji]=l,s[Ps]=l,l}function wd(s){for(;s;){s[on]|=32;const l=Qu(s);if(To(s)&&!l)return s;s=l}return null}function Ed(s,l,c,d=!0){const f=l[ai];f.begin&&f.begin();try{Gv(s,l,s.template,c)}catch(v){throw d&&mm(l,v),v}finally{f.end&&f.end()}}function Bf(s,l,c){Mu(0),l(s,c)}function LS(s){return s[Vi]||(s[Vi]=[])}function BS(s){return s.cleanup||(s.cleanup=[])}function mm(s,l){const c=s[ca],d=c?c.get(Mf,null):null;d&&d.handleError(l)}function Fl(s,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],D=c[m++],I=l[v],x=s.data[v];null!==x.setInput?x.setInput(I,f,d,D):I[D]=f}}function _m(s,l,c){let d=c?s.styles:null,f=c?s.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const D=l[v];"number"==typeof D?m=D:1==m?f=We(f,D):2==m&&(d=We(d,D+": "+l[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function Ll(s,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(fi(m)),Yr(m))for(let D=$i;D<m.length;D++){const I=m[D],x=I[ht].firstChild;null!==x&&Ll(I[ht],I,x,d)}const v=c.type;if(8&v)Ll(s,l,c.child,d);else if(32&v){const D=jc(c,l);let I;for(;I=D();)d.push(I)}else if(16&v){const D=sd(l,c);if(Array.isArray(D))d.push(...D);else{const I=Qu(l[yi]);Ll(I[ht],I,D,d,!0)}}c=f?c.projectionNext:c.next}return d}class Es{get rootNodes(){const l=this._lView,c=l[ht];return Ll(c,l,c.firstChild,[])}constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zn]}set context(l){this._lView[zn]=l}get destroyed(){return 128==(128&this._lView[on])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Xn];if(Yr(l)){const c=l[Fs],d=c?c.indexOf(this):-1;d>-1&&(M(l,d),$h(c,d))}this._attachedToViewContainer=!1}F(this._lView[ht],this._lView)}onDestroy(l){hm(this._lView[ht],this._lView,null,l)}markForCheck(){wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[on]&=-65}reattach(){this._lView[on]|=64}detectChanges(){Ed(this._lView[ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tv(s,l){ad(s,l,l[sn],2,null,null)}(this._lView[ht],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=l}}class US extends Es{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Ed(l[ht],l,l[zn],!1)}checkNoChanges(){}get context(){return null}}class Bl extends qc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=It(l);return new Uf(c,this.ngModule)}}function VS(s){const l=[];for(let c in s)s.hasOwnProperty(c)&&l.push({propName:s[c],templateName:c});return l}class Ro{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){d=rr(d);const f=this.injector.get(l,Af,d);return f!==Af||c===Af?f:this.parentInjector.get(l,c,d)}}class Uf extends Ev{get inputs(){return VS(this.componentDef.inputs)}get outputs(){return VS(this.componentDef.outputs)}constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function kv(s){return s.map(mS).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof Fa?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Ro(l,m):l,D=v.get(j1,null);if(null===D)throw new de(407,!1);const I=v.get(aS,null),x=D.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",j=d?function rR(s,l,c){return s.selectRootElement(l,c===B.ShadowDom)}(x,d,this.componentDef.encapsulation):_f(x,k,function cR(s){const l=s.toLowerCase();return"svg"===l?rl:"math"===l?"math":null}(k)),Q=this.componentDef.onPush?288:272,le=kf(0,null,null,1,0,null,null,null,null,null),Ce=Kc(null,le,null,Q,null,null,D,x,I,v,null);let Ke,ut;gl(Ce);try{const bt=this.componentDef;let Ut,Fe=null;bt.findHostDirectiveDefs?(Ut=[],Fe=new Map,bt.findHostDirectiveDefs(bt,Ut,Fe),Ut.push(bt)):Ut=[bt];const ln=function Dd(s,l){const c=s[ht],d=Pn;return s[d]=l,Yc(c,d,2,"#host",null)}(Ce,j),_i=function Yv(s,l,c,d,f,m,v,D){const I=f[ht];!function uR(s,l,c,d){for(const f of s)l.mergedAttrs=Ao(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(_m(l,l.mergedAttrs,!0),null!==c&&_1(d,c,l))}(d,s,l,v);const x=m.createRenderer(l,c),k=Kc(f,lE(c),null,c.onPush?32:16,f[s.index],s,m,x,D||null,null,null);return I.firstCreatePass&&pm(I,s,d.length-1),bd(f,k),f[s.index]=k}(ln,j,bt,Ut,Ce,D,x);ut=sl(le,Pn),j&&function Jv(s,l,c,d){if(d)Xi(s,c,["ng-version",$1.full]);else{const{attrs:f,classes:m}=function _r(s){const l=[],c=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&l.push(m,s[++d]):8===f&&c.push(m);else{if(!Js(f))break;f=m}d++}return{attrs:l,classes:c}}(l.selectors[0]);f&&Xi(s,c,f),m&&m.length>0&&rv(s,c,m.join(" "))}}(x,bt,j,d),void 0!==c&&function HS(s,l,c){const d=s.projection=[];for(let f=0;f<l.length;f++){const m=c[f];d.push(null!=m?Array.from(m):null)}}(ut,this.ngContentSelectors,c),Ke=function $S(s,l,c,d,f,m){const v=li(),D=f[ht],I=Hi(v,f);dE(D,f,v,c,null,d);for(let k=0;k<c.length;k++)ci(_s(f,D,v.directiveStart+k,v),f);fE(D,f,v),I&&ci(I,f);const x=_s(f,D,v.directiveStart+v.componentOffset,v);if(s[zn]=f[zn]=x,null!==m)for(const k of m)k(x,l);return zv(D,v,s),x}(_i,bt,Ut,Fe,Ce,[GS]),Of(le,Ce,null)}finally{Zo()}return new jS(this.componentType,Ke,Rl(ut,Ce),Ce,ut)}}class jS extends wv{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new US(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;Fl(m[ht],m,f,l,c),wd(Yi(this._tNode.index,m))}}get injector(){return new bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function GS(){const s=li();Yo(De()[ht],s)}function Qv(s){let l=function gE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;l;){let f;if(Ki(s))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new de(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=s;v.inputs=mE(s.inputs),v.declaredInputs=mE(s.declaredInputs),v.outputs=mE(s.outputs);const D=f.hostBindings;D&&WS(s,D);const I=f.viewQuery,x=f.contentQueries;if(I&&dR(s,I),x&&hR(s,x),Le(s.inputs,f.inputs),Le(s.declaredInputs,f.declaredInputs),Le(s.outputs,f.outputs),Ki(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const D=m[v];D&&D.ngInherit&&D(s),D===Qv&&(c=!1)}}l=Object.getPrototypeOf(l)}!function zS(s){let l=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Ao(f.hostAttrs,c=Ao(c,f.hostAttrs))}}(d)}function mE(s){return s===R?{}:s===J?[]:s}function dR(s,l){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function hR(s,l){const c=s.contentQueries;s.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function WS(s,l){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}function ym(s){return l=>{l.findHostDirectiveDefs=Xv,l.hostDirectives=(Array.isArray(s)?s:s()).map(c=>"function"==typeof c?{directive:ne(c),inputs:R,outputs:R}:{directive:ne(c.directive),inputs:_E(c.inputs),outputs:_E(c.outputs)})}}function Xv(s,l,c){if(null!==s.hostDirectives)for(const d of s.hostDirectives){const f=Tn(d.directive);Si(f.declaredInputs,d.inputs),Xv(f,l,c),c.set(f,d),l.push(f)}}function _E(s){if(void 0===s||0===s.length)return R;const l={};for(let c=0;c<s.length;c+=2)l[s[c]]=s[c+1];return l}function Si(s,l){for(const c in l)l.hasOwnProperty(c)&&(s[l[c]]=s[c])}function vm(s){return!!bm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function bm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Xs(s,l,c){return s[l]=c}function zr(s,l,c){return!Object.is(s[l],c)&&(s[l]=c,!0)}function vi(s,l,c,d){const f=zr(s,l,c);return zr(s,l+1,d)||f}function Hf(s,l,c,d){const f=De();return zr(f,gs(),l)&&(mn(),function Wn(s,l,c,d,f,m){const v=Hi(s,l);ko(l[sn],v,m,s.value,c,d,f)}(Vn(),f,s,l,c,d)),Hf}function Ua(s,l,c,d){return zr(s,gs(),c)?l+ve(c)+d:fn}function rb(s,l,c,d,f,m,v,D){const I=De(),x=mn(),k=s+Pn,j=x.firstCreatePass?function ib(s,l,c,d,f,m,v,D,I){const x=l.consts,k=Yc(l,s,4,v||null,Jr(x,D));Rf(l,c,k,Jr(x,I)),Yo(l,k);const j=k.tView=kf(2,k,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,k),j.queries=l.queries.embeddedTView(k)),k}(k,x,I,l,c,d,f,m,v):x.data[k];Qr(j,!1);const Q=I[sn].createComment("");zc(x,I,Q,j),ci(Q,I),bd(I,I[k]=Pl(Q,I,Q,j)),Ls(j)&&aE(x,I,j),null!=v&&Wv(I,j,D)}function TE(s){return ps(function Au(){return Zt.lFrame.contextLView}(),Pn+s)}function Wf(s,l,c){const d=De();return zr(d,gs(),l)&&Xo(mn(),Vn(),d,s,l,d[sn],c,!1),Wf}function qf(s,l,c,d,f){const v=f?"class":"style";Fl(s,c,l.inputs[v],v,d)}function Ad(s,l,c,d){const f=De(),m=mn(),v=Pn+s,D=f[sn],I=m.firstCreatePass?function YS(s,l,c,d,f,m){const v=l.consts,I=Yc(l,s,2,d,Jr(v,f));return Rf(l,c,I,Jr(v,m)),null!==I.attrs&&_m(I,I.attrs,!1),null!==I.mergedAttrs&&_m(I,I.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,I),I}(v,m,f,l,c,d):m.data[v],x=f[v]=_f(D,l,function _g(){return Zt.lFrame.currentNamespace}()),k=Ls(I);return Qr(I,!0),_1(D,x,I),32!=(32&I.flags)&&zc(m,f,x,I),0===function bc(){return Zt.lFrame.elementDepthCount}()&&ci(x,f),function ul(){Zt.lFrame.elementDepthCount++}(),k&&(aE(m,f,I),zv(m,I,f)),null!==d&&Wv(f,I),Ad}function xd(){let s=li();fl()?Su():(s=s.parent,Qr(s,!1));const l=s;!function dl(){Zt.lFrame.elementDepthCount--}();const c=mn();return c.firstCreatePass&&(Yo(c,s),ua(s)&&c.queries.elementEnd(s)),null!=l.classesWithoutHost&&function H(s){return 0!=(8&s.flags)}(l)&&qf(c,l,De(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ee(s){return 0!=(16&s.flags)}(l)&&qf(c,l,De(),l.stylesWithoutHost,!1),xd}function Zf(s,l,c,d){return Ad(s,l,c,d),xd(),Zf}function Em(s,l,c){const d=De(),f=mn(),m=s+Pn,v=f.firstCreatePass?function ob(s,l,c,d,f){const m=l.consts,v=Jr(m,d),D=Yc(l,s,8,"ng-container",v);return null!==v&&_m(D,v,!0),Rf(l,c,D,Jr(m,f)),null!==l.queries&&l.queries.elementStart(l,D),D}(m,f,d,l,c):f.data[m];Qr(v,!0);const D=d[m]=d[sn].createComment("");return zc(f,d,D,v),ci(D,d),Ls(v)&&(aE(f,d,v),zv(f,v,d)),null!=c&&Wv(d,v),Em}function Dm(){let s=li();const l=mn();return fl()?Su():(s=s.parent,Qr(s,!1)),l.firstCreatePass&&(Yo(l,s),ua(s)&&l.queries.elementEnd(s)),Dm}function Kf(){return De()}function Yf(s){return!!s&&"function"==typeof s.then}function IE(s){return!!s&&"function"==typeof s.subscribe}const Tm=IE;function Jf(s,l,c,d){const f=De(),m=mn(),v=li();return function AE(s,l,c,d,f,m,v){const D=Ls(d),x=s.firstCreatePass&&BS(s),k=l[zn],j=LS(l);let Q=!0;if(3&d.type||v){const Ke=Hi(d,l),ut=v?v(Ke):Ke,bt=j.length,Ut=v?ln=>v(fi(ln[d.index])):d.index;let Fe=null;if(!v&&D&&(Fe=function SE(s,l,c,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const D=l[Vi],I=f[m+2];return D.length>I?D[I]:null}"string"==typeof v&&(m+=2)}return null}(s,l,f,d.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=m,Fe.__ngLastListenerFn__=m,Q=!1;else{m=Xc(d,l,k,m,!1);const ln=c.listen(ut,f,m);j.push(m,ln),x&&x.push(f,Ut,bt,bt+1)}}else m=Xc(d,l,k,m,!1);const le=d.outputs;let Ce;if(Q&&null!==le&&(Ce=le[f])){const Ke=Ce.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const _i=l[Ce[ut]][Ce[ut+1]].subscribe(m),Oi=j.length;j.push(m,_i),x&&x.push(f,d.index,Oi,-(Oi+1))}}}(m,f,f[sn],v,s,l,d),Jf}function sb(s,l,c,d){try{return ei(6,l,c),!1!==c(d)}catch(f){return mm(s,f),!1}finally{ei(7,l,c)}}function Xc(s,l,c,d,f){return function m(v){if(v===Function)return d;wd(s.componentOffset>-1?Yi(s.index,l):l);let I=sb(l,c,d,v),x=m.__ngNextListenerFn__;for(;x;)I=sb(l,c,x,v)&&I,x=x.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function ab(s=1){return function ml(s){return(Zt.lFrame.contextLView=function gg(s,l){for(;s>0;)l=l[zo],s--;return l}(s,Zt.lFrame.contextLView))[zn]}(s)}function JS(s,l){let c=null;const d=function Xk(s){const l=s.attrs;if(null!=l){const c=l.indexOf(5);if(!(1&c))return l[c+1]}return null}(s);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?fS(s,m,!0):gS(d,m))return f}else c=f}return c}function xE(s){const l=De()[yi][Ui];if(!l.projection){const d=l.projection=Tl(s?s.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=s?JS(m,s):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function ME(s,l=0,c){const d=De(),f=mn(),m=Yc(f,Pn+s,16,null,c||null);null===m.projection&&(m.projection=l),Su(),32!=(32&m.flags)&&function NI(s,l,c){to(l[sn],0,l,c,at(s,c,l),Gg(c.parent||l[Ui],c,l))}(f,d,m)}function lb(s,l,c){return Im(s,"",l,"",c),lb}function Im(s,l,c,d,f){const m=De(),v=Ua(m,l,c,d);return v!==fn&&Xo(mn(),Vn(),m,s,v,m[sn],f,!1),Im}function Am(s,l){return s<<17|l<<2}function Vl(s){return s>>17&32767}function xm(s){return 2|s}function jl(s){return(131068&s)>>2}function Mm(s,l){return-131069&s|l<<2}function LE(s){return 1|s}function XS(s,l,c,d,f){const m=s[c+1],v=null===l;let D=d?Vl(m):jl(m),I=!1;for(;0!==D&&(!1===I||v);){const k=s[D+1];vR(s[D],l)&&(I=!0,s[D+1]=d?LE(k):xm(k)),D=d?Vl(k):jl(k)}I&&(s[c+1]=d?xm(m):LE(m))}function vR(s,l){return null===s||null==l||(Array.isArray(s)?s[1]:s)===l||!(!Array.isArray(s)||"string"!=typeof l)&&hn(s,l)>=0}const lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hb(s){return s.substring(lr.key,lr.keyEnd)}function Nm(s,l){const c=lr.textEnd;return c===l?-1:(l=lr.keyEnd=function nA(s,l,c){for(;l<c&&s.charCodeAt(l)>32;)l++;return l}(s,lr.key=l,c),ep(s,l,c))}function ep(s,l,c){for(;l<c&&s.charCodeAt(l)<=32;)l++;return l}function fb(s,l,c){return yo(s,l,c,!1),fb}function VE(s,l){return yo(s,l,null,!0),VE}function oA(s){es(DR,ja,s,!0)}function ja(s,l){for(let c=function BE(s){return function Om(s){lr.key=0,lr.keyEnd=0,lr.value=0,lr.valueEnd=0,lr.textEnd=s.length}(s),Nm(s,ep(s,0,lr.textEnd))}(l);c>=0;c=Nm(l,c))go(s,hb(l),!0)}function yo(s,l,c,d){const f=De(),m=mn(),v=Io(2);m.firstUpdatePass&&pb(m,s,v,d),l!==fn&&zr(f,v,l)&&cA(m,m.data[Qi()],f,f[sn],s,f[v+1]=function CR(s,l){return null==s||""===s||("string"==typeof l?s+=l:"object"==typeof s&&(s=Ne(Ol(s)))),s}(l,c),d,v)}function es(s,l,c,d){const f=mn(),m=Io(2);f.firstUpdatePass&&pb(f,null,m,d);const v=De();if(c!==fn&&zr(v,m,c)){const D=f.data[Qi()];if(dA(D,d)&&!tp(f,m)){let I=d?D.classesWithoutHost:D.stylesWithoutHost;null!==I&&(c=We(I,c||"")),qf(f,D,v,c,d)}else!function TR(s,l,c,d,f,m,v,D){f===fn&&(f=J);let I=0,x=0,k=0<f.length?f[0]:null,j=0<m.length?m[0]:null;for(;null!==k||null!==j;){const Q=I<f.length?f[I+1]:void 0,le=x<m.length?m[x+1]:void 0;let Ke,Ce=null;k===j?(I+=2,x+=2,Q!==le&&(Ce=j,Ke=le)):null===j||null!==k&&k<j?(I+=2,Ce=k):(x+=2,Ce=j,Ke=le),null!==Ce&&cA(s,l,c,d,Ce,Ke,v,D),k=I<f.length?f[I]:null,j=x<m.length?m[x]:null}}(f,D,v,v[sn],v[m+1],v[m+1]=function lA(s,l,c){if(null==c||""===c)return J;const d=[],f=Ol(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)s(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&s(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(s,l,c),d,m)}}function tp(s,l){return l>=s.expandoStartIndex}function pb(s,l,c,d){const f=s.data;if(null===f[c+1]){const m=f[Qi()],v=tp(s,c);dA(m,d)&&null===l&&!v&&(l=!1),l=function ER(s,l,c,d){const f=function wa(s){const l=Zt.lFrame.currentDirectiveIndex;return-1===l?null:s[l]}(s);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=np(c=mb(null,s,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||s[v]!==f)if(c=mb(f,s,l,c,d),null===m){let I=function gb(s,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==jl(d))return s[Vl(d)]}(s,l,d);void 0!==I&&Array.isArray(I)&&(I=mb(null,s,l,I[1],d),I=np(I,l.attrs,d),function sA(s,l,c,d){s[Vl(c?l.classBindings:l.styleBindings)]=d}(s,l,d,I))}else m=function aA(s,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=np(d,s[m].hostAttrs,c);return np(d,l.attrs,c)}(s,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function yR(s,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,D=Vl(v),I=jl(v);s[d]=c;let k,x=!1;if(Array.isArray(c)?(k=c[1],(null===k||hn(c,k)>0)&&(x=!0)):k=c,f)if(0!==I){const Q=Vl(s[D+1]);s[d+1]=Am(Q,D),0!==Q&&(s[Q+1]=Mm(s[Q+1],d)),s[D+1]=function PE(s,l){return 131071&s|l<<17}(s[D+1],d)}else s[d+1]=Am(D,0),0!==D&&(s[D+1]=Mm(s[D+1],d)),D=d;else s[d+1]=Am(I,0),0===D?D=d:s[I+1]=Mm(s[I+1],d),I=d;x&&(s[d+1]=xm(s[d+1])),XS(s,k,d,!0),XS(s,k,d,!1),function db(s,l,c,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof l&&hn(m,l)>=0&&(c[d+1]=LE(c[d+1]))}(l,k,s,d,m),v=Am(D,I),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}function mb(s,l,c,d,f){let m=null;const v=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<v&&(m=l[D],d=np(d,m.hostAttrs,f),m!==s);)D++;return null!==s&&(c.directiveStylingLast=D),d}function np(s,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),go(s,v,!!c||l[++m]))}return void 0===s?null:s}function DR(s,l,c){const d=String(l);""!==d&&!d.includes(" ")&&go(s,d,c)}function cA(s,l,c,d,f,m,v,D){if(!(3&l.type))return;const I=s.data,x=I[D+1],k=function FE(s){return 1==(1&s)}(x)?uA(I,l,c,f,jl(x),v):void 0;_b(k)||(_b(m)||function QS(s){return 2==(2&s)}(x)&&(m=uA(I,null,c,f,D,v)),function kI(s,l,c,d,f){if(l)f?s.addClass(c,d):s.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Qo.DashCase;null==f?s.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Qo.Important),s.setStyle(c,d,f,m))}}(d,v,ma(Qi(),c),f,m))}function uA(s,l,c,d,f,m){const v=null===l;let D;for(;f>0;){const I=s[f],x=Array.isArray(I),k=x?I[1]:I,j=null===k;let Q=c[f+1];Q===fn&&(Q=j?J:void 0);let le=j?X(Q,d):k===d?Q:void 0;if(x&&!_b(le)&&(le=X(I,d)),_b(le)&&(D=le,v))return D;const Ce=s[f+1];f=v?Vl(Ce):jl(Ce)}if(null!==l){let I=m?l.residualClasses:l.residualStyles;null!=I&&(D=X(I,d))}return D}function _b(s){return void 0!==s}function dA(s,l){return 0!=(s.flags&(l?8:16))}function hA(s,l=""){const c=De(),d=mn(),f=s+Pn,m=d.firstCreatePass?Yc(d,f,1,l,null):d.data[f],v=c[f]=gf(c[sn],l);zc(d,c,v,m),Qr(m,!1)}function yb(s){return vb("",s,""),yb}function vb(s,l,c){const d=De(),f=Ua(d,s,l,c);return f!==fn&&function Qs(s,l,c){const d=ma(l,s);ed(s[sn],d,c)}(d,Qi(),f),vb}function bA(s,l,c,d,f){es(go,ja,function Ul(s,l,c,d,f,m){const D=vi(s,Ar(),c,f);return Io(2),D?l+ve(c)+d+ve(f)+m:fn}(De(),s,l,c,d,f),!0)}function zE(s,l,c){const d=De();return zr(d,gs(),l)&&Xo(mn(),Vn(),d,s,l,d[sn],c,!0),zE}const Md=void 0;var GR=["en",[["a","p"],["AM","PM"],Md],[["AM","PM"],Md,Md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Md,"{1} 'at' {0}",Md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HR(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ip={};function WE(s){const l=function xA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=$a(l);if(c)return c;const d=l.split("-")[0];if(c=$a(d),c)return c;if("en"===d)return GR;throw new de(701,!1)}function ti(s){return WE(s)[Lt.PluralCase]}function $a(s){return s in ip||(ip[s]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[s]),ip[s]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const Nd=["zero","one","two","few","many"],Hl="en-US",km={marker:"element"},Gl={marker:"ICU"};var ni=(()=>((ni=ni||{})[ni.SHIFT=2]="SHIFT",ni[ni.APPEND_EAGERLY=1]="APPEND_EAGERLY",ni[ni.COMMENT=2]="COMMENT",ni))();let Ai=Hl;function ts(s){(function yt(s,l){null==s&&Ze(l,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Ai=s.toLowerCase().replace(/_/g,"-"))}function qE(s,l,c){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?id(s,0,c):fi(c[f])}function ZE(s,l,c,d,f){const m=l.insertBeforeIndex;if(Array.isArray(m)){let v=d,D=null;if(3&l.type||(D=v,v=f),null!==v&&-1===l.componentOffset)for(let I=1;I<m.length;I++)Qt(s,v,c[m[I]],D,!1)}}function ns(s,l){if(s.push(l),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];gt(d)||bb(d,l)&&null===an(d)&&Rm(d,l.index)}}function gt(s){return!(64&s.type)}function bb(s,l){return gt(l)||s.index>l.index}function an(s){const l=s.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function Rm(s,l){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=l:(rd(qE,ZE),s.insertBeforeIndex=l)}function zl(s,l){const c=s.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function wb(s,l,c){const d=dm(s,c,64,null,null);return ns(l,d),d}function Pm(s,l){const c=l[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function KE(s){return s>>>17}function YE(s){return(131070&s)>>>1}let xi=0,is=0;function Db(s,l,c,d){const f=c[sn];let v,m=null;for(let D=0;D<l.length;D++){const I=l[D];if("string"==typeof I){const x=l[++D];null===c[x]&&(c[x]=gf(f,I))}else if("number"==typeof I)switch(1&I){case 0:const x=KE(I);let k,j;if(null===m&&(m=x,v=Ys(f,d)),x===m?(k=d,j=v):(k=null,j=fi(c[x])),null!==j){const Ke=YE(I);Qt(f,j,c[Ke],k,!1);const bt=zl(s,Ke);if(null!==bt&&"object"==typeof bt){const Ut=Pm(bt,c);null!==Ut&&Db(s,bt.create[Ut],c,c[bt.anchorIdx])}}break;case 1:const le=l[++D],Ce=l[++D];ko(f,ma(I>>>1,c),null,null,le,Ce,null)}else switch(I){case Gl:const x=l[++D],k=l[++D];null===c[k]&&ci(c[k]=mf(f,x),c);break;case km:const j=l[++D],Q=l[++D];null===c[Q]&&ci(c[Q]=_f(f,j,null),c)}}}function Rr(s,l,c,d,f){for(let m=0;m<c.length;m++){const v=c[m],D=c[++m];if(v&f){let I="";for(let x=m+1;x<=m+D;x++){const k=c[x];if("string"==typeof k)I+=k;else if("number"==typeof k)if(k<0)I+=ve(l[d-k]);else{const j=k>>>2;switch(3&k){case 1:const Q=c[++x],le=c[++x],Ce=s.data[j];"string"==typeof Ce?ko(l[sn],l[j],null,Ce,Q,I,le):Xo(s,Ce,l,Q,I,l[sn],le,!1);break;case 0:const Ke=l[j];null!==Ke&&ed(l[sn],Ke,I);break;case 2:Lm(s,zl(s,j),l,I);break;case 3:QE(s,zl(s,j),d,l)}}}}else{const I=c[m+1];if(I>0&&3==(3&I)){const k=zl(s,I>>>2);l[k.currentCaseLViewIndex]<0&&QE(s,k,d,l)}}m+=D}}function QE(s,l,c,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let m=xi;f<0&&(f=d[l.currentCaseLViewIndex]=~f,m=-1),Rr(s,d,l.update[f],c,m)}}function Lm(s,l,c,d){const f=function Cb(s,l){let c=s.cases.indexOf(l);if(-1===c)switch(s.type){case 1:{const d=function $l(s,l){const c=ti(l)(parseInt(s,10)),d=Nd[c];return void 0!==d?d:"other"}(l,function WR(){return Ai}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(l,d);if(Pm(l,c)!==f&&(Tb(s,l,c),c[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=c[l.anchorIdx];v&&Db(s,l.create[f],c,v)}}function Tb(s,l,c){let d=Pm(l,c);if(null!==d){const f=l.remove[d];for(let m=0;m<f.length;m++){const v=f[m];if(v>0){const D=ma(v,c);null!==D&&zg(c[sn],D)}else Tb(s,zl(s,~v),c)}}}function Bm(){const s=[];let c,d,l=-1;function m(D,I){l=0;const x=Pm(D,I);d=null!==x?D.remove[x]:J}function v(){if(l<d.length){const D=d[l++];return D>0?c[D]:(s.push(l,d),m(c[ht].data[~D],c),v())}return 0===s.length?null:(d=s.pop(),l=s.pop(),v())}return function f(D,I){for(c=I;s.length;)s.pop();return m(D.value,I),v}}const op=/\ufffd(\d+):?\d*\ufffd/gi,eD=/\ufffd(\d+)\ufffd/,tD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Od="\ufffd",Um=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Sb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ab=/\uE500/g;function Vm(s,l,c,d,f,m,v){const D=mo(s,d,1,null);let I=D<<ni.SHIFT,x=Hs();l===x&&(x=null),null===x&&(I|=ni.APPEND_EAGERLY),v&&(I|=ni.COMMENT,function hf(s){void 0===df&&(df=s())}(Bm)),f.push(I,null===m?"":m);const k=dm(s,D,v?32:1,null===m?"":m,null);ns(c,k);const j=k.index;return Qr(k,!1),null!==x&&l!==x&&function MA(s,l){let c=s.insertBeforeIndex;null===c?(rd(qE,ZE),c=s.insertBeforeIndex=[null,l]):(function nt(s,l,c){s!=l&&Ze(c,s,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(x,j),k}function nD(s,l,c,d,f,m,v){const D=v.match(op),I=Vm(s,l,c,m,d,D?null:v,!1);D&&Ga(f,v,I.index,null,0,null)}function Ga(s,l,c,d,f,m){const v=s.length,D=v+1;s.push(null,null);const I=v+2,x=l.split(op);let k=0;for(let j=0;j<x.length;j++){const Q=x[j];if(1&j){const le=f+parseInt(Q,10);s.push(-1-le),k|=kd(le)}else""!==Q&&s.push(Q)}return s.push(c<<2|(d?1:0)),d&&s.push(d,m),s[v]=k,s[D]=s.length-I,k}function kd(s){return 1<<Math.min(s,31)}function iD(s){let l,m,c="",d=0,f=!1;for(;null!==(l=Um.exec(s));)f?l[0]===`${Od}/*${m}${Od}`&&(d=l.index,f=!1):(c+=s.substring(d,l.index+l[0].length),m=l[1],f=!0);return c+=s.slice(d),c}function $m(s,l,c,d,f,m){let v=0;const D={type:f.type,currentCaseLViewIndex:mo(s,l,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function Nb(s,l,c){s.push(kd(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,f,m),function rp(s,l,c){const d=s.data[l];null===d?s.data[l]=c:d.value=c}(s,m,D);const I=f.values;for(let x=0;x<I.length;x++){const k=I[x],j=[];for(let Q=0;Q<k.length;Q++){const le=k[Q];if("string"!=typeof le){const Ce=j.push(le)-1;k[Q]=`\x3c!--\ufffd${Ce}\ufffd--\x3e`}}v=oD(s,D,l,c,d,f.cases[x],k.join(""),j)|v}v&&function Ob(s,l,c){s.push(l,1,c<<2|3)}(c,v,m)}function rD(s){const l=[],c=[];let d=1,f=0;const m=Hm(s=s.replace(tD,function(v,D,I){return d="select"===I?0:1,f=parseInt(D.slice(1),10),""}));for(let v=0;v<m.length;){let D=m[v++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&l.push(D);const I=Hm(m[v++]);l.length>c.length&&c.push(I)}return{type:d,mainBinding:f,cases:l,values:c}}function Hm(s){if(!s)return[];let l=0;const c=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(s);){const D=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const I=s.substring(l,D);tD.test(I)?d.push(rD(I)):d.push(I),l=D+1}}else{if(0==c.length){const I=s.substring(l,D);d.push(I),l=D+1}c.push("{")}}const v=s.substring(l);return d.push(v),d}function oD(s,l,c,d,f,m,v,D){const I=[],x=[],k=[];l.cases.push(m),l.create.push(I),l.remove.push(x),l.update.push(k);const Q=function D1(s){const l=new Wk(s);return function lv(){try{return!!(new window.DOMParser).parseFromString(cd(""),"text/html")}catch{return!1}}()?new HI(l):l}(function FI(){return void 0!==v1?v1:typeof document<"u"?document:void 0}()).getInertBodyElement(v),le=function dv(s){return"content"in s&&function YI(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(Q)||Q;return le?sp(s,l,c,d,I,x,k,le,f,D,0):0}function sp(s,l,c,d,f,m,v,D,I,x,k){let j=0,Q=D.firstChild;for(;Q;){const le=mo(s,c,1,null);switch(Q.nodeType){case Node.ELEMENT_NODE:const Ce=Q,Ke=Ce.tagName.toLowerCase();if(bf.hasOwnProperty(Ke)){zm(f,km,Ke,I,le),s.data[le]=Ke;const Fe=Ce.attributes;for(let ln=0;ln<Fe.length;ln++){const _i=Fe.item(ln),Oi=_i.name.toLowerCase();_i.value.match(op)?qg.hasOwnProperty(Oi)&&Ga(v,_i.value,le,_i.name,0,wf[Oi]?vf:null):sD(f,le,_i)}j=sp(s,l,c,d,f,m,v,Q,le,x,k+1)|j,Gm(m,le,k)}break;case Node.TEXT_NODE:const ut=Q.textContent||"",bt=ut.match(op);zm(f,null,bt?"":ut,I,le),Gm(m,le,k),bt&&(j=Ga(v,ut,le,null,0,null)|j);break;case Node.COMMENT_NODE:const Ut=eD.exec(Q.textContent||"");if(Ut){const ln=x[parseInt(Ut[1],10)];zm(f,Gl,"",I,le),$m(s,c,d,I,ln,le),Mb(m,le,k)}}Q=Q.nextSibling}return j}function Gm(s,l,c){0===c&&s.push(l)}function Mb(s,l,c){0===c&&(s.push(~l),s.push(l))}function zm(s,l,c,d,f){null!==l&&s.push(l),s.push(c,f,function Fm(s,l,c){return s|l<<17|c<<1}(0,d,f))}function sD(s,l,c){s.push(l<<1|1,c.name,c.value)}function cr(s,l,c=-1){const d=mn(),f=De(),m=Pn+s,v=Jr(d.consts,l),D=Hs();d.firstCreatePass&&function kA(s,l,c,d,f,m){const v=Hs(),D=[],I=[],x=[[]];f=function jm(s,l){if(function FA(s){return-1===s}(l))return iD(s);{const c=s.indexOf(`:${l}${Od}`)+2+l.toString().length,d=s.search(new RegExp(`${Od}\\/\\*\\d+:${l}${Od}`));return iD(s.substring(c,d))}}(f,m);const k=function xb(s){return s.replace(Ab," ")}(f).split(Sb);for(let j=0;j<k.length;j++){let Q=k[j];if(1&j){const le=47===Q.charCodeAt(0),Ke=(Q.charCodeAt(le?1:0),Pn+Number.parseInt(Q.substring(le?2:1)));if(le)x.shift(),Qr(Hs(),!1);else{const ut=wb(s,x[0],Ke);x.unshift([]),Qr(ut,!0)}}else{const le=Hm(Q);for(let Ce=0;Ce<le.length;Ce++){let Ke=le[Ce];if(1&Ce){const ut=Ke;if("object"!=typeof ut)throw new Error(`Unable to parse ICU expression in "${f}" message.`);$m(s,c,I,l,ut,Vm(s,v,x[0],c,D,"",!0).index)}else""!==Ke&&nD(s,v,x[0],D,I,c,Ke)}}}s.data[d]={create:D,update:I}}(d,null===D?0:D.index,f,m,v,c);const I=d.data[m],k=St(d,D===f[Ui]?null:D,f);(function Eb(s,l,c,d){const f=s[sn];for(let m=0;m<l.length;m++){const v=l[m++],D=l[m],x=(v&ni.APPEND_EAGERLY)===ni.APPEND_EAGERLY,k=v>>>ni.SHIFT;let j=s[k];null===j&&(j=s[k]=(v&ni.COMMENT)===ni.COMMENT?f.createComment(D):gf(f,D)),x&&null!==c&&Qt(f,c,j,d,!1)}})(f,I.create,k,D&&8&D.type?f[D.index]:null),va(!0)}function ap(s,l,c){cr(s,l,c),function yr(){va(!1)}()}function Bb(s){return function NA(s){s&&(xi|=1<<Math.min(is,31)),is++}(zr(De(),gs(),s)),Bb}function dD(s){!function JE(s,l,c){if(is>0){const d=s.data[c];Rr(s,l,Array.isArray(d)?d:d.update,Ar()-is-1,xi)}xi=0,is=0}(mn(),De(),s+Pn)}function Ub(s,l,c,d,f){if(s=ne(s),Array.isArray(s))for(let m=0;m<s.length;m++)Ub(s[m],l,c,d,f);else{const m=mn(),v=De();let D=Pa(s)?s:ne(s.provide),I=em(s);const x=li(),k=1048575&x.providerIndexes,j=x.directiveStart,Q=x.providerIndexes>>20;if(Pa(s)||!s.multi){const le=new ms(I,f,_d),Ce=Vb(D,l,f?k:k+Q,j);-1===Ce?(Oc(Lu(x,v),m,D),Wm(m,s,l.length),l.push(D),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(le),v.push(le)):(c[Ce]=le,v[Ce]=le)}else{const le=Vb(D,l,k+Q,j),Ce=Vb(D,l,k,k+Q),ut=Ce>=0&&c[Ce];if(f&&!ut||!f&&!(le>=0&&c[le])){Oc(Lu(x,v),m,D);const bt=function Zm(s,l,c,d,f){const m=new ms(s,c,_d);return m.multi=[],m.index=l,m.componentProviders=0,qm(m,f,d&&!c),m}(f?fD:jb,c.length,f,d,I);!f&&ut&&(c[Ce].providerFactory=bt),Wm(m,s,l.length,0),l.push(D),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(bt),v.push(bt)}else Wm(m,s,le>-1?le:Ce,qm(c[f?Ce:le],I,!f&&d));!f&&d&&ut&&c[Ce].componentProviders++}}}function Wm(s,l,c,d){const f=Pa(l),m=function tS(s){return!!s.useClass}(l);if(f||m){const I=(m?ne(l.useClass):l).prototype.ngOnDestroy;if(I){const x=s.destroyHooks||(s.destroyHooks=[]);if(!f&&l.multi){const k=x.indexOf(c);-1===k?x.push(c,[d,I]):x[k+1].push(d,I)}else x.push(c,I)}}}function qm(s,l,c){return c&&s.componentProviders++,s.multi.push(l)-1}function Vb(s,l,c,d){for(let f=c;f<d;f++)if(l[f]===s)return f;return-1}function jb(s,l,c,d){return $b(this.multi,[])}function fD(s,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=_s(c,c[ht],this.providerFactory.index,d);m=D.slice(0,v),$b(f,m);for(let I=v;I<D.length;I++)m.push(D[I])}else m=[],$b(f,m);return m}function $b(s,l){for(let c=0;c<s.length;c++)l.push((0,s[c])());return l}function Km(s,l=[]){return c=>{c.providersResolver=(d,f)=>function BA(s,l,c){const d=mn();if(d.firstCreatePass){const f=Ki(s);Ub(c,d.data,d.blueprint,f,!0),Ub(l,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,l)}}class Wl{}class Hb{}function UA(s,l){return new Gb(s,l??null)}class Gb extends Wl{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bl(this);const d=Ti(l);this._bootstrapComponents=La(d.bootstrap),this._r3Injector=J1(l,c,[{provide:Wl,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],Ne(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Jm extends Hb{constructor(l){super(),this.moduleType=l}create(l){return new Gb(this.moduleType,l)}}class pD extends Wl{constructor(l,c,d){super(),this.componentFactoryResolver=new Bl(this),this.instance=null;const f=new R1([...l,{provide:Wl,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],c||Xg(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Rd(s,l,c=null){return new pD(s,l,c).injector}let VA=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=O1(0,c.type),f=d.length>0?Rd([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=wt({token:s,providedIn:"environment",factory:()=>new s(nn(Fa))}),s})();function gD(s){s.getStandaloneInjector=l=>l.get(VA).getOrCreateStandaloneInjector(s)}function e_(s,l,c,d){return qb(De(),Ji(),s,l,c,d)}function t_(s,l,c,d,f){return function Zb(s,l,c,d,f,m,v){const D=l+c;return vi(s,D,f,m)?Xs(s,D+2,v?d.call(v,f,m):d(f,m)):tu(s,D+2)}(De(),Ji(),s,l,c,d,f)}function n_(s,l,c,d,f,m){return function Kb(s,l,c,d,f,m,v,D){const I=l+c;return function Jc(s,l,c,d,f){const m=vi(s,l,c,d);return zr(s,l+2,f)||m}(s,I,f,m,v)?Xs(s,I+3,D?d.call(D,f,m,v):d(f,m,v)):tu(s,I+3)}(De(),Ji(),s,l,c,d,f,m)}function tu(s,l){const c=s[l];return c===fn?void 0:c}function qb(s,l,c,d,f,m){const v=l+c;return zr(s,v,f)?Xs(s,v+1,m?d.call(m,f):d(f)):tu(s,v+1)}function Yb(s,l){const c=mn();let d;const f=s+Pn;c.firstCreatePass?(d=function o_(s,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(s===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=po(d.type)),v=pn(_d);try{const D=Nc(!1),I=m();return Nc(D),function zf(s,l,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),l[c]=d}(c,De(),f,I),I}finally{pn(v)}}function Kl(s,l,c){const d=s+Pn,f=De(),m=ps(f,d);return function Ld(s,l){return s[ht].data[l].pure}(f,d)?qb(f,Ji(),l,m.transform,c,m):m.transform(c)}function za(s){return l=>{setTimeout(s,void 0,l)}}const vr=class zA extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),v=d;if(l&&"object"==typeof l){const I=l;f=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=za(m),f&&(f=za(f)),v&&(v=za(v)));const D=super.subscribe({next:f,error:m,complete:v});return l instanceof O.w0&&l.add(D),D}};function a_(){return this._results[Symbol.iterator]()}class Bd{get changes(){return this._changes||(this._changes=new vr)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Bd.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=a_)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=function eo(s){return s.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Wy(s,l,c){if(s.length!==l.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ud=(()=>{class s{}return s.__NG_ELEMENT_ID__=dp,s})();const mi=Ud,l_=class extends mi{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tView,f=Kc(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[ls]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[jr];return null!==v&&(f[jr]=v.createEmbeddedView(d)),Of(d,f,l),new Es(f)}};function dp(){return Yl(li(),De())}function Yl(s,l){return 4&s.type?new l_(l,s,Rl(s,l)):null}let c_=(()=>{class s{}return s.__NG_ELEMENT_ID__=SD,s})();function SD(){return Vd(li(),De())}const WA=c_,AD=class extends WA{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Rl(this._hostTNode,this._hostLView)}get injector(){return new bl(this._hostTNode,this._hostLView)}get parentInjector(){const l=pi(this._hostTNode,this._hostLView);if(Ac(l)){const c=Mc(l,this._hostLView),d=xc(l);return new bl(c[ht].data[d+8],c)}return new bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=xD(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=l.createEmbeddedView(c||{},m);return this.insert(v,f),v}createComponent(l,c,d,f,m){const v=l&&!function ju(s){return"function"==typeof s}(l);let D;if(v)D=c;else{const j=c||{};D=j.index,d=j.injector,f=j.projectableNodes,m=j.environmentInjector||j.ngModuleRef}const I=v?l:new Uf(It(l)),x=d||this.parentInjector;if(!m&&null==I.ngModule){const Q=(v?x:this.parentInjector).get(Fa,null);Q&&(m=Q)}const k=I.create(x,f,void 0,m);return this.insert(k.hostView,D),k}insert(l,c){const d=l._lView,f=d[ht];if(function Iu(s){return Yr(s[Xn])}(d)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const j=d[Xn],Q=new AD(j,j[Ui],j[Xn]);Q.detach(Q.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function g(s,l,c,d){const f=$i+d,m=c.length;d>0&&(c[f-1][Cn]=l),d<m-$i?(l[Cn]=c[f],jh(c,$i+d,l)):(c.push(l),l[Cn]=null),l[Xn]=c;const v=l[ls];null!==v&&c!==v&&function _(s,l){const c=s[qo];l[yi]!==l[Xn][Xn][yi]&&(s[tl]=!0),null===c?s[qo]=[l]:c.push(l)}(v,l);const D=l[jr];null!==D&&D.insertView(s),l[on]|=64}(f,d,v,m);const D=Wc(m,v),I=d[sn],x=Ys(I,v[ds]);return null!==x&&function Hg(s,l,c,d,f,m){d[Ci]=f,d[Ui]=l,ad(s,d,c,1,f,m)}(f,v[Ui],I,d,x,D),l.attachToViewContainerRef(),jh(Qb(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=xD(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=M(this._lContainer,c);d&&($h(Qb(this._lContainer),c),F(d[ht],d))}detach(l){const c=this._adjustIndex(l,-1),d=M(this._lContainer,c);return d&&null!=$h(Qb(this._lContainer),c)?new Es(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function xD(s){return s[Fs]}function Qb(s){return s[Fs]||(s[Fs]=[])}function Vd(s,l){let c;const d=l[s.index];if(Yr(d))c=d;else{let f;if(8&s.type)f=fi(d);else{const m=l[sn];f=m.createComment("");const v=Hi(s,l);Qt(m,Ys(m,v),f,function nv(s,l){return s.nextSibling(l)}(m,v),!1)}l[s.index]=c=Pl(d,l,f,s),bd(l,c)}return new AD(c,s,l)}class ta{constructor(l){this.queryList=l,this.matches=null}clone(){return new ta(this.queryList)}setDirty(){this.queryList.setDirty()}}class u_{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new u_(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==hp(l,c).matches&&this.queries[c].setDirty()}}class Xb{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class d_{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new d_(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Jl{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Jl(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,qA(c,m)),this.matchTNodeWithReadOption(l,c,vl(c,l,m,!1,!1))}else d===Ud?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,vl(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Sf||f===c_||f===Ud&&4&c.type)this.addMatch(c.index,-2);else{const m=vl(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function qA(s,l){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function MD(s,l,c,d){return-1===c?function ZA(s,l){return 11&s.type?Rl(s,l):4&s.type?Yl(s,l):null}(l,s):-2===c?function KA(s,l,c){return c===Sf?Rl(l,s):c===Ud?Yl(l,s):c===c_?Vd(l,s):void 0}(s,l,d):_s(s,s[ht],c,l)}function e0(s,l,c,d){const f=l[jr].queries[d];if(null===f.matches){const m=s.data,v=c.matches,D=[];for(let I=0;I<v.length;I+=2){const x=v[I];D.push(x<0?null:MD(l,m[x],v[I+1],c.metadata.read))}f.matches=D}return f.matches}function h_(s,l,c,d){const f=s.queries.getByIndex(c),m=f.matches;if(null!==m){const v=e0(s,l,f,c);for(let D=0;D<m.length;D+=2){const I=m[D];if(I>0)d.push(v[D/2]);else{const x=m[D+1],k=l[-I];for(let j=$i;j<k.length;j++){const Q=k[j];Q[ls]===Q[Xn]&&h_(Q[ht],Q,x,d)}if(null!==k[qo]){const j=k[qo];for(let Q=0;Q<j.length;Q++){const le=j[Q];h_(le[ht],le,x,d)}}}}}return d}function f_(s){const l=De(),c=mn(),d=Dc();Mu(d+1);const f=hp(c,d);if(s.dirty&&function al(s){return 4==(4&s[on])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?h_(c,l,d,[]):e0(c,l,f,d);s.reset(m,V1),s.notifyOnChanges()}return!0}return!1}function p_(s,l,c){const d=mn();d.firstCreatePass&&(OD(d,new Xb(s,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),ND(d,De(),l)}function t0(s,l,c,d){const f=mn();if(f.firstCreatePass){const m=li();OD(f,new Xb(l,c,d),m.index),function YA(s,l){const c=s.contentQueries||(s.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,l)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}ND(f,De(),c)}function n0(){return function r0(s,l){return s[jr].queries[l].queryList}(De(),Dc())}function ND(s,l,c){const d=new Bd(4==(4&c));hm(s,l,d,d.destroy),null===l[jr]&&(l[jr]=new u_),l[jr].queries.push(new ta(d))}function OD(s,l,c){null===s.queries&&(s.queries=new d_),s.queries.track(new Jl(l,c))}function hp(s,l){return s.queries.getByIndex(l)}function jd(s,l){return Yl(s,l)}function m_(s){return!!Ti(s)}function no(...s){}const _p=new In("Application Initializer");let su=(()=>{class s{constructor(c){this.appInits=c,this.resolve=no,this.reject=no,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Yf(m))c.push(m);else if(Tm(m)){const v=new Promise((D,I)=>{m.subscribe({complete:D,error:I})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(nn(_p,8))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Hd=new In("AppId",{providedIn:"root",factory:function yp(){return`${ec()}${ec()}${ec()}`}});function ec(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qD=new In("Platform Initializer"),rx=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ox=new In("AnimationModuleType");let sx=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const w_=new In("LocaleId",{providedIn:"root",factory:()=>di(w_,se.Optional|se.SkipSelf)||function KD(){return typeof $localize<"u"&&$localize.locale||Hl}()}),E_=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YD{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let wr=(()=>{class s{compileModuleSync(c){return new Jm(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=La(Ti(c).declarations).reduce((v,D)=>{const I=It(D);return I&&v.push(new Uf(I)),v},[]);return new YD(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const b0=(()=>Promise.resolve(0))();function mt(s){typeof Zone>"u"?b0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class it{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vr(!1),this.onMicrotaskEmpty=new vr(!1),this.onStable=new vr(!1),this.onError=new vr(!1),typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ot(){let s=Pt.requestAnimationFrame,l=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&l){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function QD(s){const l=()=>{!function ur(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,w0(s),s.isCheckStableRunning=!0,Re(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),w0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,D)=>{try{return XD(s),c.invokeTask(f,m,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&l(),eT(s)}},onInvoke:(c,d,f,m,v,D,I)=>{try{return XD(s),c.invoke(f,m,v,D,I)}finally{s.shouldCoalesceRunChangeDetection&&l(),eT(s)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,w0(s),Re(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new de(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,pe,no,no);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const pe={};function Re(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function w0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function XD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function eT(s){s._nesting--,Re(s)}class ax{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vr,this.onMicrotaskEmpty=new vr,this.onStable=new vr,this.onError=new vr}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const tT=new In(""),E0=new In("");let D_,lx=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,D_||(function ux(s){D_=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),mt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mt(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(nn(it),nn(cx),nn(E0))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})(),cx=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return D_?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const $t=!1;let Fo=null;const D0=new In("AllowMultipleToken"),ii=new In("PlatformDestroyListeners"),kt=new In("appBootstrapListener");class Ni{constructor(l,c){this.name=l,this.token=c}}function nT(s,l,c=[]){const d=`Platform: ${l}`,f=new In(d);return(m=[])=>{let v=A_();if(!v||v.injector.get(D0,!1)){const D=[...c,...m,{provide:f,useValue:!0}];s?s(D):function lt(s){if(Fo&&!Fo.get(D0,!1))throw new de(400,!1);Fo=s;const l=s.get(T0);(function C_(s){const l=s.get(qD,null);l&&l.forEach(c=>c())})(s)}(function iT(s=[],l){return Zc.create({name:l,providers:[{provide:Cf,useValue:"platform"},{provide:ii,useValue:new Set([()=>Fo=null])},...s]})}(D,d))}return function I_(s){const l=A_();if(!l)throw new de(401,!1);return l}()}}function A_(){return Fo?.get(T0)??null}let T0=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function x_(s,l){let c;return c="noop"===s?new ax:("zone.js"===s?void 0:s)||new it(l),c}(d?.ngZone,function vo(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:it,useValue:f}];return f.run(()=>{const v=Zc.create({providers:m,parent:this.injector,name:c.moduleType.name}),D=c.create(v),I=D.injector.get(Mf,null);if(!I)throw new de(402,!1);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:k=>{I.handleError(k)}});D.onDestroy(()=>{Wd(this._modules,D),x.unsubscribe()})}),function C0(s,l,c){try{const d=c();return Yf(d)?d.catch(f=>{throw l.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>s.handleError(d)),d}}(I,f,()=>{const x=D.injector.get(su);return x.runInitializers(),x.donePromise.then(()=>(ts(D.injector.get(w_,Hl)||Hl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,d=[]){const f=I0({},d);return function bp(s,l,c){const d=new Jm(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(Cs);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new de(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(ii,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(nn(Zc))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function I0(s,l){return Array.isArray(l)?l.reduce(I0,s):{...s,...l}}let Cs=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new V.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new V.y(D=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),mt(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ge.T)(m,v.pipe((0,xe.B)()))}bootstrap(c,d){const f=c instanceof Ev;if(!this._injector.get(su).done){!f&&Bi(c);throw new de(405,$t)}let v;v=f?c:this._injector.get(qc).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const D=function dx(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Wl),x=v.create(Zc.NULL,[],d||v.selector,D),k=x.location.nativeElement,j=x.injector.get(tT,null);return j?.registerApplication(k),x.onDestroy(()=>{this.detachView(x.hostView),Wd(this.components,x),j?.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new de(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Wd(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(kt,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Wd(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new de(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(nn(it),nn(Fa),nn(Mf))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Wd(s,l){const c=s.indexOf(l);c>-1&&s.splice(c,1)}function Is(){return!1}let cu=(()=>{class s{}return s.__NG_ELEMENT_ID__=oT,s})();function oT(s){return function S0(s,l,c){if(da(s)&&!c){const d=Yi(s.index,l);return new Es(d,d)}return 47&s.type?new Es(l[yi],l):null}(li(),De(),16==(16&s))}class lT{constructor(){}supports(l){return vm(l)}create(l){return new gx(l)}}const px=(s,l)=>l;class gx{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||px}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<N0(d,f,m)?c:d,D=N0(v,f,m),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const x=D-f,k=I-f;if(x!=k){for(let Q=0;Q<x;Q++){const le=Q<m.length?m[Q]:m[Q]=0,Ce=le+Q;k<=Ce&&Ce<x&&(m[Q]=le+1)}m[v.previousIndex]=k-x}}D!==I&&l(v,D,I)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!vm(l))throw new de(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)m=l[D],v=this._trackByFn(D,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,D)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,D),d=!0),c=c._next}else f=0,function ZS(s,l){if(Array.isArray(s))for(let c=0;c<s.length;c++)l(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,D=>{v=this._trackByFn(f,D),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,D,v,f)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new mx(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new cT),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cT),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class mx{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _x{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class cT{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new _x,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N0(s,l,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class uT{constructor(){}supports(l){return l instanceof Map||bm(l)}create(){return new dT}}class dT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||bm(l)))throw new de(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new hT(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class hT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fT(){return new Ep([new lT])}let Ep=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||fT()),deps:[[s,new vs,new ys]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new de(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:fT}),s})();function O0(){return new na([new uT])}let na=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||O0()),deps:[[s,new vs,new ys]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new de(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:O0}),s})();const ui=nT(null,"core",[]);let gT=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(nn(Cs))},s.\u0275mod=ie({type:s}),s.\u0275inj=wn({}),s})();function qd(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function F_(s,l){const c=It(s),d=l.elementInjector||Xg();return new Uf(c).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},1321:()=>{"use strict";const At=":";class yt extends Error{constructor(ee){super(`No translation found for ${en(ee)}.`),this.parsedMessage=ee,this.type="MissingTranslationError"}}const Vt=function(oe,...ee){if(Vt.translate){const se=Vt.translate(oe,ee);oe=se[0],ee=se[1]}let ae=Jn(oe[0],oe.raw[0]);for(let se=1;se<oe.length;se++)ae+=ee[se-1]+Jn(oe[se],oe.raw[se]);return ae},Hn=":";function Jn(oe,ee){return ee.charAt(0)===Hn?oe.substring(function Ge(oe,ee){for(let ae=1,se=1;ae<oe.length;ae++,se++)if("\\"===ee[se])se++;else if(oe[ae]===At)return ae;throw new Error(`Unterminated $localize metadata block in "${ee}".`)}(oe,ee)+1):oe}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Vt},3942:(At,fe,$)=>{"use strict";$.d(fe,{Z:()=>ct});var a=$(2090),O=$(4859),V=$(6881),ge=$(1877);class xe{constructor(de,Oe){this._delegate=de,this.firebase=Oe,(0,V._addComponent)(de,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(de,Oe=V._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(de);return!qe.isInitialized()&&"EXPLICIT"===(null===(ve=qe.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Oe})}_removeServiceInstance(de,Oe=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(Oe)}_addComponent(de){(0,V._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,V._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function We(){const rt=function Ne(rt){const de={},Oe={__esModule:!0,initializeApp:function Pe(He,ce={}){const st=V.initializeApp(He,ce);if((0,a.r3)(de,st.name))return de[st.name];const Et=new rt(st,Oe);return de[st.name]=Et,Et},app:qe,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function ke(He){const ce=He.name,st=ce.replace("-compat","");if(V._registerComponent(He)&&"PUBLIC"===He.type){const Et=(nt=qe())=>{if("function"!=typeof nt[st])throw Le.create("invalid-app-argument",{appName:ce});return nt[st]()};void 0!==He.serviceProps&&(0,a.ZB)(Et,He.serviceProps),Oe[st]=Et,rt.prototype[st]=function(...nt){return this._getService.bind(this,ce).apply(this,He.multipleInstances?nt:[])}}return"PUBLIC"===He.type?Oe[st]:null},removeApp:function ve(He){delete de[He]},useAsService:function Je(He,ce){return"serverAuth"===ce?null:ce},modularAPIs:V}};function qe(He){if(!(0,a.r3)(de,He=He||V._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:He});return de[He]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Te(){return Object.keys(de).map(He=>de[He])}}),qe.App=rt,Oe}(xe);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function de(Oe){(0,a.ZB)(rt,Oe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),rt}(),K=new ge.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=Y;!function Ue(rt){(0,V.registerVersion)("@firebase/app-compat","0.2.9",rt)}()},6881:(At,fe,$)=>{"use strict";$.r(fe),$.d(fe,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>mr,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>vt,_addOrOverwriteComponent:()=>tt,_apps:()=>Pt,_clearComponents:()=>En,_components:()=>Jt,_getProvider:()=>xn,_registerComponent:()=>Fn,_removeServiceInstance:()=>Rn,deleteApp:()=>si,getApp:()=>Ho,getApps:()=>nn,initializeApp:()=>gn,onLog:()=>Gn,registerVersion:()=>rr,setLogLevel:()=>Cr});var a=$(5861),O=$(4859),V=$(1877),ge=$(2090);const xe=(_e,ie)=>ie.some($e=>_e instanceof $e);let me,Le;const Y=new WeakMap,K=new WeakMap,ne=new WeakMap,Ye=new WeakMap,Ue=new WeakMap;let de={get(_e,ie,$e){if(_e instanceof IDBTransaction){if("done"===ie)return K.get(_e);if("objectStoreNames"===ie)return _e.objectStoreNames||ne.get(_e);if("store"===ie)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Pe(_e[ie])},set:(_e,ie,$e)=>(_e[ie]=$e,!0),has:(_e,ie)=>_e instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in _e};function qe(_e){return"function"==typeof _e?function ve(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...ie){return _e.apply(Te(this),ie),Pe(Y.get(this))}:function(...ie){return Pe(_e.apply(Te(this),ie))}:function(ie,...$e){const Tt=_e.call(Te(this),ie,...$e);return ne.set(Tt,ie.sort?ie.sort():[ie]),Pe(Tt)}}(_e):(_e instanceof IDBTransaction&&function rt(_e){if(K.has(_e))return;const ie=new Promise(($e,Tt)=>{const Wt=()=>{_e.removeEventListener("complete",dn),_e.removeEventListener("error",It),_e.removeEventListener("abort",It)},dn=()=>{$e(),Wt()},It=()=>{Tt(_e.error||new DOMException("AbortError","AbortError")),Wt()};_e.addEventListener("complete",dn),_e.addEventListener("error",It),_e.addEventListener("abort",It)});K.set(_e,ie)}(_e),xe(_e,function Ne(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,de):_e)}function Pe(_e){if(_e instanceof IDBRequest)return function ct(_e){const ie=new Promise(($e,Tt)=>{const Wt=()=>{_e.removeEventListener("success",dn),_e.removeEventListener("error",It)},dn=()=>{$e(Pe(_e.result)),Wt()},It=()=>{Tt(_e.error),Wt()};_e.addEventListener("success",dn),_e.addEventListener("error",It)});return ie.then($e=>{$e instanceof IDBCursor&&Y.set($e,_e)}).catch(()=>{}),Ue.set(ie,_e),ie}(_e);if(Ye.has(_e))return Ye.get(_e);const ie=qe(_e);return ie!==_e&&(Ye.set(_e,ie),Ue.set(ie,_e)),ie}const Te=_e=>Ue.get(_e),He=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],st=new Map;function Et(_e,ie){if(!(_e instanceof IDBDatabase)||ie in _e||"string"!=typeof ie)return;if(st.get(ie))return st.get(ie);const $e=ie.replace(/FromIndex$/,""),Tt=ie!==$e,Wt=ce.includes($e);if(!($e in(Tt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!He.includes($e))return;const dn=function(){var It=(0,a.Z)(function*(Tn,...yn){const Bi=this.transaction(Tn,Wt?"readwrite":"readonly");let Ti=Bi.store;return Tt&&(Ti=Ti.index(yn.shift())),(yield Promise.all([Ti[$e](...yn),Wt&&Bi.done]))[0]});return function(yn){return It.apply(this,arguments)}}();return st.set(ie,dn),dn}!function Oe(_e){de=_e(de)}(_e=>({..._e,get:(ie,$e,Tt)=>Et(ie,$e)||_e.get(ie,$e,Tt),has:(ie,$e)=>!!Et(ie,$e)||_e.has(ie,$e)}));class nt{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function un(_e){return"VERSION"===_e.getComponent()?.type}($e)){const Tt=$e.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter($e=>$e).join(" ")}}const _t="@firebase/app",be=new V.Yd("@firebase/app"),Xt="[DEFAULT]",Yt={[_t]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pt=new Map,Jt=new Map;function vt(_e,ie){try{_e.container.addComponent(ie)}catch($e){be.debug(`Component ${ie.name} failed to register with FirebaseApp ${_e.name}`,$e)}}function tt(_e,ie){_e.container.addOrOverwriteComponent(ie)}function Fn(_e){const ie=_e.name;if(Jt.has(ie))return be.debug(`There were multiple attempts to register component ${ie}.`),!1;Jt.set(ie,_e);for(const $e of Pt.values())vt($e,_e);return!0}function xn(_e,ie){const $e=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),_e.container.getProvider(ie)}function Rn(_e,ie,$e=Xt){xn(_e,ie).clearInstance($e)}function En(){Jt.clear()}const Bn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tn{constructor(ie,$e,Tt){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const mr="9.21.0";function gn(_e,ie={}){let $e=_e;"object"!=typeof ie&&(ie={name:ie});const Tt=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},ie),Wt=Tt.name;if("string"!=typeof Wt||!Wt)throw Bn.create("bad-app-name",{appName:String(Wt)});if($e||($e=(0,ge.aH)()),!$e)throw Bn.create("no-options");const dn=Pt.get(Wt);if(dn){if((0,ge.vZ)($e,dn.options)&&(0,ge.vZ)(Tt,dn.config))return dn;throw Bn.create("duplicate-app",{appName:Wt})}const It=new O.H0(Wt);for(const yn of Jt.values())It.addComponent(yn);const Tn=new tn($e,Tt,It);return Pt.set(Wt,Tn),Tn}function Ho(_e=Xt){const ie=Pt.get(_e);if(!ie&&_e===Xt)return gn();if(!ie)throw Bn.create("no-app",{appName:_e});return ie}function nn(){return Array.from(Pt.values())}function si(_e){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(_e){const ie=_e.name;Pt.has(ie)&&(Pt.delete(ie),yield Promise.all(_e.container.getProviders().map($e=>$e.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function rr(_e,ie,$e){var Tt;let Wt=null!==(Tt=Yt[_e])&&void 0!==Tt?Tt:_e;$e&&(Wt+=`-${$e}`);const dn=Wt.match(/\s|\//),It=ie.match(/\s|\//);if(dn||It){const Tn=[`Unable to register library "${Wt}" with version "${ie}":`];return dn&&Tn.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),dn&&It&&Tn.push("and"),It&&Tn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void be.warn(Tn.join(" "))}Fn(new O.wA(`${Wt}-version`,()=>({library:Wt,version:ie}),"VERSION"))}function Gn(_e,ie){if(null!==_e&&"function"!=typeof _e)throw Bn.create("invalid-log-argument");(0,V.Am)(_e,ie)}function Cr(_e){(0,V.Ub)(_e)}const Vr="firebase-heartbeat-database",Ir=1,z="firebase-heartbeat-store";let G=null;function L(){return G||(G=function ke(_e,ie,{blocked:$e,upgrade:Tt,blocking:Wt,terminated:dn}={}){const It=indexedDB.open(_e,ie),Tn=Pe(It);return Tt&&It.addEventListener("upgradeneeded",yn=>{Tt(Pe(It.result),yn.oldVersion,yn.newVersion,Pe(It.transaction),yn)}),$e&&It.addEventListener("blocked",yn=>$e(yn.oldVersion,yn.newVersion,yn)),Tn.then(yn=>{dn&&yn.addEventListener("close",()=>dn()),Wt&&yn.addEventListener("versionchange",Bi=>Wt(Bi.oldVersion,Bi.newVersion,Bi))}).catch(()=>{}),Tn}(Vr,Ir,{upgrade:(_e,ie)=>{0===ie&&_e.createObjectStore(z)}}).catch(_e=>{throw Bn.create("idb-open",{originalErrorMessage:_e.message})})),G}function R(){return(R=(0,a.Z)(function*(_e){try{return(yield L()).transaction(z).objectStore(z).get(pt(_e))}catch(ie){if(ie instanceof ge.ZR)be.warn(ie.message);else{const $e=Bn.create("idb-get",{originalErrorMessage:ie?.message});be.warn($e.message)}}})).apply(this,arguments)}function J(_e,ie){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(_e,ie){try{const Tt=(yield L()).transaction(z,"readwrite");return yield Tt.objectStore(z).put(ie,pt(_e)),Tt.done}catch($e){if($e instanceof ge.ZR)be.warn($e.message);else{const Tt=Bn.create("idb-set",{originalErrorMessage:$e?.message});be.warn(Tt.message)}}})).apply(this,arguments)}function pt(_e){return`${_e.name}!${_e.options.appId}`}class rn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new Kt($e),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var ie=this;return(0,a.Z)(function*(){const Tt=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Gt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!ie._heartbeatsCache.heartbeats.some(dn=>dn.date===Wt))return ie._heartbeatsCache.heartbeats.push({date:Wt,agent:Tt}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(dn=>{const It=new Date(dn.date).valueOf();return Date.now()-It<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,a.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const $e=Gt(),{heartbeatsToSend:Tt,unsentEntries:Wt}=function Un(_e,ie=1024){const $e=[];let Tt=_e.slice();for(const Wt of _e){const dn=$e.find(It=>It.agent===Wt.agent);if(dn){if(dn.dates.push(Wt.date),hi($e)>ie){dn.dates.pop();break}}else if($e.push({agent:Wt.agent,dates:[Wt.date]}),hi($e)>ie){$e.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:$e,unsentEntries:Tt}}(ie._heartbeatsCache.heartbeats),dn=(0,ge.L)(JSON.stringify({version:2,heartbeats:Tt}));return ie._heartbeatsCache.lastSentHeartbeatDate=$e,Wt.length>0?(ie._heartbeatsCache.heartbeats=Wt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),dn})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,a.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function B(_e){return R.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var $e=this;return(0,a.Z)(function*(){var Tt;if(yield $e._canUseIndexedDBPromise){const dn=yield $e.read();return J($e.app,{lastSentHeartbeatDate:null!==(Tt=ie.lastSentHeartbeatDate)&&void 0!==Tt?Tt:dn.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var $e=this;return(0,a.Z)(function*(){var Tt;if(yield $e._canUseIndexedDBPromise){const dn=yield $e.read();return J($e.app,{lastSentHeartbeatDate:null!==(Tt=ie.lastSentHeartbeatDate)&&void 0!==Tt?Tt:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...ie.heartbeats]})}})()}}function hi(_e){return(0,ge.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Go(_e){Fn(new O.wA("platform-logger",ie=>new nt(ie),"PRIVATE")),Fn(new O.wA("heartbeat",ie=>new rn(ie),"PRIVATE")),rr(_t,"0.9.9",_e),rr(_t,"0.9.9","esm2017"),rr("fire-js","")}("")},4859:(At,fe,$)=>{"use strict";$.d(fe,{H0:()=>Ne,wA:()=>V});var a=$(5861),O=$(2090);class V{constructor(Y,K,ne){this.name=Y,this.instanceFactory=K,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const ge="[DEFAULT]";class xe{constructor(Y,K){this.name=Y,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const K=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(K)){const ne=new O.BH;if(this.instancesDeferred.set(K,ne),this.isInitialized(K)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:K});Ye&&ne.resolve(Ye)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(Y){var K;const ne=this.normalizeInstanceIdentifier(Y?.identifier),Ye=null!==(K=Y?.optional)&&void 0!==K&&K;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ue){if(Ye)return null;throw Ue}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Le(We){return"EAGER"===We.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[K,ne]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(K);try{const Ue=this.getOrInitializeService({instanceIdentifier:Ye});ne.resolve(Ue)}catch{}}}}clearInstance(Y=ge){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,a.Z)(function*(){const K=Array.from(Y.instances.values());yield Promise.all([...K.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...K.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=ge){return this.instances.has(Y)}getOptions(Y=ge){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:K={}}=Y,ne=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ne,options:K});for(const[Ue,ct]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ue)&&ct.resolve(Ye);return Ye}onInit(Y,K){var ne;const Ye=this.normalizeInstanceIdentifier(K),Ue=null!==(ne=this.onInitCallbacks.get(Ye))&&void 0!==ne?ne:new Set;Ue.add(Y),this.onInitCallbacks.set(Ye,Ue);const ct=this.instances.get(Ye);return ct&&Y(ct,Ye),()=>{Ue.delete(Y)}}invokeOnInitCallbacks(Y,K){const ne=this.onInitCallbacks.get(K);if(ne)for(const Ye of ne)try{Ye(Y,K)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:K={}}){let ne=this.instances.get(Y);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(We=Y,We===ge?void 0:We),options:K}),this.instances.set(Y,ne),this.instancesOptions.set(Y,K),this.invokeOnInitCallbacks(ne,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ne)}catch{}var We;return ne||null}normalizeInstanceIdentifier(Y=ge){return this.component?this.component.multipleInstances?Y:ge:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const K=this.getProvider(Y.name);if(K.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);K.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const K=new xe(Y,this);return this.providers.set(Y,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(At,fe,$)=>{"use strict";$.d(fe,{Am:()=>We,Ub:()=>Ne,Yd:()=>Le,in:()=>O});const a=[];var O=(()=>{return(Y=O||(O={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",O;var Y})();const V={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},ge=O.INFO,xe={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},me=(Y,K,...ne)=>{if(K<Y.logLevel)return;const Ye=(new Date).toISOString(),Ue=xe[K];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Ue](`[${Ye}]  ${Y.name}:`,...ne)};class Le{constructor(K){this.name=K,this._logLevel=ge,this._logHandler=me,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in O))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?V[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...K),this._logHandler(this,O.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...K),this._logHandler(this,O.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,O.INFO,...K),this._logHandler(this,O.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,O.WARN,...K),this._logHandler(this,O.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...K),this._logHandler(this,O.ERROR,...K)}}function Ne(Y){a.forEach(K=>{K.setLogLevel(Y)})}function We(Y,K){for(const ne of a){let Ye=null;K&&K.level&&(Ye=V[K.level]),ne.userLogHandler=null===Y?null:(Ue,ct,...rt)=>{const de=rt.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");ct>=(Ye??Ue.logLevel)&&Y({level:O[ct].toLowerCase(),message:de,args:rt,type:Ue.name})}}}},9260:(At,fe,$)=>{"use strict";$.d(fe,{Z:()=>a.Z});var a=$(3942);a.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(At,fe,$)=>{"use strict";$.r(fe);var a=$(5861),O=$(3942),V=$(8502),ge=$(2090),Le=($(6881),$(1877),$(4859));function Ne(){return window}const We=2e3;function K(){return K=(0,a.Z)(function*(L,B,R){var J;const{BuildInfo:Ie}=Ne();(0,V.as)(B.sessionId,"AuthEvent did not contain a session ID");const pt=yield function Oe(L){return ve.apply(this,arguments)}(B.sessionId),jt={};return(0,V.at)()?jt.ibi=Ie.packageName:(0,V.au)()?jt.apn=Ie.packageName:(0,V.av)(L,"operation-not-supported-in-this-environment"),Ie.displayName&&(jt.appDisplayName=Ie.displayName),jt.sessionId=pt,(0,V.aw)(L,R,B.type,void 0,null!==(J=B.eventId)&&void 0!==J?J:void 0,jt)}),K.apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(L){const{BuildInfo:B}=Ne(),R={};(0,V.at)()?R.iosBundleId=B.packageName:(0,V.au)()?R.androidPackageName=B.packageName:(0,V.av)(L,"operation-not-supported-in-this-environment"),yield(0,V.ax)(L,R)})).apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(L,B,R){const{cordova:J}=Ne();let Ie=()=>{};try{yield new Promise((pt,jt)=>{let Ft=null;function rn(){var Kt;pt();const hi=null===(Kt=J.plugins.browsertab)||void 0===Kt?void 0:Kt.close;"function"==typeof hi&&hi(),"function"==typeof R?.close&&R.close()}function Gt(){Ft||(Ft=window.setTimeout(()=>{jt((0,V.az)(L,"redirect-cancelled-by-user"))},We))}function Un(){"visible"===document?.visibilityState&&Gt()}B.addPassiveListener(rn),document.addEventListener("resume",Gt,!1),(0,V.au)()&&document.addEventListener("visibilitychange",Un,!1),Ie=()=>{B.removePassiveListener(rn),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",Un,!1),Ft&&window.clearTimeout(Ft)}})}finally{Ie()}})).apply(this,arguments)}function ve(){return(ve=(0,a.Z)(function*(L){const B=function qe(L){if((0,V.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const B=new ArrayBuffer(L.length),R=new Uint8Array(B);for(let J=0;J<L.length;J++)R[J]=L.charCodeAt(J);return R}(L),R=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(R)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Pe=20;class Te extends V.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(B)),super.onEvent(B)}initialized(){var B=this;return(0,a.Z)(function*(){yield B.initPromise})()}}function He(L){return ce.apply(this,arguments)}function ce(){return(ce=(0,a.Z)(function*(L){const B=yield nt()._get(un(L));return B&&(yield nt()._remove(un(L))),B})).apply(this,arguments)}function Et(){const L=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<Pe;R++){const J=Math.floor(Math.random()*B.length);L.push(B.charAt(J))}return L.join("")}function nt(){return(0,V.aC)(V.b)}function un(L){return(0,V.aD)("authEvent",L.config.apiKey,L.name)}function be(L){if(!L?.includes("?"))return{};const[B,...R]=L.split("?");return(0,ge.zd)(R.join("?"))}const Qe=class Me{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(B){var R=this;return(0,a.Z)(function*(){const J=B._key();let Ie=R.eventManagers.get(J);return Ie||(Ie=new Te(B),R.eventManagers.set(J,Ie),R.attachCallbackListeners(B,Ie)),Ie})()}_openPopup(B){(0,V.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,R,J,Ie){var pt=this;return(0,a.Z)(function*(){!function de(L){var B,R,J,Ie,pt,jt,Ft,rn,Gt,Un;const Kt=Ne();(0,V.aA)("function"==typeof(null===(B=Kt?.universalLinks)||void 0===B?void 0:B.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aA)(typeof(null===(R=Kt?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aA)("function"==typeof(null===(pt=null===(Ie=null===(J=Kt?.cordova)||void 0===J?void 0:J.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===pt?void 0:pt.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(rn=null===(Ft=null===(jt=Kt?.cordova)||void 0===jt?void 0:jt.plugins)||void 0===Ft?void 0:Ft.browsertab)||void 0===rn?void 0:rn.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(Un=null===(Gt=Kt?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===Un?void 0:Un.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const jt=yield pt._initialize(B);yield jt.initialized(),jt.resetRedirect(),(0,V.aG)(),yield pt._originValidation(B);const Ft=function ke(L,B,R=null){return{type:B,eventId:R,urlResponse:null,sessionId:Et(),postBody:null,tenantId:L.tenantId,error:(0,V.az)(L,"no-auth-event")}}(B,J,Ie);yield function Je(L,B){return nt()._set(un(L),B)}(B,Ft);const rn=yield function Y(L,B,R){return K.apply(this,arguments)}(B,Ft,R),Gt=yield function Ue(L){const{cordova:B}=Ne();return new Promise(R=>{B.plugins.browsertab.isAvailable(J=>{let Ie=null;J?B.plugins.browsertab.openUrl(L):Ie=B.InAppBrowser.open(L,(0,V.ay)()?"_blank":"_system","location=yes"),R(Ie)})})}(rn);return function ct(L,B,R){return rt.apply(this,arguments)}(B,jt,Gt)})()}_isIframeWebStorageSupported(B,R){throw new Error("Method not implemented.")}_originValidation(B){const R=B._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function ne(L){return Ye.apply(this,arguments)}(B)),this.originValidationPromises[R]}attachCallbackListeners(B,R){const{universalLinks:J,handleOpenURL:Ie,BuildInfo:pt}=Ne(),jt=setTimeout((0,a.Z)(function*(){yield He(B),R.onEvent(Ge())}),500),Ft=function(){var Un=(0,a.Z)(function*(Kt){clearTimeout(jt);const hi=yield He(B);let Go=null;hi&&Kt?.url&&(Go=function st(L,B){var R,J;const Ie=function ye(L){const B=be(L),R=B.link?decodeURIComponent(B.link):void 0,J=be(R).link,Ie=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return be(Ie).link||Ie||J||R||L}(B);if(Ie.includes("/__/auth/callback")){const pt=be(Ie),jt=pt.firebaseError?function _t(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,Ft=null===(J=null===(R=jt?.code)||void 0===R?void 0:R.split("auth/"))||void 0===J?void 0:J[1],rn=Ft?(0,V.az)(Ft):null;return rn?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ie,postBody:null}}return null}(hi,Kt.url)),R.onEvent(Go||Ge())});return function(hi){return Un.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,Ft);const rn=Ie,Gt=`${pt.packageName.toLowerCase()}://`;Ne().handleOpenURL=function(){var Un=(0,a.Z)(function*(Kt){if(Kt.toLowerCase().startsWith(Gt)&&Ft({url:Kt}),"function"==typeof rn)try{rn(Kt)}catch(hi){console.error(hi)}});return function(Kt){return Un.apply(this,arguments)}}()}};function Ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.az)("no-auth-event")}}const Dt=1e3;function Ht(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function en(L=(0,ge.z$)()){return!("file:"!==Ht()&&"ionic:"!==Ht()&&"capacitor:"!==Ht()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vt(){try{const L=self.localStorage,B=V.aL();if(L)return L.setItem(B,"1"),L.removeItem(B),!function Yn(L=(0,ge.z$)()){return function Ln(){return(0,ge.w1)()&&11===document?.documentMode}()||function Li(L=(0,ge.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ge.hl)()}catch{return Hn()&&(0,ge.hl)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function wt(){return"http:"===Ht()||"https:"===Ht()}()||(0,ge.ru)()||en())&&!function wn(){return(0,ge.b$)()||(0,ge.UG)()}()&&Vt()&&!Hn()}function oe(){return en()&&typeof document<"u"}function ae(){return(ae=(0,a.Z)(function*(){return!!oe()&&new Promise(L=>{const B=setTimeout(()=>{L(!1)},Dt);document.addEventListener("deviceready",()=>{clearTimeout(B),L(!0)})})})).apply(this,arguments)}const Ve={LOCAL:"local",NONE:"none",SESSION:"session"},et=V.aA,pn="persistence";function Yt(L){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(L){yield L._initializationPromise;const B=vt(),R=V.aD(pn,L.config.apiKey,L.name);B&&B.setItem(R,L._getPersistence())})).apply(this,arguments)}function vt(){var L;try{return(null===(L=function se(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const tt=V.aA;class Fn{constructor(){this.browserResolver=V.aC(V.k),this.cordovaResolver=V.aC(Qe),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(B){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,R,J,Ie){var pt=this;return(0,a.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(B,R,J,Ie)})()}_openRedirect(B,R,J,Ie){var pt=this;return(0,a.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(B,R,J,Ie)})()}_isIframeWebStorageSupported(B,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,R)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return oe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,a.Z)(function*(){if(B.underlyingResolver)return;const R=yield function ee(){return ae.apply(this,arguments)}();B.underlyingResolver=R?B.cordovaResolver:B.browserResolver})()}}function xn(L){return L.unwrap()}function En(L){return Bn(L)}function Bn(L){const{_tokenResponse:B}=L instanceof ge.ZR?L.customData:L;if(!B)return null;if(!(L instanceof ge.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return V.P.credentialFromResult(L);const R=B.providerId;if(!R||R===V.p.PASSWORD)return null;let J;switch(R){case V.p.GOOGLE:J=V.V;break;case V.p.FACEBOOK:J=V.U;break;case V.p.GITHUB:J=V.W;break;case V.p.TWITTER:J=V.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:pt,oauthTokenSecret:jt,pendingToken:Ft,nonce:rn}=B;return pt||jt||Ie||Ft?Ft?R.startsWith("saml.")?V.aO._create(R,Ft):V.L._fromParams({providerId:R,signInMethod:R,pendingToken:Ft,idToken:Ie,accessToken:pt}):new V.X(R).credential({idToken:Ie,accessToken:pt,rawNonce:rn}):null}return L instanceof ge.ZR?J.credentialFromError(L):J.credentialFromResult(L)}function tn(L,B){return B.catch(R=>{throw R instanceof ge.ZR&&function Qn(L,B){var R;const J=null===(R=B.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new Ho(L,V.aq(L,B));else if(J){const Ie=Bn(B),pt=B;Ie&&(pt.credential=Ie,pt.tenantId=J.tenantId||void 0,pt.email=J.email||void 0,pt.phoneNumber=J.phoneNumber||void 0)}}(L,R),R}).then(R=>{const Ie=R.user;return{operationType:R.operationType,credential:En(R),additionalUserInfo:V.ao(R),user:nn.getOrCreate(Ie)}})}function mr(L,B){return gn.apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(L,B){const R=yield B;return{verificationId:R.verificationId,confirm:J=>tn(L,R.confirm(J))}})).apply(this,arguments)}class Ho{constructor(B,R){this.resolver=R,this.auth=function Rn(L){return L.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return tn(xn(this.auth),this.resolver.resolveSignIn(B))}}class nn{constructor(B){this._delegate=B,this.multiFactor=V.ar(B)}static getOrCreate(B){return nn.USER_MAP.has(B)||nn.USER_MAP.set(B,new nn(B)),nn.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var R=this;return(0,a.Z)(function*(){return tn(R.auth,V.a0(R._delegate,B))})()}linkWithPhoneNumber(B,R){var J=this;return(0,a.Z)(function*(){return mr(J.auth,V.l(J._delegate,B,R))})()}linkWithPopup(B){var R=this;return(0,a.Z)(function*(){return tn(R.auth,V.d(R._delegate,B,Fn))})()}linkWithRedirect(B){var R=this;return(0,a.Z)(function*(){return yield Yt(V.aH(R.auth)),V.g(R._delegate,B,Fn)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var R=this;return(0,a.Z)(function*(){return tn(R.auth,V.a1(R._delegate,B))})()}reauthenticateWithPhoneNumber(B,R){return mr(this.auth,V.r(this._delegate,B,R))}reauthenticateWithPopup(B){return tn(this.auth,V.e(this._delegate,B,Fn))}reauthenticateWithRedirect(B){var R=this;return(0,a.Z)(function*(){return yield Yt(V.aH(R.auth)),V.h(R._delegate,B,Fn)})()}sendEmailVerification(B){return V.ae(this._delegate,B)}unlink(B){var R=this;return(0,a.Z)(function*(){return yield V.an(R._delegate,B),R})()}updateEmail(B){return V.aj(this._delegate,B)}updatePassword(B){return V.ak(this._delegate,B)}updatePhoneNumber(B){return V.u(this._delegate,B)}updateProfile(B){return V.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,R){return V.af(this._delegate,B,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nn.USER_MAP=new WeakMap;const si=V.aA;let di=(()=>{class L{constructor(R,J){if(this.app=R,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=R.options;si(Ie,"invalid-api-key",{appName:R.name}),si(Ie,"invalid-api-key",{appName:R.name});const pt=typeof window<"u"?Fn:void 0;this._delegate=J.initialize({options:{persistence:Gn(Ie,R.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(V.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,J){V.I(this._delegate,R,J)}applyActionCode(R){return V.a5(this._delegate,R)}checkActionCode(R){return V.a6(this._delegate,R)}confirmPasswordReset(R,J){return V.a4(this._delegate,R,J)}createUserWithEmailAndPassword(R,J){var Ie=this;return(0,a.Z)(function*(){return tn(Ie._delegate,V.a8(Ie._delegate,R,J))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return V.ad(this._delegate,R)}isSignInWithEmailLink(R){return V.ab(this._delegate,R)}getRedirectResult(){var R=this;return(0,a.Z)(function*(){si(Jn(),R._delegate,"operation-not-supported-in-this-environment");const J=yield V.j(R._delegate,Fn);return J?tn(R._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function yt(L,B){(0,V.aH)(L)._logFramework(B)}(this._delegate,R)}onAuthStateChanged(R,J,Ie){const{next:pt,error:jt,complete:Ft}=rr(R,J,Ie);return this._delegate.onAuthStateChanged(pt,jt,Ft)}onIdTokenChanged(R,J,Ie){const{next:pt,error:jt,complete:Ft}=rr(R,J,Ie);return this._delegate.onIdTokenChanged(pt,jt,Ft)}sendSignInLinkToEmail(R,J){return V.aa(this._delegate,R,J)}sendPasswordResetEmail(R,J){return V.a3(this._delegate,R,J||void 0)}setPersistence(R){var J=this;return(0,a.Z)(function*(){let Ie;switch(function Xt(L,B){et(Object.values(Ve).includes(B),L,"invalid-persistence-type"),(0,ge.b$)()?et(B!==Ve.SESSION,L,"unsupported-persistence-type"):(0,ge.UG)()?et(B===Ve.NONE,L,"unsupported-persistence-type"):Hn()?et(B===Ve.NONE||B===Ve.LOCAL&&(0,ge.hl)(),L,"unsupported-persistence-type"):et(B===Ve.NONE||Vt(),L,"unsupported-persistence-type")}(J._delegate,R),R){case Ve.SESSION:Ie=V.a;break;case Ve.LOCAL:Ie=(yield V.aC(V.i)._isAvailable())?V.i:V.b;break;case Ve.NONE:Ie=V.N;break;default:return V.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return tn(this._delegate,V._(this._delegate))}signInWithCredential(R){return tn(this._delegate,V.$(this._delegate,R))}signInWithCustomToken(R){return tn(this._delegate,V.a2(this._delegate,R))}signInWithEmailAndPassword(R,J){return tn(this._delegate,V.a9(this._delegate,R,J))}signInWithEmailLink(R,J){return tn(this._delegate,V.ac(this._delegate,R,J))}signInWithPhoneNumber(R,J){return mr(this._delegate,V.s(this._delegate,R,J))}signInWithPopup(R){var J=this;return(0,a.Z)(function*(){return si(Jn(),J._delegate,"operation-not-supported-in-this-environment"),tn(J._delegate,V.c(J._delegate,R,Fn))})()}signInWithRedirect(R){var J=this;return(0,a.Z)(function*(){return si(Jn(),J._delegate,"operation-not-supported-in-this-environment"),yield Yt(J._delegate),V.f(J._delegate,R,Fn)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return V.a7(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=Ve,L})();function rr(L,B,R){let J=L;"function"!=typeof L&&({next:J,error:B,complete:R}=L);const Ie=J;return{next:jt=>Ie(jt&&nn.getOrCreate(jt)),error:B,complete:R}}function Gn(L,B){const R=function Jt(L,B){const R=vt();if(!R)return[];const J=V.aD(pn,L,B);switch(R.getItem(J)){case Ve.NONE:return[V.N];case Ve.LOCAL:return[V.i,V.a];case Ve.SESSION:return[V.a];default:return[]}}(L,B);if(typeof self<"u"&&!R.includes(V.i)&&R.push(V.i),typeof window<"u")for(const J of[V.b,V.a])R.includes(J)||R.push(J);return R.includes(V.N)||R.push(V.N),R}class Cr{constructor(){this.providerId="phone",this._delegate=new V.P(xn(O.Z.auth()))}static credential(B,R){return V.P.credential(B,R)}verifyPhoneNumber(B,R){return this._delegate.verifyPhoneNumber(B,R)}unwrap(){return this._delegate}}Cr.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,Cr.PROVIDER_ID=V.P.PROVIDER_ID;const Vr=V.aA;class Ir{constructor(B,R,J=O.Z.app()){var Ie;Vr(null===(Ie=J.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new V.R(B,R,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(L){L.INTERNAL.registerComponent(new Le.wA("auth-compat",B=>{const R=B.getProvider("app-compat").getImmediate(),J=B.getProvider("auth");return new di(R,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.Q,FacebookAuthProvider:V.U,GithubAuthProvider:V.W,GoogleAuthProvider:V.V,OAuthProvider:V.X,SAMLAuthProvider:V.Y,PhoneAuthProvider:Cr,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:Ir,TwitterAuthProvider:V.Z,Auth:di,AuthCredential:V.J,Error:ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.1")}(O.Z)},5861:(At,fe,$)=>{"use strict";function a(V,ge,xe,me,Le,Ne,We){try{var Y=V[Ne](We),K=Y.value}catch(ne){return void xe(ne)}Y.done?ge(K):Promise.resolve(K).then(me,Le)}function O(V){return function(){var ge=this,xe=arguments;return new Promise(function(me,Le){var Ne=V.apply(ge,xe);function We(K){a(Ne,me,Le,We,Y,"next",K)}function Y(K){a(Ne,me,Le,We,Y,"throw",K)}We(void 0)})}}$.d(fe,{Z:()=>O})}},At=>{var fe=a=>At(At.s=a);fe(1321),fe(8740)}]);